import{b as $e}from"./breadcrumbKyc-e08e7530.js";import{t as Ce}from"./tabs-e67d25b1.js";import{m as A,_ as N,r as g,o,c as l,a as e,b as y,v as f,x as O,e as k,A as p,s as x,q as D,F as T,u as I,t as v,D as R,T as Se,g as Te,H as Ae}from"./index-34759eb9.js";import{s as we}from"./index-22b59d24.js";import{S as ne,h as re,U as ie,G as le,V as de}from"./transition-a66928ba.js";import{B as Re,N as Ne,K as je,U as Ie,H as Pe,r as Me,a as Le}from"./ChevronUpDownIcon-0d2974cb.js";import"./HomeIcon-16d7222e.js";import"./hidden-ec4da4f0.js";import"./use-text-value-d63c4d40.js";const Ve={setCookie(t,a){var u=t+"="+encodeURIComponent(a),c=new Date,s=c.getDate();let r=c.getMonth()+1;var m=r>9?r:`0${r}`,d=c.getFullYear(),n=`${s}/${m}/${d}/23:59:59`;c.setDate(n),u+="; max-age="+c+";SameSite=strict",document.cookie=u}},Oe={mixins:[Ve],data(){return{panNumber:"",nameAsPan:"",nameAsAadhar:"",panStatusCode:"",kraRespDate:"",trackWiz:"",docType1:"PAN",docType2:"SIGNATURE"}},computed:{...A("approval",["getCustomerData","getDocumentData","getDocumentDataClone","getStageData"])},mounted(){var t,a,u,c,s,r,m,d,n,i,h,_,w,b,$,C,P,M,L,S,V,j,U,B,H,E,F,K,z,q,W,J,Y,G,Q,X;this.getCustomerData&&((t=this.getCustomerData)!=null&&t.opportunity_data)&&((a=this.getCustomerData.opportunity_data)!=null&&a.fsl_pan_no&&(this.panNumber=(u=this.getCustomerData.opportunity_data)==null?void 0:u.fsl_pan_no),(c=this.getCustomerData.opportunity_data)!=null&&c.fsl_esiged_name&&(this.nameAsPan=(s=this.getCustomerData.opportunity_data)==null?void 0:s.fsl_esiged_name),(r=this.getCustomerData.opportunity_data)!=null&&r.fsl_esiged_name&&(this.nameAsAadhar=(m=this.getCustomerData.opportunity_data)==null?void 0:m.fsl_esiged_name),(d=this.getCustomerData.opportunity_data)!=null&&d.fsl_pan_status_code&&((n=this.getCustomerData.opportunity_data)!=null&&n.fsl_pan_status_code_description)&&(this.panStatusCode=`${(i=this.getCustomerData.opportunity_data)==null?void 0:i.fsl_pan_status_code} - ${(h=this.getCustomerData.opportunity_data)==null?void 0:h.fsl_pan_status_code_description}`),(_=this.getCustomerData.opportunity_data)!=null&&_.fsl_kra_response_date&&(this.kraRespDate=window.formatDate((w=this.getCustomerData.opportunity_data)==null?void 0:w.fsl_kra_response_date,"D"))),this.getCustomerData&&((b=this.getCustomerData)!=null&&b.profile_data)&&($=this.getCustomerData.profile_data)!=null&&$.trackwizz_passkey&&(this.trackWiz=(C=this.getCustomerData.profile_data)==null?void 0:C.trackwizz_passkey),this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(M=(P=this.getCustomerData)==null?void 0:P.opportunity_data)==null?void 0:M.name}&documentType=${this.docType1}&userId=${(S=(L=this.$store.state.login)==null?void 0:L.userData)==null?void 0:S.user}&sessId=${(U=(j=(V=this.$store.state)==null?void 0:V.login)==null?void 0:j.userData)==null?void 0:U.sid}&token=${(E=(H=(B=this.$store.state)==null?void 0:B.login)==null?void 0:H.userData)==null?void 0:E.tempToken}`,type:"preview",docType:this.docType1}),this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(K=(F=this.getCustomerData)==null?void 0:F.opportunity_data)==null?void 0:K.name}&documentType=${this.docType2}&userId=${(q=(z=this.$store.state.login)==null?void 0:z.userData)==null?void 0:q.user}&sessId=${(Y=(J=(W=this.$store.state)==null?void 0:W.login)==null?void 0:J.userData)==null?void 0:Y.sid}&token=${(X=(Q=(G=this.$store.state)==null?void 0:G.login)==null?void 0:Q.userData)==null?void 0:X.tempToken}`,type:"clone",docType:this.docType2})}},Ue={class:"grid grid-cols-12"},Be={class:"col-span-6"},He={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Ee={class:"sm:col-span-3"},Fe=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"PAN Number",-1),Ke={class:"mt-2"},ze={class:"sm:col-span-3"},qe=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Name as per PAN",-1),We={class:"mt-2"},Je={class:"sm:col-span-3"},Ye=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"PAN Status Code",-1),Ge={class:"mt-2"},Qe={class:"sm:col-span-3"},Xe=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Name as per Aadhar",-1),Ze={class:"mt-2"},et={class:"sm:col-span-3"},tt=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"KRA Response Date",-1),st={class:"mt-2"},at={class:"sm:col-span-3"},ot=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Track Wiz",-1),nt={class:"mt-2"},rt={class:"col-span-6"};function it(t,a,u,c,s,r){const m=g("rejectReason"),d=g("preview_file");return o(),l("div",Ue,[e("div",Be,[e("div",He,[e("div",Ee,[Fe,e("div",Ke,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.panNumber=n)},null,512),[[f,s.panNumber]])])]),e("div",ze,[qe,e("div",We,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=n=>s.nameAsPan=n)},null,512),[[f,s.nameAsPan]])])]),e("div",Je,[Ye,e("div",Ge,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=n=>s.panStatusCode=n)},null,512),[[f,s.panStatusCode]])])]),e("div",Qe,[Xe,e("div",Ze,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=n=>s.nameAsAadhar=n)},null,512),[[f,s.nameAsAadhar]])])]),e("div",et,[tt,e("div",st,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=n=>s.kraRespDate=n)},null,512),[[f,s.kraRespDate]])])]),e("div",at,[ot,e("div",nt,[y(e("input",{type:"text",id:"nameAsPan",class:O(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",s.trackWiz&&s.trackWiz.toString().toLowerCase()=="match"?"bg-red-600 text-white ring-red-300":""]),disabled:"","onUpdate:modelValue":a[5]||(a[5]=n=>s.trackWiz=n)},null,2),[[f,s.trackWiz]])])])]),t.getStageData["pan status"]=="Rejected"&&t.getStageData["Pan remarks"]!=""?(o(),k(m,{key:0,reason:t.getStageData["Pan remarks"]},null,8,["reason"])):p("",!0)]),e("div",rt,[x(d,{previewType:t.getDocumentData.type,previewData:t.getDocumentData.data,isPreBtn:!0,preFerence:s.docType1},null,8,["previewType","previewData","preFerence"]),x(d,{previewType:t.getDocumentDataClone.type,previewData:t.getDocumentDataClone.data,isPreBtn:!1,preFerence:s.docType1},null,8,["previewType","previewData","preFerence"])])])}const lt=N(Oe,[["render",it]]),dt={data(){return{formateJSON:!1,copyText:!0,copyTextRes:!0}},props:{xmlValue:{required:!0}},methods:{closeDialog(){this.$store.commit("approval/setIsShowKradetails",!1)},isJsonString(t){try{JSON.parse(t)}catch{return t}return JSON.parse(t)},copyResponseBody(){this.copyTextRes=!1,navigator.clipboard.writeText(JSON.stringify(this.xmlValue)),document.getElementById("jsonDataRes"),document.execCommand("copy"),setInterval(()=>{this.copyTextRes=!0},2e3)}},computed:{...A("approval",["getIsShowKradetails"])},components:{TransitionRoot:ne,TransitionChild:re,Dialog:ie,DialogPanel:le,DialogTitle:de,JsonViewer:we},unmounted(){this.$store.commit("approval/setXmlValue","")}},ct=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),mt={class:"fixed inset-0 overflow-y-auto"},ut={class:"flex min-h-full items-center justify-center p-4 text-center"},pt=e("div",{class:"flex justify-between items-center mt-6 text-xs"},[e("p",null,"KRA Response :")],-1);function gt(t,a,u,c,s,r){const m=g("TransitionChild"),d=g("JsonViewer"),n=g("DialogTitle"),i=g("DialogPanel"),h=g("Dialog"),_=g("TransitionRoot");return o(),l("div",null,[x(_,{appear:"",show:t.getIsShowKradetails,as:"template"},{default:D(()=>[x(h,{as:"div",class:"relative z-10",onClose:a[0]||(a[0]=w=>r.closeDialog())},{default:D(()=>[x(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:D(()=>[ct]),_:1}),e("div",mt,[e("div",ut,[x(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:D(()=>[x(i,{class:"w-full max-w-md transform overflow-hidden radius p-6 text-left align-middle bg-white rounded max-h-[500px] overflow-y-auto"},{default:D(()=>[x(n,{as:"h3",class:"text-base pb-2 font-medium leading-6 primaryColor"},{default:D(()=>[e("div",null,[pt,x(d,{class:"!text-xs",value:u.xmlValue},null,8,["value"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const _t=N(dt,[["render",gt]]),ht=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
</svg>`,yt={components:{kraDetails:_t},data(){return{address:"",aadharNo:"",source:"",kraAddressProof:"",kraAddressProofId:"",infoSvg:ht}},computed:{...A("approval",["getCustomerData","getStageData","getIsShowKradetails","getXmlValue"])},methods:{getKraDetails(){var t,a,u,c,s,r,m,d,n,i;this.$store.dispatch("approval/getKraDetails",`applicationId=${(a=(t=this.getCustomerData)==null?void 0:t.opportunity_data)==null?void 0:a.name}&userId=${(c=(u=this.$store.state.login)==null?void 0:u.userData)==null?void 0:c.user}&sessId=${(m=(r=(s=this.$store.state)==null?void 0:s.login)==null?void 0:r.userData)==null?void 0:m.sid}&token=${(i=(n=(d=this.$store.state)==null?void 0:d.login)==null?void 0:n.userData)==null?void 0:i.tempToken}`).finally(()=>{this.$store.commit("approval/setIsShowKradetails",!0)})}},mounted(){var t,a,u,c,s,r,m,d,n,i,h,_,w,b,$,C,P,M,L,S,V,j;this.getCustomerData&&((t=this.getCustomerData.address_data)==null?void 0:t.fsl_is_kra)==1&&(this.address=`${(a=this.getCustomerData.address_data)!=null&&a.fsl_kra_address_1?(u=this.getCustomerData.address_data)==null?void 0:u.fsl_kra_address_1:""}&#013;&#010;${(c=this.getCustomerData.address_data)!=null&&c.fsl_kra_address_2?(s=this.getCustomerData.address_data)==null?void 0:s.fsl_kra_address_2:""}&#013;&#010;${(r=this.getCustomerData.address_data)!=null&&r.fsl_kra_address_3?(m=this.getCustomerData.address_data)==null?void 0:m.fsl_kra_address_3:""}&#013;&#010;${(d=this.getCustomerData.address_data)!=null&&d.fsl_kra_city?(n=this.getCustomerData.address_data)==null?void 0:n.fsl_kra_city:""} - ${(i=this.getCustomerData.address_data)!=null&&i.fsl_kra_per_pin?(h=this.getCustomerData.address_data)==null?void 0:h.fsl_kra_per_pin:""}&#013;&#010;${(_=this.getCustomerData.address_data)!=null&&_.fsl_kra_per_state?(w=this.getCustomerData.address_data)==null?void 0:w.fsl_kra_per_state:""}, ${(b=this.getCustomerData.address_data)!=null&&b.fsl_kra_country?($=this.getCustomerData.address_data)==null?void 0:$.fsl_kra_country:""}.`,this.aadharNo="",this.source="KRA",(C=this.getCustomerData.address_data)!=null&&C.fsl_kra_address_proof&&(this.kraAddressProof=(P=this.getCustomerData.address_data)==null?void 0:P.fsl_kra_address_proof),(M=this.getCustomerData.address_data)!=null&&M.fsl_kra_proof_idnumber&&(this.kraAddressProofId=(L=this.getCustomerData.address_data)==null?void 0:L.fsl_kra_proof_idnumber)),this.getCustomerData&&((S=this.getCustomerData.address_data)==null?void 0:S.fsl_is_digi)==1&&((V=this.getCustomerData.address_data)!=null&&V.fsl_digi_cur_address&&(this.address=(j=this.getCustomerData.address_data)==null?void 0:j.fsl_digi_cur_address),this.source="DIGIO",this.getCustomerData&&(this.kraAddressProof=this.getCustomerData),this.getCustomerData&&(this.kraAddressProofId=this.getCustomerData),this.getCustomerData.address_data.fsl_aadhaar_no&&(this.aadharNo=this.getCustomerData.address_data.fsl_aadhaar_no))}},ft={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 md:grid-cols-3"},vt={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},bt={class:"col-span-full"},xt=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),kt={class:"mt-2"},Dt=["innerHTML"],wt={class:"col-span-full"},$t=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Source",-1),Ct={class:"mt-2"},St={key:0,class:"col-span-full"},Tt={key:0,class:"flex justify-between"},At={class:"w-[48%]"},Rt=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"KRA Address Proof",-1),Nt={class:"mt-2"},jt={class:"w-[48%]"},It=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"KRA Proof Id Number",-1),Pt={class:"flex gap-3"},Mt={class:"mt-2"},Lt=["innerHTML"],Vt={key:1,class:"sm:col-span-3"},Ot=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Aadhar Number",-1),Ut={class:"mt-2"};function Bt(t,a,u,c,s,r){const m=g("rejectReason"),d=g("kraDetails");return o(),l(T,null,[e("div",ft,[e("div",vt,[e("div",bt,[xt,e("div",kt,[e("textarea",{disabled:"",name:"message",id:"message",rows:"5",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",innerHTML:s.address},null,8,Dt)])]),e("div",wt,[$t,e("div",Ct,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.source=n)},null,512),[[f,s.source]])])]),s.source?(o(),l("div",St,[s.source=="KRA"?(o(),l("div",Tt,[e("div",At,[Rt,e("div",Nt,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=n=>s.kraAddressProof=n)},null,512),[[f,s.kraAddressProof]])])]),e("div",jt,[It,e("div",Pt,[e("div",Mt,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=n=>s.kraAddressProofId=n)},null,512),[[f,s.kraAddressProofId]])]),s.source=="KRA"?(o(),l("div",{key:0,class:"flex items-end w-[24px] cursor-pointer",innerHTML:s.infoSvg,onClick:a[3]||(a[3]=n=>r.getKraDetails())},null,8,Lt)):p("",!0)])])])):(o(),l("div",Vt,[Ot,e("div",Ut,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=n=>s.aadharNo=n)},null,512),[[f,s.aadharNo]])])]))])):p("",!0)])]),t.getStageData["address status"]=="Rejected"&&t.getStageData["address remarks"]!=""?(o(),k(m,{key:0,reason:t.getStageData["address remarks"]},null,8,["reason"])):p("",!0),t.getIsShowKradetails?(o(),k(d,{key:1,xmlValue:t.getXmlValue},null,8,["xmlValue"])):p("",!0)],64)}const Ht=N(yt,[["render",Bt]]),Et=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
</svg>
`,Ft=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
</svg>
`,Kt={data(){return{fathersName:"",mothersName:"",occupation:"",tradingExp:"",annualIncome:"",netWorth:"",maritalStatus:"",isPoliticalExposedPerson:"",taxOutSideIndia:"",settlementCycle:"",standingInstruction:"",fatca:"",otherStandingIntrustions:[],upArrow:Et,downArrow:Ft,isOpen:!1,standingInstrationsArray:[{key:"standing_instruction_one",content:"I/We instruct the DP to receive each and every credit in my/our account (If not marked,the default option would be Yes)",value:""},{key:"standing_instruction_two",content:"SMS Alert Facility: Mobile No. +91 Mandatory, if you are giving power of Attorney (POA / DDPI). If POA is not granted & you do not wish to avail of this facility, cancel this option.",value:""},{key:"standing_instruction_three",content:"Account Statement Requirement.",value:""},{key:"standing_instruction_four",content:"I/We wish to receive all documents viz., Contract Note / Transaction and Holding Statement etc in Electronic mode. Authorisation for sending documents through email id: is being executed.",value:""},{key:"standing_instruction_five",content:"I/We wish to receive dividend/interest directly in to my/our bank account provided through ECS [ECS is mandatory for locations notified by SEBI from time to time].",value:""},{key:"standing_instruction_six",content:"I/We wish to register myself in CDSL - easi facility (I/We understand that Easi allows a BO to view ISIN balances, transactions and value of the portfolio online).",value:""},{key:"standing_instruction_seven",content:"I/We wish to avail the facility of Internet Trading / Wireless Technology.",value:""},{key:"standing_instruction_eight",content:"I/We hereby instruct DP to accept all the pledge instructions in my/our account without any other further instructions.",value:""},{key:"standing_instruction_nine",content:"I/We would like to share the email ID with the RTA.",value:""},{key:"standing_instruction_ten",content:"Do you wish to receive the notifications through Whatsapp.",value:""},{key:"standing_instruction_twelve",content:"I/We require the Delivery Instruction Slip at the time of account opening.",value:""},{key:"standing_instruction_eleven",content:"I/We would like to receive the Annual Report of companies held by me/us. (Tick the appropriate box. If not marked the default option would be in Physical).",value:""}],isStandingInstrutions:!1}},computed:{...A("approval",["getCustomerData","getStageData"])},mounted(){var t,a,u,c,s,r,m,d,n,i,h,_,w,b,$,C,P,M,L,S,V,j,U,B,H,E,F,K,z,q,W,J,Y,G,Q,X,Z,ee,te,se,ae,oe,ue,pe,ge,_e,he,ye,fe,ve,be,xe,ke,De;if(this.getCustomerData&&(this.getCustomerData.opportunity_data&&(a=(t=this.getCustomerData)==null?void 0:t.opportunity_data)!=null&&a.fsl_fatca&&(this.fatca=(c=(u=this.getCustomerData)==null?void 0:u.opportunity_data)==null?void 0:c.fsl_fatca),this.getCustomerData.profile_data)){(r=(s=this.getCustomerData)==null?void 0:s.profile_data)!=null&&r.annual_income&&(this.annualIncome=(m=this.getCustomerData)==null?void 0:m.profile_data.annual_income),(d=this.getCustomerData)!=null&&d.profile_data.father_name&&(this.fathersName=(i=(n=this.getCustomerData)==null?void 0:n.profile_data)==null?void 0:i.father_name),(_=(h=this.getCustomerData)==null?void 0:h.profile_data)!=null&&_.marital_status&&(this.maritalStatus=(b=(w=this.getCustomerData)==null?void 0:w.profile_data)==null?void 0:b.marital_status),(C=($=this.getCustomerData)==null?void 0:$.profile_data)!=null&&C.political_exposure&&(this.isPoliticalExposedPerson=(M=(P=this.getCustomerData)==null?void 0:P.profile_data)==null?void 0:M.political_exposure),(S=(L=this.getCustomerData)==null?void 0:L.profile_data)!=null&&S.tax_outside_india&&(this.taxOutSideIndia=(j=(V=this.getCustomerData)==null?void 0:V.profile_data)==null?void 0:j.tax_outside_india),(B=(U=this.getCustomerData)==null?void 0:U.profile_data)!=null&&B.settlement_cycle&&(this.settlementCycle=(E=(H=this.getCustomerData)==null?void 0:H.profile_data)==null?void 0:E.settlement_cycle),(K=(F=this.getCustomerData)==null?void 0:F.profile_data)!=null&&K.fatca&&(this.fatca=(q=(z=this.getCustomerData)==null?void 0:z.profile_data)==null?void 0:q.fatca),(J=(W=this.getCustomerData)==null?void 0:W.profile_data)!=null&&J.mother_name&&(this.mothersName=(G=(Y=this.getCustomerData)==null?void 0:Y.profile_data)==null?void 0:G.mother_name),(X=(Q=this.getCustomerData)==null?void 0:Q.profile_data)!=null&&X.standinginstructios&&(this.standingInstruction=(ee=(Z=this.getCustomerData)==null?void 0:Z.profile_data)==null?void 0:ee.standinginstructios),(se=(te=this.getCustomerData)==null?void 0:te.profile_data)!=null&&se.occupation&&(this.occupation=(oe=(ae=this.getCustomerData)==null?void 0:ae.profile_data)==null?void 0:oe.occupation),(pe=(ue=this.getCustomerData)==null?void 0:ue.profile_data)!=null&&pe.trading_experience&&(this.tradingExp=(_e=(ge=this.getCustomerData)==null?void 0:ge.profile_data)==null?void 0:_e.trading_experience),(ye=(he=this.getCustomerData)==null?void 0:he.profile_data)!=null&&ye.net_worth&&(this.netWorth=(ve=(fe=this.getCustomerData)==null?void 0:fe.profile_data)==null?void 0:ve.net_worth),(xe=(be=this.getCustomerData)==null?void 0:be.profile_data)!=null&&xe.standinginstructios&&((De=(ke=this.getCustomerData)==null?void 0:ke.profile_data)==null?void 0:De.standinginstructios)=="Yes"&&(this.isStandingInstrutions=!0);for(let ce of this.standingInstrationsArray)this.getCustomerData.profile_data[ce.key]&&(ce.value=this.getCustomerData.profile_data[ce.key])}}},zt={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-12 md:grid-cols-2"},qt={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-12 md:col-span-2"},Wt={class:"sm:col-span-3"},Jt=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Father's / Spouse Name",-1),Yt={class:"mt-2"},Gt={class:"sm:col-span-3"},Qt=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Mother's Name",-1),Xt={class:"mt-2"},Zt={class:"sm:col-span-3"},es=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Occupation",-1),ts={class:"mt-2"},ss={class:"sm:col-span-3"},as=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Trading Experience",-1),os={class:"mt-2"},ns={class:"sm:col-span-3"},rs=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Annual Income",-1),is={class:"mt-2"},ls={class:"sm:col-span-3"},ds=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Net Worth",-1),cs={class:"mt-2"},ms={class:"sm:col-span-3"},us=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Marital Status",-1),ps={class:"mt-2"},gs={class:"sm:col-span-3"},_s=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Politically Exposed Person ?",-1),hs={class:"mt-2"},ys={class:"sm:col-span-3"},fs=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Tax Outside India",-1),vs={class:"mt-2"},bs={class:"sm:col-span-3"},xs=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Settlement Cycle",-1),ks={class:"mt-2"},Ds={class:"sm:col-span-3"},ws=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"FATCA",-1),$s={class:"mt-2"},Cs={key:0,class:"my-4 flex flex-col gap-4"},Ss={class:"cursor-pointer p-4 shadow rounded-lg bg-white transition duration-1000 ease-in-out w-full"},Ts=e("div",{class:"text-sm font-semibold"}," Standing Instructions ",-1),As=["innerHTML"],Rs=["innerHTML"],Ns={key:0,class:"mt-4"};function js(t,a,u,c,s,r){const m=g("rejectReason");return o(),l(T,null,[e("div",zt,[e("div",qt,[e("div",Wt,[Jt,e("div",Yt,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=d=>s.fathersName=d)},null,512),[[f,s.fathersName]])])]),e("div",Gt,[Qt,e("div",Xt,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=d=>s.mothersName=d)},null,512),[[f,s.mothersName]])])]),e("div",Zt,[es,e("div",ts,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=d=>s.occupation=d)},null,512),[[f,s.occupation]])])]),e("div",ss,[as,e("div",os,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=d=>s.tradingExp=d)},null,512),[[f,s.tradingExp]])])]),e("div",ns,[rs,e("div",is,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=d=>s.annualIncome=d)},null,512),[[f,s.annualIncome]])])]),e("div",ls,[ds,e("div",cs,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=d=>s.netWorth=d)},null,512),[[f,s.netWorth]])])]),e("div",ms,[us,e("div",ps,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[6]||(a[6]=d=>s.maritalStatus=d)},null,512),[[f,s.maritalStatus]])])]),e("div",gs,[_s,e("div",hs,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[7]||(a[7]=d=>s.isPoliticalExposedPerson=d)},null,512),[[f,s.isPoliticalExposedPerson]])])]),e("div",ys,[fs,e("div",vs,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[8]||(a[8]=d=>s.taxOutSideIndia=d)},null,512),[[f,s.taxOutSideIndia]])])]),e("div",bs,[xs,e("div",ks,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[9]||(a[9]=d=>s.settlementCycle=d)},null,512),[[f,s.settlementCycle]])])]),e("div",Ds,[ws,e("div",$s,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[10]||(a[10]=d=>s.fatca=d)},null,512),[[f,s.fatca]])])])])]),s.isStandingInstrutions?(o(),l("div",Cs,[e("div",Ss,[e("div",{class:"flex justify-between gap-3",onClick:a[11]||(a[11]=d=>s.isOpen=!s.isOpen)},[Ts,e("div",null,[s.isOpen?p("",!0):(o(),l("div",{key:0,innerHTML:s.downArrow},null,8,As)),s.isOpen?(o(),l("div",{key:1,innerHTML:s.upArrow},null,8,Rs)):p("",!0)])]),s.isOpen?(o(),l("div",Ns,[(o(!0),l(T,null,I(s.standingInstrationsArray,(d,n)=>(o(),l("div",{key:n,class:"flex align-center text-sm justify-between pb-2"},[e("div",null,v(d.content),1),R(),e("div",null,v(d.value),1)]))),128))])):p("",!0)])])):p("",!0),t.getStageData["profile status"]=="Rejected"&&t.getStageData["Profile remarks"]!=""?(o(),k(m,{key:1,reason:t.getStageData["Profile remarks"]},null,8,["reason"])):p("",!0)],64)}const Is=N(Kt,[["render",js]]),Ps={data(){return{bankName:"",branchName:"",ifscCode:"",micrCode:"",acHolderName:"",acNo:"",pennyVerifyStatus:"",address:"",attachmentName:"CANCELLED_CHEQUE_OR_STATEMENT"}},computed:{...A("approval",["getCustomerData","getDocumentData","getStageData"])},mounted(){var t,a,u,c,s,r,m,d,n,i;this.getCustomerData&&this.getCustomerData.opportunity_data&&(this.getCustomerData.opportunity_data.fsl_bank_name&&(this.bankName=this.getCustomerData.opportunity_data.fsl_bank_name),this.getCustomerData.opportunity_data.fsl_bank_branch&&(this.branchName=this.getCustomerData.opportunity_data.fsl_bank_branch),this.getCustomerData.opportunity_data.fsl_bank_ifsc&&(this.ifscCode=this.getCustomerData.opportunity_data.fsl_bank_ifsc),this.getCustomerData.opportunity_data.fsl_bank_micr&&(this.micrCode=this.getCustomerData.opportunity_data.fsl_bank_micr),this.getCustomerData.opportunity_data.fsl_acc_hname&&(this.acHolderName=this.getCustomerData.opportunity_data.fsl_acc_hname),this.getCustomerData.opportunity_data.fsl_verify_acc_number&&(this.acNo=this.getCustomerData.opportunity_data.fsl_verify_acc_number),this.getCustomerData.opportunity_data.hasOwnProperty("fsl_penny_confirm")&&(this.pennyVerifyStatus=this.getCustomerData.opportunity_data.fsl_penny_confirm==1?"Success":"Failed"),this.getCustomerData.opportunity_data.fsl_bank_address&&(this.address=this.getCustomerData.opportunity_data.fsl_bank_address)),this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(a=(t=this.getCustomerData)==null?void 0:t.opportunity_data)==null?void 0:a.name}&documentType=${this.attachmentName}&userId=${(c=(u=this.$store.state.login)==null?void 0:u.userData)==null?void 0:c.user}&sessId=${(m=(r=(s=this.$store.state)==null?void 0:s.login)==null?void 0:r.userData)==null?void 0:m.sid}&token=${(i=(n=(d=this.$store.state)==null?void 0:d.login)==null?void 0:n.userData)==null?void 0:i.tempToken}`,type:"preview",docType:"CANCELLED_CHEQUE_OR_STATEMENT"})}},Ms={class:"grid grid-cols-12"},Ls={class:"col-span-6"},Vs={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Os={class:"col-span-full"},Us=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Penny Drop Verification Status",-1),Bs={class:"mt-2"},Hs={class:"sm:col-span-3"},Es=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Account Holder Name",-1),Fs={class:"mt-2"},Ks={class:"sm:col-span-3"},zs=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Account Number",-1),qs={class:"mt-2"},Ws={class:"sm:col-span-3"},Js=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"IFSC Code",-1),Ys={class:"mt-2"},Gs={class:"sm:col-span-3"},Qs=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"MICR Code",-1),Xs={class:"mt-2"},Zs={class:"sm:col-span-3"},ea=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Bank Name",-1),ta={class:"mt-2"},sa={class:"sm:col-span-3"},aa=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Branch Name",-1),oa={class:"mt-2"},na={class:"col-span-full"},ra=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address of Bank",-1),ia={class:"mt-2"},la={class:"col-span-6"},da={class:"rounded-lg my-4 h-[320px]"};function ca(t,a,u,c,s,r){const m=g("preview_file"),d=g("rejectReason");return o(),l(T,null,[e("div",Ms,[e("div",Ls,[e("div",Vs,[e("div",Os,[Us,e("div",Bs,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.pennyVerifyStatus=n)},null,512),[[f,s.pennyVerifyStatus]])])]),e("div",Hs,[Es,e("div",Fs,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=n=>s.acHolderName=n)},null,512),[[f,s.acHolderName]])])]),e("div",Ks,[zs,e("div",qs,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=n=>s.acNo=n)},null,512),[[f,s.acNo]])])]),e("div",Ws,[Js,e("div",Ys,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=n=>s.ifscCode=n)},null,512),[[f,s.ifscCode]])])]),e("div",Gs,[Qs,e("div",Xs,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=n=>s.micrCode=n)},null,512),[[f,s.micrCode]])])]),e("div",Zs,[ea,e("div",ta,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=n=>s.bankName=n)},null,512),[[f,s.bankName]])])]),e("div",sa,[aa,e("div",oa,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[6]||(a[6]=n=>s.branchName=n)},null,512),[[f,s.branchName]])])]),e("div",na,[ra,e("div",ia,[y(e("textarea",{disabled:"",name:"message",id:"message",rows:"4",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6","onUpdate:modelValue":a[7]||(a[7]=n=>s.address=n)},null,512),[[f,s.address]])])])])]),e("div",la,[e("div",da,[x(m,{previewType:t.getDocumentData.type,previewData:t.getDocumentData.data,isPreBtn:!0,preFerence:s.attachmentName},null,8,["previewType","previewData","preFerence"])])])]),t.getStageData["bank status"]=="Rejected"&&t.getStageData["bank remarks"]!=""?(o(),k(d,{key:0,reason:t.getStageData["bank remarks"]},null,8,["reason"])):p("",!0)],64)}const ma=N(Ps,[["render",ca]]),ua=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-green-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,pa=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,ga={data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Segment Details",class:"text-left"},{name:"Value",class:"text-left"}],tableData:[{field:"Equity Cash - NSE",value:""},{field:"Equity Cash - BSE",value:""},{field:"Equity Derivaties - NSE",value:""},{field:"Mutual Funds - NSE",value:""},{field:"Mutual Funds - BSE",value:""},{field:"Mutual Funds Depository",value:""},{field:"SLB - NSE",value:""},{field:"Currency Derivatives - NSE",value:""},{field:"Currency Derivatives Type",value:""},{field:"Segment Consent",value:""}],paymentTableHeads:[{name:"S.No",class:"text-center"},{name:"Payment Details",class:"text-left"},{name:"Value",class:"text-left"}],paymentTableData:[{field:"Trading Scheme",value:""},{field:"DP Scheme",value:""},{field:"DDPI",value:""},{field:"Scheme consent",value:""},{field:"Amount",value:""}],tickSvg:ua,cancelSvg:pa,docType:"INCOME_PROOF"}},computed:{...A("approval",["getCustomerData","getDocumentData","getStageData"]),...A("tabs",["getKycApprovalTabs"])},mounted(){var t,a,u,c,s,r,m,d,n,i;if(this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_equity_cash")&&(this.tableData[0].value=this.tableData[1].value=this.getCustomerData.opportunity_data.fsl_equity_cash==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_equity_derivative")){this.tableData[2].value=this.getCustomerData.opportunity_data.fsl_equity_derivative==1?"Yes":"No";let h=this.getKycApprovalTabs;h[5].docs=[],this.tableData[2].value=="Yes"&&(this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(a=(t=this.getCustomerData)==null?void 0:t.opportunity_data)==null?void 0:a.name}&documentType=${this.docType}&userId=${(c=(u=this.$store.state.login)==null?void 0:u.userData)==null?void 0:c.user}&sessId=${(m=(r=(s=this.$store.state)==null?void 0:s.login)==null?void 0:r.userData)==null?void 0:m.sid}&token=${(i=(n=(d=this.$store.state)==null?void 0:d.login)==null?void 0:n.userData)==null?void 0:i.tempToken}`,type:"preview",docType:this.docType}),h[5].docs.push(this.docType)),this.$store.commit("tabs/setKycApprovalTabs",h)}this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_mutual_funds")&&(this.tableData[3].value=this.tableData[4].value=this.getCustomerData.opportunity_data.fsl_mutual_funds==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_mf_phy_or_dig")&&(this.tableData[5].value=this.getCustomerData.opportunity_data.fsl_mf_phy_or_dig),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_slb")&&(this.tableData[6].value=this.getCustomerData.opportunity_data.fsl_slb==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_currency_derivatives")&&(this.tableData[7].value=this.getCustomerData.opportunity_data.fsl_currency_derivatives==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_currency_derivatives_type")&&(this.tableData[8].value=this.getCustomerData.opportunity_data.fsl_currency_derivatives_type),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_consent")&&(this.tableData[9].value=this.getCustomerData.opportunity_data.fsl_consent==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("trading_scheme")&&(this.paymentTableData[0].value=this.getCustomerData.trading_scheme.trading_scheme),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("db_scheme")&&(this.paymentTableData[1].value=this.getCustomerData.trading_scheme.db_scheme),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("ddpi")&&(this.paymentTableData[2].value=this.getCustomerData.trading_scheme.ddpi==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("ddpi")&&(this.paymentTableData[3].value="Yes")}},_a={class:"flex gap-4"},ha={class:"grid gap-y-5 w-[48%]"},ya={class:"bg-white rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},fa={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},va={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},ba={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},xa={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},ka={class:"flex gap-2"},Da={key:0},wa=["innerHTML"],$a=["innerHTML"],Ca={class:"bg-white w-full h-[350px] rounded-b mt-4 border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},Sa={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},Ta={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},Aa={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Ra={class:"py-4 text-sm primary-color dark:text-[#94A3B8] text-left"},Na={class:"flex gap-2"},ja={key:0},Ia=["innerHTML"],Pa=["innerHTML"],Ma={class:"w-[48%]"};function La(t,a,u,c,s,r){const m=g("preview_file"),d=g("rejectReason");return o(),l(T,null,[e("div",_a,[e("div",ha,[e("table",ya,[e("thead",fa,[e("tr",null,[(o(!0),l(T,null,I(s.tableHeads,(n,i)=>(o(),l("th",{key:i,scope:"col",class:O([n.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},v(n.name),3))),128))])]),e("tbody",null,[(o(!0),l(T,null,I(s.tableData,(n,i)=>(o(),l("tr",{key:i,class:"border-b cursor-pointer hover:bg-gray-50"},[e("td",va,v(i+1),1),e("td",ba,v(n.field),1),e("td",xa,[e("div",ka,[n.value&&(n.value=="Yes"||n.value=="No")?(o(),l("div",Da,[n.value=="Yes"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,wa)):(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,$a))])):p("",!0),R(" "+v(n.value),1)])])]))),128))])]),e("table",Ca,[e("thead",Sa,[e("tr",null,[(o(!0),l(T,null,I(s.paymentTableHeads,(n,i)=>(o(),l("th",{key:i,scope:"col",class:O([n.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},v(n.name),3))),128))])]),e("tbody",null,[(o(!0),l(T,null,I(s.paymentTableData,(n,i)=>(o(),l("tr",{key:i,class:"border-b cursor-pointer hover:bg-gray-50 h-[56px]"},[e("td",Ta,v(i+1),1),e("td",Aa,v(n.field),1),e("td",Ra,[e("div",Na,[n.value&&(n.value=="Yes"||n.value=="No")?(o(),l("div",ja,[n.value=="Yes"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,Ia)):(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,Pa))])):p("",!0),R(" "+v(n.value),1)])])]))),128))])])]),e("div",Ma,[x(m,{previewType:t.getDocumentData.type,previewData:t.getDocumentData.data,isPreBtn:!1,preFerence:s.docType},null,8,["previewType","previewData","preFerence"])])]),t.getStageData["segment status"]=="Rejected"&&t.getStageData["segment remarks"]!=""?(o(),k(d,{key:0,reason:t.getStageData["segment remarks"]},null,8,["reason"])):p("",!0)],64)}const Va=N(ga,[["render",La]]);const Oa={emits:["send-remarks"],name:"reject-dialog",components:{Dialog:ie,DialogPanel:le,DialogTitle:de,TransitionChild:re,TransitionRoot:ne,Listbox:Re,ListboxButton:Ne,ListboxLabel:je,ListboxOption:Ie,ListboxOptions:Pe,CheckIcon:Me,ChevronUpDownIcon:Le},data(){return{remarks:"",remarksArray:[],otherVal:""}},props:{isOpen:{type:Boolean},activeTab:{type:String}},computed:{...A("approval",["getIsRejectLoader"]),...A("tabs",["getKycApprovalTabs","getKycPanelTabs","getOpportunityTabs"])},methods:{sentRemarks(t){let a=!1;this.otherVal&&(this.remarks=this.otherVal),this.otherVal="",t=="close"&&(this.remarks=""),t=="call"&&!this.remarks&&(a=!0),this.$emit("send-remarks",{remarks:this.remarks,isOpen:a})}},mounted(){this.otherVal=this.remarks="",this.remarksArray=this.getKycApprovalTabs[this.activeTab].remarks}},Ua=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Ba={class:"fixed inset-0 z-10 overflow-y-auto"},Ha={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Ea={class:"grid"},Fa={key:0},Ka={class:"relative mt-2"},za={class:"block"},qa={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Wa={key:1},Ja=e("label",{for:"reject_content",id:"reject_content_label"},"Remarks",-1),Ya={class:"mt-8 flex justify-end gap-2"},Ga={key:0};function Qa(t,a,u,c,s,r){const m=g("TransitionChild"),d=g("ListboxLabel"),n=g("ChevronUpDownIcon"),i=g("ListboxButton"),h=g("CheckIcon"),_=g("ListboxOption"),w=g("ListboxOptions"),b=g("Listbox"),$=g("DialogTitle"),C=g("btnLoader"),P=g("DialogPanel"),M=g("Dialog"),L=g("TransitionRoot");return o(),k(L,{as:"template",show:u.isOpen},{default:D(()=>[x(M,{as:"div",class:"relative z-10",onClose:a[5]||(a[5]=S=>r.sentRemarks("close"))},{default:D(()=>[x(m,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:D(()=>[Ua]),_:1}),e("div",Ba,[e("div",Ha,[x(m,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:D(()=>[x(P,{class:"w-full max-w-lg transform rounded radius p-6 text-left align-middle bg-white"},{default:D(()=>[x($,{as:"h3",class:"text-base pb-2 font-medium leading-6 primaryColor"},{default:D(()=>[e("div",Ea,[s.remarksArray.length>0?(o(),l("div",Fa,[x(b,{as:"div",modelValue:s.remarks,"onUpdate:modelValue":a[0]||(a[0]=S=>s.remarks=S)},{default:D(()=>[x(d,{class:"block text-sm font-medium leading-6 text-gray-900"},{default:D(()=>[R("Remarks")]),_:1}),e("div",Ka,[x(i,{class:"relative w-full cursor-default rounded-md bg-white min-h-[32px] py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},{default:D(()=>[e("span",za,v(s.remarks),1),e("span",qa,[x(n,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),x(Se,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:D(()=>[x(w,{class:"absolute z-10 mt-1 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:D(()=>[(o(!0),l(T,null,I(s.remarksArray,(S,V)=>(o(),k(_,{as:"template",key:V,value:S},{default:D(({active:j,remarks:U})=>[e("li",{class:O([j?"bg-indigo-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-8 pr-4"])},[e("span",{class:O([U?"font-semibold":"font-normal","block "])},v(S),3),U?(o(),l("span",{key:0,class:O([j?"text-white":"text-indigo-600","absolute inset-y-0 left-0 flex items-center pl-1.5"])},[x(h,{class:"h-5 w-5","aria-hidden":"true"})],2)):p("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),s.remarks=="Others"?y((o(),l("input",{key:0,id:"reject_content",class:"w-full border rounded my-2 p-2","onUpdate:modelValue":a[1]||(a[1]=S=>s.otherVal=S),autofocus:""},null,512)),[[f,s.otherVal]]):p("",!0)])):(o(),l("div",Wa,[Ja,y(e("textarea",{rows:"5",name:"",id:"reject_content",class:"w-full border rounded my-2","onUpdate:modelValue":a[2]||(a[2]=S=>s.remarks=S),autofocus:""},null,512),[[f,s.remarks]])]))])]),_:1}),e("div",Ya,[e("button",{type:"button",class:"themeBtn flex items-center justify-center min-w-[86px]",id:"logout_btn",onClick:a[3]||(a[3]=S=>r.sentRemarks("call"))},[t.getIsRejectLoader?(o(),k(C,{key:1})):(o(),l("span",Ga,"Confirm"))]),e("button",{type:"button",class:"cancelBtn",id:"logout_cancel_btn",onClick:a[4]||(a[4]=S=>r.sentRemarks("close"))}," Cancel ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const me=N(Oa,[["render",Qa]]),Xa=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
</svg>
`,Za=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
</svg>
`,eo=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,to=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,so={data(){return{upArrow:Xa,downArrow:Za,isOpen:!1,nomineeList:[],expanstion:0,currectSelectData:"",isRejectDialog:!1,remarks:"",tickSvg:eo,cancelSvg:to}},components:{rejectDialog:me},computed:{...A("approval",["getCustomerData","getStageData","getIsApproveLoader","getIsRejectLoader","getIsResetLoader"]),...A("login",["getUserData"])},methods:{callServiceApporve_Reject(t){var a,u,c;this.$store.dispatch("approval/formatJson",{tab:6,status:t,remarks:t=="Rejected"?this.remarks:"",nomineeId:this.currectSelectData.nomineeId}),this.getCustomerData&&((a=this.getCustomerData)!=null&&a.opportunity_data)&&((c=(u=this.getCustomerData)==null?void 0:u.opportunity_data)!=null&&c.name)&&setTimeout(()=>{var s;this.$store.dispatch("approval/getCustomerData",(s=this.getCustomerData)==null?void 0:s.opportunity_data.name)},500)},expandNominee(t){this.remarks="",this.isRejectDialog=!1,this.expanstion==t||(this.expanstion=t),this.currectSelectData=this.nomineeList[t]},getRemarks(t){this.remarks=t.remarks,this.isRejectDialog=t.isOpen,this.remarks&&this.callServiceApporve_Reject("Rejected")},getStatusForPage(t){var c;let a=(c=this.getStageData.nominee)==null?void 0:c.filter(s=>s.nominee_number==t),u="";return a&&a.length>0&&a[0].status&&(u=a[0].status),u}},mounted(){if(this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.fsl_nominee_table){for(let t of this.getCustomerData.opportunity_data.fsl_nominee_table)this.nomineeList.push({name:`${t.nominee_fname} ${t.nominee_lname}`,dob:window.formatDate(t.date_of_birth,"D"),emailId:t.email_id,mobNo:t.mobile_number,proofId:t.proof_id,proofType:t.proof_type,relationOfNominee:t.relationship,nomineeId:t.nominee_number,address:`${t==null?void 0:t.address}&#013;&#010;${t==null?void 0:t.address_2}&#013;&#010;${t==null?void 0:t.city} - ${t==null?void 0:t.pincode}&#013;&#010;${t==null?void 0:t.state}`,guardian:ao(window.formatDate(t.date_of_birth,"D"))&&!t.proof_id&&!t.proof_type?{name:`${t.guardian_fname} ${t.guardian_lname}`,dob:window.formatDate(t.guardian_dob,"D"),emailId:t.guardian_email_id,mobNo:t.guardian_phone_no,proofId:t.guardian_proof_id,proofType:t.guardian_prooftype,relationOfNominee:t.guardian_relationship,address:`${t==null?void 0:t.guardian_address1}&#013;&#010;${t==null?void 0:t.guardian_address2}&#013;&#010;${t==null?void 0:t.guardian_city} - ${t==null?void 0:t.guardian_pincode}&#013;&#010;${t==null?void 0:t.guardian_state}`}:null,nominee_status:t.nominee_status,nominee_remarks:t.nominee_remarks,percentage_allocation:t.percentage_allocation});this.nomineeList.length>0&&this.expandNominee(0)}}};function ao(t){t=[new Date(t).getFullYear(),new Date(t).getMonth()>9?new Date(t).getMonth():`0${new Date(t).getMonth()}`,new Date(t).getDate()>9?new Date(t).getDate():`0${new Date(t).getDate()}`].join("-");var a=t.toString().replace(/-/g,"/"),u=new Date(a),c=new Date().toJSON().slice(0,10)+" 01:00:00",s=~~((Date.now(c)-u)/315576e5);let r;return s<18?r=!0:r=!1,r}const oo={class:""},no={class:""},ro={key:0,class:"my-4 flex flex-col gap-4"},io=["onClick"],lo={class:"text-sm font-semibold"},co=["innerHTML"],mo=["innerHTML"],uo={key:0,class:""},po={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-12 md:grid-cols-2 my-4"},go={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-12 md:col-span-2"},_o={class:"sm:col-span-3"},ho=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Name",-1),yo={class:"mt-2"},fo=["onUpdate:modelValue"],vo={class:"sm:col-span-3"},bo=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"DOB",-1),xo={class:"mt-2"},ko=["onUpdate:modelValue"],Do={class:"sm:col-span-3"},wo=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mobile No.",-1),$o={class:"mt-2"},Co=["onUpdate:modelValue"],So={class:"sm:col-span-3"},To=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Email ID",-1),Ao={class:"mt-2"},Ro=["onUpdate:modelValue"],No={class:"sm:col-span-3"},jo=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Proof Type",-1),Io={class:"mt-2"},Po=["onUpdate:modelValue"],Mo={class:"sm:col-span-3"},Lo=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Proof ID",-1),Vo={class:"mt-2"},Oo=["onUpdate:modelValue"],Uo={class:"sm:col-span-3"},Bo=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Relation OF Nominee",-1),Ho={class:"mt-2"},Eo=["onUpdate:modelValue"],Fo={class:"sm:col-span-3"},Ko=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),zo={class:"mt-2"},qo=["innerHTML"],Wo={class:"sm:col-span-3"},Jo=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Nominee Allocation ",-1),Yo={class:"mt-2"},Go=["onUpdate:modelValue"],Qo={key:0},Xo=e("div",{class:"flex justify-between gap-3"},[e("div",{class:"text-sm font-semibold"}," Guardian ")],-1),Zo={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-12 md:grid-cols-2 my-4"},en={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-12 md:col-span-2"},tn={class:"sm:col-span-3"},sn=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Name",-1),an={class:"mt-2"},on=["onUpdate:modelValue"],nn={class:"sm:col-span-3"},rn=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"DOB",-1),ln={class:"mt-2"},dn=["onUpdate:modelValue"],cn={class:"sm:col-span-3"},mn=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mobile No.",-1),un={class:"mt-2"},pn=["onUpdate:modelValue"],gn={class:"sm:col-span-3"},_n=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Email ID",-1),hn={class:"mt-2"},yn=["onUpdate:modelValue"],fn={class:"sm:col-span-3"},vn=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Proof Type",-1),bn={class:"mt-2"},xn=["onUpdate:modelValue"],kn={class:"sm:col-span-3"},Dn=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Proof ID",-1),wn={class:"mt-2"},$n=["onUpdate:modelValue"],Cn={class:"sm:col-span-3"},Sn=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Relation OF Nominee",-1),Tn={class:"mt-2"},An=["onUpdate:modelValue"],Rn={class:"sm:col-span-3"},Nn=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),jn={class:"mt-2"},In=["innerHTML"],Pn={key:1,class:"w-full flex justify-end"},Mn=["innerHTML"],Ln=["innerHTML"],Vn={key:0,class:"flex gap-1 items-center"},On=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-white-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),Un={key:2,class:"flex gap-4 my-4 justify-end"},Bn={key:0,class:"flex items-center justify-center gap-1"},Hn=["innerHTML"],En={class:"flex items-center justify-center gap-1"},Fn=["innerHTML"],Kn={key:1,class:"flex items-center justify-center min-h-[50vh]"};function zn(t,a,u,c,s,r){const m=g("btnLoader"),d=g("rejectReason"),n=g("rejectDialog");return o(),l(T,null,[e("div",oo,[e("div",no,[s.nomineeList.length>0?(o(),l("div",ro,[(o(!0),l(T,null,I(s.nomineeList,(i,h)=>{var _,w;return o(),l("div",{key:h,class:"cursor-pointer p-4 shadow rounded-lg bg-white transition duration-1000 ease-in-out w-full"},[e("div",{class:"flex justify-between gap-3",onClick:b=>r.expandNominee(h)},[e("div",lo," Nominee "+v(h+1),1),e("div",null,[i.isOpen?p("",!0):(o(),l("div",{key:0,innerHTML:s.downArrow},null,8,co)),i.isOpen?(o(),l("div",{key:1,innerHTML:s.upArrow},null,8,mo)):p("",!0)])],8,io),s.expanstion==h?(o(),l("div",uo,[e("div",po,[e("div",go,[e("div",_o,[ho,e("div",yo,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.name=b},null,8,fo),[[f,i.name]])])]),e("div",vo,[bo,e("div",xo,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.dob=b},null,8,ko),[[f,i.dob]])])]),e("div",Do,[wo,e("div",$o,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.mobNo=b},null,8,Co),[[f,i.mobNo]])])]),e("div",So,[To,e("div",Ao,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.emailId=b},null,8,Ro),[[f,i.emailId]])])]),e("div",No,[jo,e("div",Io,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.proofType=b},null,8,Po),[[f,i.proofType]])])]),e("div",Mo,[Lo,e("div",Vo,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.proofId=b},null,8,Oo),[[f,i.proofId]])])]),e("div",Uo,[Bo,e("div",Ho,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.relationOfNominee=b},null,8,Eo),[[f,i.relationOfNominee]])])]),e("div",Fo,[Ko,e("div",zo,[e("textarea",{type:"text",id:"panNumber",readonly:"",class:"block w-full p-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"",innerHTML:i.address,rows:"5"},null,8,qo)])]),e("div",Wo,[Jo,e("div",Yo,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.percentage_allocation=b},null,8,Go),[[f,i.percentage_allocation]])])])])]),i.guardian?(o(),l("div",Qo,[Xo,e("div",Zo,[e("div",en,[e("div",tn,[sn,e("div",an,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.name=b},null,8,on),[[f,i.guardian.name]])])]),e("div",nn,[rn,e("div",ln,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.dob=b},null,8,dn),[[f,i.guardian.dob]])])]),e("div",cn,[mn,e("div",un,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.mobNo=b},null,8,pn),[[f,i.guardian.mobNo]])])]),e("div",gn,[_n,e("div",hn,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.emailId=b},null,8,yn),[[f,i.guardian.emailId]])])]),e("div",fn,[vn,e("div",bn,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.proofType=b},null,8,xn),[[f,i.guardian.proofType]])])]),e("div",kn,[Dn,e("div",wn,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.proofId=b},null,8,$n),[[f,i.guardian.proofId]])])]),e("div",Cn,[Sn,e("div",Tn,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":b=>i.guardian.relationOfNominee=b},null,8,An),[[f,i.guardian.relationOfNominee]])])]),e("div",Rn,[Nn,e("div",jn,[e("textarea",{type:"text",id:"panNumber",readonly:"",class:"block w-full p-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"",innerHTML:i.guardian.address,rows:"5"},null,8,In)])])])])])):p("",!0),((_=t.$route.query)==null?void 0:_.from)!="opportunity"&&((w=t.getUserData)==null?void 0:w.Role)!="RM"?(o(),l("div",Pn,[r.getStatusForPage(i.nomineeId)&&(r.getStatusForPage(i.nomineeId)=="Approved"||r.getStatusForPage(i.nomineeId)=="Rejected")?(o(),l("div",{key:0,class:O(["flex gap-1 justify-center items-center min-w-[120px] h-[36px] py-2 rounded-lg text-white font-bold",r.getStatusForPage(i.nomineeId)=="Approved"?"bg-green-700":"bg-red-700"])},[r.getStatusForPage(i.nomineeId)=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,Mn)):r.getStatusForPage(i.nomineeId)=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,Ln)):p("",!0),R(" "+v(r.getStatusForPage(i.nomineeId)),1)],2)):p("",!0),r.getStatusForPage(i.nomineeId)&&(r.getStatusForPage(i.nomineeId)=="Approved"||r.getStatusForPage(i.nomineeId)=="Rejected"||r.getStatusForPage(i.nomineeId)=="Reset")?(o(),l("div",{key:1,class:"flex gap-1 justify-center items-center min-w-[120px] h-[36px] ml-2 py-2 rounded-lg bg-white text-blue-700 font-bold border border-blue-700 cursor-pointer",onClick:a[0]||(a[0]=b=>r.callServiceApporve_Reject("Reset"))},[t.getIsResetLoader?(o(),k(m,{key:1})):(o(),l("span",Vn,[On,R(" "+v("Reset"))]))])):(o(),l("div",Un,[e("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-teal-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[1]||(a[1]=b=>r.callServiceApporve_Reject("Approved"))},[t.getIsApproveLoader?(o(),k(m,{key:1})):(o(),l("span",Bn,[e("div",{innerHTML:s.tickSvg},null,8,Hn),R("Approve ")]))]),e("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-orange-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[2]||(a[2]=b=>s.remarks?r.callServiceApporve_Reject("Rejected"):s.isRejectDialog=!0)},[e("span",En,[e("div",{innerHTML:s.cancelSvg},null,8,Fn),R("Reject ")])])]))])):p("",!0),i.nominee_status=="Rejected"&&i.nominee_remarks!=""?(o(),k(d,{key:2,class:"bg-[#F7F5F5]",reason:i.nominee_remarks},null,8,["reason"])):p("",!0)])):p("",!0)])}),128))])):(o(),l("div",Kn,"No Nominees Found"))])]),s.isRejectDialog?(o(),k(n,{key:0,"is-open":s.isRejectDialog,"active-tab":"6",onSendRemarks:r.getRemarks},null,8,["is-open","onSendRemarks"])):p("",!0)],64)}const qn=N(so,[["render",zn]]),Wn={data(){return{formateJSON:!1,copyText:!0,copyTextRes:!0}},props:{rejectReason:{required:!0}},methods:{closeDialog(){this.$store.commit("approval/setIsDocRejReasonDialog",!1)},isJsonString(t){try{JSON.parse(t)}catch{return t}return JSON.parse(t)},copyResponseBody(){this.copyTextRes=!1,navigator.clipboard.writeText(JSON.stringify(this.rejectReason)),document.getElementById("jsonDataRes"),document.execCommand("copy"),setInterval(()=>{this.copyTextRes=!0},2e3)}},computed:{...A("approval",["getIsDocRejReasonDialog"])},components:{TransitionRoot:ne,TransitionChild:re,Dialog:ie,DialogPanel:le,DialogTitle:de,JsonViewer:we},unmounted(){this.$store.commit("approval/setDocRejReason","")}},Jn=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Yn={class:"fixed inset-0 overflow-y-auto"},Gn={class:"flex min-h-full items-center justify-center p-4 text-center"},Qn=e("div",{class:"flex justify-between items-center mt-6 text-xs"},[e("p",null,"Reject Reason :")],-1);function Xn(t,a,u,c,s,r){const m=g("TransitionChild"),d=g("JsonViewer"),n=g("DialogTitle"),i=g("DialogPanel"),h=g("Dialog"),_=g("TransitionRoot");return o(),l("div",null,[x(_,{appear:"",show:t.getIsDocRejReasonDialog,as:"template"},{default:D(()=>[x(h,{as:"div",class:"relative z-10",onClose:a[0]||(a[0]=w=>r.closeDialog())},{default:D(()=>[x(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:D(()=>[Jn]),_:1}),e("div",Yn,[e("div",Gn,[x(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:D(()=>[x(i,{class:"w-full max-w-md transform overflow-hidden radius p-6 text-left align-middle bg-white rounded max-h-[500px] overflow-y-auto"},{default:D(()=>[x(n,{as:"h3",class:"text-base pb-2 font-medium leading-6 primaryColor"},{default:D(()=>[e("div",null,[Qn,x(d,{class:"!text-xs",value:u.rejectReason},null,8,["value"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Zn=N(Wn,[["render",Xn]]),er=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-green-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,tr=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,sr=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
  <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
</svg>
`,ar={components:{reasonViewDialog:Zn,rejectDialog:me},data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Document Name",class:"text-left"},{name:"Status",class:"text-left"},{name:"Preview",class:"text-left"},{name:"Download",class:"text-left"}],documentName:"PAN",tickSvg:er,cancelSvg:tr,infoSvg:sr,isRejectDialog:!1,remarks:"",selectedDoc:""}},computed:{...A("approval",["getCustomerData","getDocumentData","getDocuments","getIsDocsLoader","getIsDocRejReasonDialog","getDocRejReason"]),...A("login",["getUserData"])},methods:{getDocumentSource(t,a){var u,c,s,r,m,d,n,i,h,_;this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(c=(u=this.getCustomerData)==null?void 0:u.opportunity_data)==null?void 0:c.name}&documentType=${t}&userId=${(r=(s=this.$store.state.login)==null?void 0:s.userData)==null?void 0:r.user}&sessId=${(n=(d=(m=this.$store.state)==null?void 0:m.login)==null?void 0:d.userData)==null?void 0:n.sid}&token=${(_=(h=(i=this.$store.state)==null?void 0:i.login)==null?void 0:h.userData)==null?void 0:_.tempToken}`,type:a,docType:t})},previewDocument(t){this.documentName=t,this.getDocumentSource(t,"preview")},showDialog(t){this.$store.commit("approval/setIsDocRejReasonDialog",!0),this.$store.commit("approval/setDocRejReason",t.remarks)},getRemarks(t){this.remarks=t.remarks,this.isRejectDialog=t.isOpen,this.remarks&&this.approveOrRejectDoc("Rejected",this.selectedDoc)},async approveOrRejectDoc(t,a){this.selectedDoc=a,t=="Rejected"&&!this.remarks?this.isRejectDialog=!0:this.isRejectDialog=!1,(t=="Rejected"&&this.remarks||t=="Approved"||t=="Reset")&&(await this.$store.dispatch("approval/formatJsonDoc",{status:t,remarks:t=="Rejected"?this.remarks:"",attachmentType:this.selectedDoc}),this.remarks="")}},unmounted(){this.$store.commit("approval/setDocumentData",""),this.$store.commit("approval/setDocumentDataClone","")},mounted(){this.previewDocument(this.documentName)},async created(){var t,a,u,c;if(await this.$store.dispatch("approval/getDocuments"),this.getDocuments&&((t=this.$route.query)==null?void 0:t.from)!="opportunity"&&((a=this.getUserData)==null?void 0:a.Role)!="RM"){let s=this.getDocuments.filter(r=>r["Document Type"]=="ADDITIONAL_DOCUMENT");if(s&&s.length>0){let r={name:"Action",class:"text-center"};this.tableHeads=[...this.tableHeads.slice(0,2),r,...this.tableHeads.slice(2,this.tableHeads.length)]}}if(((u=this.$route.query)==null?void 0:u.from)=="opportunity"||((c=this.getUserData)==null?void 0:c.Role)=="RM"){let s=this.tableHeads.filter(r=>r.name!="Status");this.tableHeads=s}}},or={key:0,class:"pb-12 flex flex-wrap gap-4"},nr={class:"bg-white w-[50%] rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},rr={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},ir={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},lr={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},dr={class:"flex gap-2 items-center"},cr={key:0,class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},mr={key:0,class:"grid"},ur={key:0,class:"flex gap-2"},pr=["onClick"],gr=["onClick"],_r=["onClick"],hr={key:1},yr={class:"flex gap-2 items-center"},fr=["innerHTML","title","onClick"],vr=["onClick"],br=["onClick"],xr={class:"col-span-6 w-[45%]"},kr={key:1,class:"flex items-center justify-center min-h-[50vh]"};function Dr(t,a,u,c,s,r){const m=g("preview_file"),d=g("reasonViewDialog"),n=g("rejectDialog");return o(),l(T,null,[t.getDocuments&&t.getDocuments.length>0?(o(),l("div",or,[e("table",nr,[e("thead",rr,[e("tr",null,[(o(!0),l(T,null,I(s.tableHeads,(i,h)=>(o(),l("th",{key:h,scope:"col",class:O([i.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},v(i.name),3))),128))])]),e("tbody",null,[(o(!0),l(T,null,I(t.getDocuments,(i,h)=>{var _,w,b,$;return o(),l("tr",{key:h,class:"border-b cursor-pointer hover:bg-gray-50"},[e("td",ir,v(h+1),1),e("td",lr,[e("div",dr,[e("div",null,v(i["Document Type"]),1)])]),((_=t.$route.query)==null?void 0:_.from)!="opportunity"&&((w=t.getUserData)==null?void 0:w.Role)!="RM"&&s.tableHeads&&s.tableHeads[2].name=="Action"?(o(),l("td",cr,[i["Document Type"]=="ADDITIONAL_DOCUMENT"?(o(),l("div",mr,[i.status?(o(),l("a",{key:1,class:"underline text-sm text-blue-500",onClick:C=>r.approveOrRejectDoc("Reset",i["Document Type"])},"Reset",8,_r)):(o(),l("div",ur,[e("a",{class:"underline text-sm text-teal-500",onClick:C=>r.approveOrRejectDoc("Approved",i["Document Type"])},"Approve",8,pr),e("a",{class:"underline text-sm text-orange-500",onClick:C=>r.approveOrRejectDoc("Rejected",i["Document Type"])},"Reject",8,gr)]))])):p("",!0)])):p("",!0),((b=t.$route.query)==null?void 0:b.from)!="opportunity"&&(($=t.getUserData)==null?void 0:$.Role)!="RM"?(o(),l("td",hr,[e("div",yr,[e("a",{class:O(["text-sm",i.status=="Approved"?"text-teal-500":i.status=="Rejected"?"text-orange-500":""])},v(i.status?i.status:""),3),i.status=="Rejected"?(o(),l("span",{key:0,innerHTML:s.infoSvg,title:i.remarks,onClick:C=>r.showDialog(i)},null,8,fr)):p("",!0)])])):p("",!0),e("td",null,[e("a",{class:"underline text-sm text-purple-500",onClick:C=>r.previewDocument(i["Document Type"])},"Preview",8,vr)]),e("td",null,[e("a",{class:"underline text-sm text-blue-500",download:"",onClick:C=>r.getDocumentSource(i["Document Type"],"download")},"Download",8,br)])])}),128))])]),e("div",xr,[x(m,{previewType:t.getDocumentData.type,previewData:t.getDocumentData.data,isPreBtn:!0,preFerence:s.documentName},null,8,["previewType","previewData","preFerence"])])])):(o(),l("div",kr,"No Documents Found")),t.getIsDocRejReasonDialog?(o(),k(d,{key:2,rejectReason:t.getDocRejReason},null,8,["rejectReason"])):p("",!0),s.isRejectDialog?(o(),k(n,{key:3,"is-open":s.isRejectDialog,"active-tab":"7",onSendRemarks:r.getRemarks},null,8,["is-open","onSendRemarks"])):p("",!0)],64)}const wr=N(ar,[["render",Dr]]),$r={data(){return{capturedDate:"",latitude:"",longitude:"",docType:"IPV"}},computed:{...A("approval",["getCustomerData","getDocumentData","getStageData"])},methods:{openMap(){this.latitude&&this.longitude&&window.open(`https://www.google.com/maps/?q=${this.latitude},${this.longitude}`,"_target")}},mounted(){var t,a,u,c,s,r,m,d,n,i;if(this.getCustomerData&&this.getCustomerData.document_data&&Array.isArray(this.getCustomerData.document_data)){let h=this.getCustomerData.document_data.filter(w=>w.document_type.toString().toLowerCase()=="ipv"),_;h&&h.length>0&&(_=h[0]),_&&(this.capturedDate=window.formatDate(_==null?void 0:_.creation,"D&T"),this.latitude=_==null?void 0:_.latitude,this.longitude=_==null?void 0:_.longitude)}this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(a=(t=this.getCustomerData)==null?void 0:t.opportunity_data)==null?void 0:a.name}&documentType=${this.docType}&userId=${(c=(u=this.$store.state.login)==null?void 0:u.userData)==null?void 0:c.user}&sessId=${(m=(r=(s=this.$store.state)==null?void 0:s.login)==null?void 0:r.userData)==null?void 0:m.sid}&token=${(i=(n=(d=this.$store.state)==null?void 0:d.login)==null?void 0:n.userData)==null?void 0:i.tempToken}`,type:"preview",docType:"IPV"})}},Cr={class:"grid grid-cols-12"},Sr={class:"col-span-6"},Tr={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6 md:col-span-2"},Ar={class:"sm:col-span-3"},Rr=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Capture Date & Time",-1),Nr={class:"mt-2"},jr={class:"sm:col-span-3"},Ir=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Latitude",-1),Pr={class:"mt-2"},Mr={class:"sm:col-span-3"},Lr=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Longitude",-1),Vr={class:"mt-2"},Or={class:"sm:col-span-3 flex items-end"},Ur={class:"col-span-6"},Br={class:"rounded-lg my-4 h-[320px]"};function Hr(t,a,u,c,s,r){const m=g("preview_file"),d=g("rejectReason");return o(),l(T,null,[e("div",Cr,[e("div",Sr,[e("div",Tr,[e("div",Ar,[Rr,e("div",Nr,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.capturedDate=n)},null,512),[[f,s.capturedDate]])])]),e("div",jr,[Ir,e("div",Pr,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=n=>s.latitude=n)},null,512),[[f,s.latitude]])])]),e("div",Mr,[Lr,e("div",Vr,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=n=>s.longitude=n)},null,512),[[f,s.longitude]])])]),e("div",Or,[e("button",{type:"button",class:"rounded-md bg-white border px-3 py-2 text-sm font-semibold text-black shadow-sm focus-visible:outline",onClick:a[3]||(a[3]=n=>r.openMap())},"MAP View")])])]),e("div",Ur,[e("div",Br,[x(m,{previewType:t.getDocumentData.type,previewData:t.getDocumentData.data,isPreBtn:!0,preFerence:s.docType},null,8,["previewType","previewData","preFerence"])])])]),t.getStageData["IPV status"]=="Rejected"&&t.getStageData["IPV remarks"]!=""?(o(),k(d,{key:0,reason:t.getStageData["IPV remarks"]},null,8,["reason"])):p("",!0)],64)}const Er=N($r,[["render",Hr]]),Fr=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-green-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,Kr=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,zr={data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Stage",class:"text-left"},{name:"Status",class:"text-left"}],tickSvg:Fr,cancelSvg:Kr}},computed:{...A("approval",["getStageData","getDocuments","getDocumentData"])},methods:{checkStatus(t){let a=t==null?void 0:t.trim();return a&&a!="null"?a:"Open"}}},qr={class:"bg-white w-full rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},Wr={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},Jr={class:"border-b cursor-pointer hover:bg-gray-50"},Yr=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 1 ",-1),Gr=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," PAN ",-1),Qr={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Xr={class:"flex gap-2 items-center"},Zr=["innerHTML"],ei=["innerHTML"],ti={class:"border-b cursor-pointer hover:bg-gray-50"},si=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 2 ",-1),ai=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Profile ",-1),oi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},ni={class:"flex gap-2 items-center"},ri=["innerHTML"],ii=["innerHTML"],li={class:"border-b cursor-pointer hover:bg-gray-50"},di=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 3 ",-1),ci=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Address ",-1),mi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},ui={class:"flex gap-2 items-center"},pi=["innerHTML"],gi=["innerHTML"],_i={class:"border-b cursor-pointer hover:bg-gray-50"},hi=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 4 ",-1),yi=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Bank ",-1),fi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},vi={class:"flex gap-2 items-center"},bi=["innerHTML"],xi=["innerHTML"],ki={class:"border-b cursor-pointer hover:bg-gray-50"},Di=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 5 ",-1),wi=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Segments ",-1),$i={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Ci={class:"flex gap-2 items-center"},Si=["innerHTML"],Ti=["innerHTML"],Ai={class:"border-b cursor-pointer hover:bg-gray-50"},Ri=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 6 ",-1),Ni=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," IPV ",-1),ji={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Ii={class:"flex gap-2 items-center"},Pi=["innerHTML"],Mi=["innerHTML"],Li={class:"border-b cursor-pointer hover:bg-gray-50"},Vi=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 7 ",-1),Oi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Ui={key:0},Bi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Hi={key:0},Ei={class:"flex gap-2 items-center"},Fi={class:"flex gap-2 items-center"},Ki={class:"flex gap-2"},zi=["innerHTML"],qi=["innerHTML"],Wi={key:1},Ji={class:"border-b cursor-pointer hover:bg-gray-50"},Yi=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 8 ",-1),Gi=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Documents ",-1),Qi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Xi={key:0},Zi={class:"flex gap-2 items-center"},el={class:"flex gap-2 items-center"},tl={class:"min-w-[260px] flex gap-2 items-center justify-between"},sl=e("span",null,":",-1),al={class:"flex gap-2"},ol=["innerHTML"],nl=["innerHTML"],rl={key:1},il={class:"border-b cursor-pointer hover:bg-gray-50"},ll=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 9 ",-1),dl=e("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," E-Sign Doc ",-1),cl={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},ml={class:"flex gap-2 items-center"},ul=["innerHTML"],pl=["innerHTML"];function gl(t,a,u,c,s,r){var m,d,n,i,h,_,w,b;return o(),l("div",null,[e("table",qr,[e("thead",Wr,[e("tr",null,[(o(!0),l(T,null,I(s.tableHeads,($,C)=>(o(),l("th",{key:C,scope:"col",class:O([$.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},v($.name),3))),128))])]),e("tbody",null,[e("tr",Jr,[Yr,Gr,e("td",Qr,[e("div",Xr,[e("div",null,[r.checkStatus(t.getStageData["pan status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,Zr)):p("",!0),r.checkStatus(t.getStageData["pan status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,ei)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["pan status"])),1)])])]),e("tr",ti,[si,ai,e("td",oi,[e("div",ni,[e("div",null,[r.checkStatus(t.getStageData["profile status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,ri)):p("",!0),r.checkStatus(t.getStageData["profile status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,ii)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["profile status"])),1)])])]),e("tr",li,[di,ci,e("td",mi,[e("div",ui,[e("div",null,[r.checkStatus(t.getStageData["address status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,pi)):p("",!0),r.checkStatus(t.getStageData["address status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,gi)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["address status"])),1)])])]),e("tr",_i,[hi,yi,e("td",fi,[e("div",vi,[e("div",null,[r.checkStatus(t.getStageData["bank status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,bi)):p("",!0),r.checkStatus(t.getStageData["bank status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,xi)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["bank status"])),1)])])]),e("tr",ki,[Di,wi,e("td",$i,[e("div",Ci,[e("div",null,[r.checkStatus(t.getStageData["segment status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,Si)):p("",!0),r.checkStatus(t.getStageData["segment status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,Ti)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["segment status"])),1)])])]),e("tr",Ai,[Ri,Ni,e("td",ji,[e("div",Ii,[e("div",null,[r.checkStatus(t.getStageData["IPV status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,Pi)):p("",!0),r.checkStatus(t.getStageData["IPV status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,Mi)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["IPV status"])),1)])])]),e("tr",Li,[Vi,e("td",Oi,[R(" Nominees "),((d=(m=t.getStageData)==null?void 0:m.nominee)==null?void 0:d.length)>0?(o(),l("span",Ui,"("+v((i=(n=t.getStageData)==null?void 0:n.nominee)==null?void 0:i.length)+")",1)):p("",!0)]),e("td",Bi,[(_=(h=t.getStageData)==null?void 0:h.nominee)!=null&&_.length?(o(),l("div",Hi,[(o(!0),l(T,null,I((w=t.getStageData)==null?void 0:w.nominee,($,C)=>(o(),l("div",{key:C},[e("div",Ei,[e("div",Fi,[e("span",null," Nominee "+v(C+1)+" : ",1),e("span",Ki,[e("div",null,[r.checkStatus($.status)=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,zi)):p("",!0),r.checkStatus($.status)=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,qi)):p("",!0)]),R(" "+v(r.checkStatus($.status)),1)])])])]))),128))])):(o(),l("div",Wi," NA "))])]),e("tr",Ji,[Yi,Gi,e("td",Qi,[(b=t.getDocuments)!=null&&b.length?(o(),l("div",Xi,[(o(!0),l(T,null,I(t.getDocuments,($,C)=>(o(),l("div",{key:C},[e("div",Zi,[e("div",el,[e("span",tl,[e("span",null,v($["Document Type"]),1),R(),sl]),e("span",al,[e("div",null,[r.checkStatus($.status)=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,ol)):p("",!0),r.checkStatus($.status)=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,nl)):p("",!0)]),R(" "+v(r.checkStatus($.status)),1)])])])]))),128))])):(o(),l("div",rl," NA "))])]),e("tr",il,[ll,dl,e("td",cl,[e("div",ml,[e("div",null,[r.checkStatus(t.getStageData["Esign status"])=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,ul)):p("",!0),r.checkStatus(t.getStageData["Esign status"])=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,pl)):p("",!0)]),e("div",null,v(r.checkStatus(t.getStageData["Esign status"])),1)])])])])])])}const _l=N(zr,[["render",gl]]),hl={components:{stage_table:_l},data(){return{mobileNo:"",emailId:"",startDate:"",updatedOn:"",modeOfApplication:"",referrer:"",selectedData:""}},props:{cutomerData:{type:Object}},computed:{...A("approval",["getIsMailLoader","getProgressPercentage","getIsReject"])},methods:{sendMail(){this.$store.dispatch("approval/sendRejectionMail")}},mounted(){var t,a,u,c,s,r,m,d,n,i,h,_;localStorage.getItem("selecteditem")&&localStorage.getItem("selecteditem")!="undefined"&&(this.selectedData=JSON.parse(localStorage.getItem("selecteditem")),this.referrer=this.selectedData.referral_name),this.mobileNo=(a=(t=this.cutomerData)==null?void 0:t.opportunity_data)==null?void 0:a.fsl_mobile_num,this.emailId=(c=(u=this.cutomerData)==null?void 0:u.opportunity_data)==null?void 0:c.fsl_email_id,this.startDate=window.formatDate((r=(s=this.cutomerData)==null?void 0:s.opportunity_data)==null?void 0:r.creation,"D&T"),this.updatedOn=window.formatDate((d=(m=this.cutomerData)==null?void 0:m.opportunity_data)==null?void 0:d.modified,"D&T"),this.modeOfApplication=((i=(n=this.cutomerData)==null?void 0:n.opportunity_data)==null?void 0:i.fsl_mode_of_application)||((_=(h=this.cutomerData)==null?void 0:h.opportunity_data)==null?void 0:_.fsl_modeofapplication)}},yl={class:"grid grid-cols-12 gap-5"},fl={class:"col-span-6"},vl={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},bl={class:"sm:col-span-3"},xl=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mobile Number",-1),kl={class:"mt-2"},Dl={class:"sm:col-span-3"},wl=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Email ID",-1),$l={class:"mt-2"},Cl={class:"sm:col-span-3"},Sl=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Start Date",-1),Tl={class:"mt-2"},Al={class:"sm:col-span-3"},Rl=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Updated On",-1),Nl={class:"mt-2"},jl={class:"sm:col-span-3"},Il=e("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mode of Application",-1),Pl={class:"mt-2"},Ml={key:0,class:"sm:col-span-3"},Ll=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Referrer",-1),Vl={class:"mt-2"},Ol={key:0,class:"my-6"},Ul={key:1},Bl={class:"col-span-6"};function Hl(t,a,u,c,s,r){const m=g("btnLoader"),d=g("stage_table");return o(),l("div",yl,[e("div",fl,[e("div",vl,[e("div",bl,[xl,e("div",kl,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.mobileNo=n)},null,512),[[f,s.mobileNo]])])]),e("div",Dl,[wl,e("div",$l,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=n=>s.emailId=n)},null,512),[[f,s.emailId]])])]),e("div",Cl,[Sl,e("div",Tl,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=n=>s.startDate=n)},null,512),[[f,s.startDate]])])]),e("div",Al,[Rl,e("div",Nl,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=n=>s.updatedOn=n)},null,512),[[f,s.updatedOn]])])]),e("div",jl,[Il,e("div",Pl,[y(e("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=n=>s.modeOfApplication=n)},null,512),[[f,s.modeOfApplication]])])]),s.referrer?(o(),l("div",Ml,[Ll,e("div",Vl,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=n=>s.referrer=n)},null,512),[[f,s.referrer]])])])):p("",!0)]),t.getIsReject?(o(),l("div",Ol,[e("button",{onClick:a[6]||(a[6]=n=>r.sendMail()),class:"flex justify-center items-center min-w-[130px] h-[36px] py-2 px-4 rounded-lg text-xs text-white font-bold bg-[#753ED7]"},[t.getIsMailLoader?(o(),k(m,{key:0})):(o(),l("span",Ul,"Send Rejection Mail"))])])):p("",!0)]),e("div",Bl,[x(d)])])}const El=N(hl,[["render",Hl]]),Fl={data(){return{nameAsEsign:"",docType:"ESIGN_DOCUMENT"}},computed:{...A("approval",["getCustomerData","getDocumentData","getStageData"])},methods:{goToPreview(t){t=="pdf"?this.$router.push("/preview?ispdf=true"):this.$router.push("/preview")}},mounted(){var a,u,c,s,r,m,d,n,i,h,_,w;let t="preview";this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(u=(a=this.getCustomerData)==null?void 0:a.opportunity_data)==null?void 0:u.name}&documentType=${this.docType}&userId=${(s=(c=this.$store.state.login)==null?void 0:c.userData)==null?void 0:s.user}&sessId=${(d=(m=(r=this.$store.state)==null?void 0:r.login)==null?void 0:m.userData)==null?void 0:d.sid}&token=${(h=(i=(n=this.$store.state)==null?void 0:n.login)==null?void 0:i.userData)==null?void 0:h.tempToken}`,type:t,docType:this.docType}),this.nameAsEsign=(w=(_=this.getCustomerData)==null?void 0:_.opportunity_data)==null?void 0:w.fsl_esiged_name}},Kl={class:"grid grid-cols-12"},zl={class:"col-span-6"},ql={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Wl={class:"sm:col-span-3"},Jl=e("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Name as per Esign",-1),Yl={class:"mt-2"},Gl={class:"col-span-6"},Ql=e("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview",-1);function Xl(t,a,u,c,s,r){const m=g("rejectReason"),d=g("preview_file");return o(),l("div",Kl,[e("div",zl,[e("div",ql,[e("div",Wl,[Jl,e("div",Yl,[y(e("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.nameAsEsign=n)},null,512),[[f,s.nameAsEsign]])])])]),t.getStageData["Esign status"]=="Rejected"&&t.getStageData["Esign remarks"]!=""?(o(),k(m,{key:0,reason:t.getStageData["Esign remarks"]},null,8,["reason"])):p("",!0)]),e("div",Gl,[Ql,x(d,{previewType:t.getDocumentData.type,previewData:t.getDocumentData.data,isPreBtn:!1,preFerence:s.docType},null,8,["previewType","previewData","preFerence"])])])}const Zl=N(Fl,[["render",Xl]]),ed=Te({name:"push_to_reason_dialog",emits:["push_evt"],components:{Dialog:ie,DialogPanel:le,DialogTitle:de,TransitionChild:re,TransitionRoot:ne},props:{reasonData:{type:Object,default:"",required:!0},isOpen:{type:Boolean,default:!1,required:!0}},methods:{close(){this.$emit("push_evt",!1)}}}),td=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),sd={class:"fixed inset-0 z-10 overflow-y-auto"},ad={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},od={class:""},nd={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},rd={class:"flex items-center justify-end"};function id(t,a,u,c,s,r){const m=g("TransitionChild"),d=g("DialogTitle"),n=g("DialogPanel"),i=g("Dialog"),h=g("TransitionRoot");return o(),k(h,{as:"template",show:t.isOpen},{default:D(()=>[x(i,{as:"div",class:"relative z-10",onClose:a[1]||(a[1]=_=>t.close())},{default:D(()=>[x(m,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:D(()=>[td]),_:1}),e("div",sd,[e("div",ad,[x(m,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:D(()=>[x(n,{class:"relative transform overflow-hidden rounded-lg bg-white dark:bg-[#18181b] dark:text-white px-4 pb-4 pt-5 text-left shadow-xl transition-all w-[650px] sm:p-6"},{default:D(()=>[e("div",od,[e("div",nd,[x(d,{as:"h3",class:"text-base font-semibold leading-6 text-gray-900 mb-4",id:"cancel_order_dialog"},{default:D(()=>[R(v(t.reasonData.title)+" Reason ",1)]),_:1}),e("div",null,v(t.reasonData.reason),1)])]),e("div",rd,[e("button",{type:"submit",class:"flex justify-center items-center min-w-[100px] h-[32px] py-2 px-4 rounded-lg text-xs text-white font-bold bg-[#753ED7] mt-4",onClick:a[0]||(a[0]=_=>t.close())},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const ld=N(ed,[["render",id]]),dd={data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Name",class:"text-left"},{name:"Status",class:"text-center"},{name:"Reason",class:"text-left"},{name:"Action",class:"text-center"}],isShowed:!1,isOpen:!1,reasonData:""}},components:{push_to_bo_reason_dialog:ld},computed:{...A("approval",["getBoStatusList","getStageData","getStageData","getDocuments","getDocumentData"])},methods:{async retryBo(t){t=="NSE UCC"?this.$store.dispatch("approval/nseUccUpload"):t=="BSE UCC"?this.$store.dispatch("approval/bseUccUpload"):t=="KRA UPLOAD"?this.$store.dispatch("approval/kraUpload"):t=="KRA IMAGE UPLOAD"||t=="DIGILOCKER XML UPLOAD"?this.$store.dispatch("approval/kraFileUpload"):t=="BSE STAR UCC"?this.$store.dispatch("approval/bseMfUccUpload"):t=="BSE STAR FATCA"?this.$store.dispatch("approval/bseFatcaUpload"):t=="BSE STAR AOF"?this.$store.dispatch("approval/bseStarAOF"):t=="Push to IWAPP"&&this.$store.dispatch("approval/pushIwapp")},checkStatus(){let t=this.getBoStatusList.filter(a=>a.key&&a.key=="Client Code"&&a.value&&a.value=="Success"&&a.reason);t&&t.length>0?this.$store.dispatch("bo/callckyc"):this.$store.dispatch("errorLog/toaster",{data:{title:"You can't have to generate CKYC URL",type:"danger",message:"kindly try after client code generated.",duration:4500},position:""},{root:!0})},async ValidateStatus(){let t=!1;if(this.getStageData){let u=[],c=[];for(let s in this.getStageData)if(s=="nominee"&&this.getStageData[s]&&this.getStageData[s].length>0){let r=this.getStageData[s].every(function(m){return m.status&&m.status=="Approved"});c.push(s),r&&u.push(s)}else this.getStageData[s]&&this.getStageData[s].toString().toLowerCase()=="approved"&&(u.push(s),c.push(s));t=c.length==u.length}let a=!1;this.getDocuments&&this.getDocuments.length>0&&(a=this.getDocuments.filter(c=>c.status&&c.status.toString().toLowerCase()=="approved").length==this.getDocuments.length),this.isShowed=a&&t}},async created(){var t,a;await this.$store.dispatch("approval/getDocuments"),(t=this.$route.query)!=null&&t.id&&await this.$store.dispatch("approval/getStageDetails",(a=this.$route.query)==null?void 0:a.id),await this.ValidateStatus().finally(()=>{this.isShowed&&this.$store.dispatch("approval/checkBoStatus")})}},cd={key:0},md={class:"flex justify-start px-10 py-5"},ud={key:1},pd={class:"bg-white w-full rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},gd={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},_d={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},hd={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},yd={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},fd={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left max-w-[250px]"},vd=["onClick"],bd=e("span",{class:"flex gap-1 items-center"},v("Reason"),-1),xd=[bd],kd={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative flex justify-center ]"},Dd=["onClick"],wd=e("span",{class:"flex gap-1 items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-white-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]),R(" "+v("Retry"))],-1),$d=[wd],Cd=e("span",{class:"flex gap-1 items-center"},v("Generate"),-1),Sd=[Cd],Td={key:1,class:"flex items-center justify-center min-h-[50vh]"};function Ad(t,a,u,c,s,r){const m=g("btnLoader"),d=g("push_to_bo_reason_dialog");return o(),l(T,null,[s.isShowed?(o(),l("div",cd,[e("div",md,[e("button",{type:"button",class:"rounded-md min-w-[150px] bg-white border px-3 py-2 text-sm font-semibold text-black shadow-sm focus-visible:outline",onClick:a[0]||(a[0]=n=>this.$store.state.approval.backOfficeLoader?"":this.$store.dispatch("approval/callBo"))},[this.$store.state.approval.backOfficeLoader?(o(),k(m,{key:0})):(o(),l("span",ud,"Push To Backoffice"))])]),e("table",pd,[e("thead",gd,[e("tr",null,[(o(!0),l(T,null,I(s.tableHeads,(n,i)=>(o(),l("th",{key:i,scope:"col",class:O([n.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},v(n.name),3))),128))])]),e("tbody",null,[(o(!0),l(T,null,I(this.getBoStatusList,(n,i)=>(o(),l("tr",{class:"border-b cursor-pointer hover:bg-gray-50",key:i},[e("td",_d,v(i+1),1),e("td",hd,v(n.key),1),e("td",yd,v(n.value),1),e("td",fd,[n.reason?(o(),l("button",{key:0,onClick:h=>{s.isOpen=!0,s.reasonData={title:n.key,reason:n.reason}},class:"inline-block p-2 border rounded",type:"button"},xd,8,vd)):p("",!0)]),e("td",kd,[n.value=="Failed"?(o(),l("button",{key:0,onClick:h=>r.retryBo(n.key),class:"inline-block p-2 border rounded",type:"button"},$d,8,Dd)):p("",!0),n.key=="Generate CKYC"?(o(),l("button",{key:1,onClick:a[1]||(a[1]=h=>r.checkStatus()),class:"inline-block p-2 border rounded",type:"button"},Sd)):p("",!0)])]))),128))])])])):(o(),l("div",Td,"Stages are not approved yet")),x(d,{"is-open":s.isOpen,reasonData:s.reasonData,onPush_evt:a[2]||(a[2]=n=>s.isOpen=!1)},null,8,["is-open","reasonData"])],64)}const Rd=N(dd,[["render",Ad]]);const Nd=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,jd=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,Id={components:{breadcrumbKyc:$e,tabs:Ce,user_details:El,pan_details:lt,address_details:Ht,profile_details:Is,bank_details:ma,segment_details:Va,nominee_details:qn,document_details:wr,ipv_details:Er,rejectDialog:me,esign_details:Zl,pushto_bo:Rd},data(){return{steps:[{name:"PAN"},{name:"Address"},{name:"Profile"},{name:"Bank"},{name:"Segment"},{name:"Nominee"},{name:"Document"},{name:"IPV"},{name:"ESign"}],userDetails:[{name:"THAVAMANI VINOTH KUMAR",status:"Pending for approval",dob:"18-01-1989",gender:"Male",mobileNo:"9884986649",panNo:"AMDPV9160F"}],currentTab:0,remarks:"",isRejectDialog:!1,tickSvg:Nd,cancelSvg:jd,clientcode:"",selectedData:""}},computed:{...A("approval",["getCustomerData","getStageData","getIsApproveLoader","getIsRejectLoader","getIsResetLoader","getDocuments","getBoStatusList","getIsLoader"]),...A("login",["getUserData"]),...A("tabs",["getKycApprovalTabs"])},methods:{changeTab(t){this.currentTab=t,this.$store.commit("setActiveTab",t),this.$store.commit("setQuries",{data:{tab:t},action:"change"}),this.$store.commit("approval/setDocumentData",""),this.remarks=""},async approveOrRejectDoc(t){await this.$store.dispatch("approval/formatJson",{tab:this.currentTab,status:t,remarks:t=="Rejected"?this.remarks:"",documentCall:{status:t,remarks:t=="Rejected"?this.remarks:"",attachmentType:this.getKycApprovalTabs[this.currentTab].docs}}),this.remarks=""},getDocmentType(){let t="";switch(this.currentTab){case 1:t="Pan";break;case 2:t="Address";break;case 3:t="Profile";break;case 4:t="Bank";break;case 5:t="Segment";break;case 6:t="Nominee";break;case 7:t="Document";break;case 8:t="IPV";break;case 9:t="E-Sign";break}return t},getAttachmentType(){let t="";switch(this.currentTab){case 1:t="PAN";break;case 2:t="Photo";break;case 3:t="CANCELLED_CHEQUE_OR_STATEMENT";break;case 4:t="INCOME_PROOF";break;case 5:t="SIGNATURE";break;case 6:t="ESIGN_DOCUMENT";break;case 7:t="PROTECTED_ESIGN_DOCUMENT";break;case 8:t="ADDITIONAL_DOCUMENT";break;case 9:t="POA";break;case 10:t="CLIENT_PHOTO";break;case 11:t="AADHAR_IMAGE";break}return t},async getRemarks(t){this.remarks=t.remarks,this.remarks&&await this.approveOrRejectDoc("Rejected"),this.isRejectDialog=t.isOpen},getStatusForPage(t){let a="";switch(this.currentTab){case 1:a=this.stringTrim(t["pan status"]);break;case 2:a=this.stringTrim(t["address status"]);break;case 3:a=this.stringTrim(t["profile status"]);break;case 4:a=this.stringTrim(t["bank status"]);break;case 5:a=this.stringTrim(t["segment status"]);break;case 6:a="";break;case 7:a=this.stringTrim(t["document status"]);break;case 8:a=this.stringTrim(t["IPV status"]);break;case 9:a=this.stringTrim(t["Esign status"]);break}return a},stringTrim(t){if(t)return t==null?void 0:t.toString().trim()},getFormat(t){return window.formatDate(t,"D")},progress(){if(this.getStageData){let t=this.getKycApprovalTabs,a=["pan status","profile status","address status","bank status","segment status","IPV status","Esign status"],u=this.getStageData,c=this.getStageData.nominee?this.getStageData.nominee:[],s=0,r=!1,m=!1,d=!1;for(const n in u)a.forEach(i=>{n==i&&u[n]&&(s+=11.1)}),n!="nominee"&&t.forEach(i=>{i.key&&i.key==n&&(i.status=u[n]?u[n]:"Open")});if(r=Object.values(this.getStageData).some(function(n){return n=="Rejected"}),c.length>0){let n=c.filter(_=>_.status=="Approved"),i=c.filter(_=>!_.status);t[6].status=n.length==c.length?"Approved":i.length>0?"Open":"Rejected";let h=c.filter(_=>_.status=="Approved"||_.status=="Rejected");if(h.length>0){let _=parseFloat(11.1)/h.length;s+=_}c.every(function(_){return _.status=="Approved"}),m=c.some(function(_){return _.status=="Rejected"})}else t[6].status="Approved";if(this.getDocuments&&this.getDocuments.length>0){let n=parseFloat(11.1)/this.getDocuments.length,i=this.getDocuments.filter(_=>_.status),h=parseFloat(n*i.length);s+=h,i!=null&&i.length&&(d=i.some(function(_){return _.status=="Rejected"}))}return this.$store.commit("approval/setIsReject",r||m||d),this.$store.commit("tabs/setKycApprovalTabs",t),Math.round(s)}else return 0}},async created(){var t,a;localStorage.getItem("selecteditem")&&localStorage.getItem("selecteditem")!="undefined"&&(this.selectedData=JSON.parse(localStorage.getItem("selecteditem"))),this.currentTab=(t=this.$store.state.queries)!=null&&t.approvepanel?(a=this.$store.state.queries)==null?void 0:a.approvepanel.query.tab:0,this.$store.commit("setActiveTab",this.currentTab),await this.$store.dispatch("approval/getCustomerData",this.$route.query.id).finally(async()=>{var u,c;this.currentTab>-1&&this.currentTab!=10&&(await this.$store.dispatch("approval/getDocuments"),await this.$store.dispatch("approval/checkBoStatus").finally(()=>{for(let s of this.getBoStatusList)s.key=="Client Code"&&!this.clientcode&&(this.clientcode=s.reason?s.reason:"")}),(u=this.$route.query)!=null&&u.id&&await this.$store.dispatch("approval/getStageDetails",(c=this.$route.query)==null?void 0:c.id))})}},Pd={key:0},Md={class:"bg-white py-4 px-4 my-2 rounded-lg flex flex-col flex-wrap gap-4 justify-between mx-4"},Ld={class:"flex flex-wrap gap-4 justify-between"},Vd=e("div",{class:"text-xs mb-2 secondaryColor"}," Name ",-1),Od={class:"text-sm"},Ud=e("div",{class:"text-xs mb-2 secondaryColor"}," Client Code ",-1),Bd={class:"text-sm"},Hd=e("div",{class:"text-xs mb-2 secondaryColor"}," Status ",-1),Ed={class:"text-sm"},Fd=e("div",{class:"text-xs mb-2 secondaryColor"}," DOB ",-1),Kd={class:"text-sm"},zd=e("div",{class:"text-xs mb-2 secondaryColor"}," Gender ",-1),qd={class:"text-sm"},Wd=e("div",{class:"text-xs mb-2 secondaryColor"}," Mobile ",-1),Jd={class:"text-sm"},Yd=e("div",{class:"text-xs mb-2 secondaryColor"}," PAN ",-1),Gd={class:"text-sm"},Qd=e("div",{class:"text-xs mb-2 secondaryColor"}," Branch ",-1),Xd={class:"text-sm"},Zd=e("div",{class:"text-xs mb-2 secondaryColor"}," Refer By ",-1),ec={class:"text-sm"},tc={class:"w-full mb-2 secondary-color dark:text-[#94A3B8] font-medium text-sm"},sc={class:"flex items-center"},ac={class:"progress-bar bg-[#d9d7d7] dark:bg-gray-600"},oc={class:"p-4"},nc={key:0},rc={key:0,class:"flex gap-4 my-4 justify-between absolute right-4 bottom-2"},ic=["innerHTML"],lc=["innerHTML"],dc={key:0,class:"flex gap-1 items-center"},cc=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-white-500"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),mc={key:2,class:"flex gap-4"},uc={key:0,class:"flex items-center justify-center gap-1"},pc=["innerHTML"],gc={class:"flex items-center justify-center gap-1"},_c=["innerHTML"];function hc(t,a,u,c,s,r){var j,U,B,H,E,F,K,z,q,W,J,Y,G,Q,X,Z,ee,te,se,ae;const m=g("breadcrumbKyc"),d=g("tabs"),n=g("user_details"),i=g("pan_details"),h=g("address_details"),_=g("profile_details"),w=g("bank_details"),b=g("segment_details"),$=g("nominee_details"),C=g("document_details"),P=g("ipv_details"),M=g("esign_details"),L=g("pushto_bo"),S=g("btnLoader"),V=g("rejectDialog");return o(),l(T,null,[e("div",null,[x(m)]),t.getIsLoader?p("",!0):(o(),l("div",Pd,[e("div",Md,[e("div",Ld,[e("div",null,[Vd,e("div",Od,v((U=(j=t.getCustomerData)==null?void 0:j.opportunity_data)==null?void 0:U.fsl_user_name),1)]),e("div",null,[Ud,e("div",Bd,v(t.$store.state.approval.clientCode),1)]),e("div",null,[Hd,e("div",Ed,v((H=(B=t.getCustomerData)==null?void 0:B.opportunity_data)==null?void 0:H.status),1)]),e("div",null,[Fd,e("div",Kd,v(r.getFormat((F=(E=t.getCustomerData)==null?void 0:E.opportunity_data)==null?void 0:F.fsl_dob)),1)]),e("div",null,[zd,e("div",qd,v((z=(K=t.getCustomerData)==null?void 0:K.profile_data)==null?void 0:z.gender),1)]),e("div",null,[Wd,e("div",Jd,v((W=(q=t.getCustomerData)==null?void 0:q.opportunity_data)==null?void 0:W.fsl_mobile_num),1)]),e("div",null,[Yd,e("div",Gd,v((Y=(J=t.getCustomerData)==null?void 0:J.opportunity_data)==null?void 0:Y.fsl_pan_no),1)]),e("div",null,[Qd,e("div",Xd,v(((Q=(G=t.getCustomerData)==null?void 0:G.opportunity_data)==null?void 0:Q.fsl_mode_of_application)=="DIRECT"?"DIGI":(X=s.selectedData)!=null&&X.branch?(Z=s.selectedData)==null?void 0:Z.branch:""),1)]),e("div",null,[Zd,e("div",ec,v((te=(ee=t.getCustomerData)==null?void 0:ee.opportunity_data)==null?void 0:te.fsl_referral_by),1)])]),e("div",null,[e("div",tc,"Progress ("+v(r.progress())+"%)",1),e("div",sc,[e("div",ac,[e("div",{class:"progress",style:Ae({width:r.progress()+"%"})},null,4)])])])]),x(d,{class:"mx-4",onActiveTab:r.changeTab},null,8,["onActiveTab"]),e("div",oc,[s.currentTab==0?(o(),k(n,{key:0,cutomerData:t.getCustomerData},null,8,["cutomerData"])):p("",!0),s.currentTab==1?(o(),k(i,{key:1})):p("",!0),s.currentTab==2?(o(),k(h,{key:2,cutomerData:t.getCustomerData},null,8,["cutomerData"])):p("",!0),s.currentTab==3?(o(),k(_,{key:3})):p("",!0),s.currentTab==4?(o(),k(w,{key:4})):p("",!0),s.currentTab==5?(o(),k(b,{key:5})):p("",!0),s.currentTab==6?(o(),k($,{key:6})):p("",!0),s.currentTab==7?(o(),k(C,{key:7})):p("",!0),s.currentTab==8?(o(),k(P,{key:8})):p("",!0),s.currentTab==9?(o(),k(M,{key:9})):p("",!0),s.currentTab==10?(o(),k(L,{key:10})):p("",!0)]),((se=t.$route.query)==null?void 0:se.from)!="opportunity"&&((ae=t.getUserData)==null?void 0:ae.Role)!="RM"?(o(),l("div",nc,[s.currentTab!=0&&s.currentTab!=7&&s.currentTab!=6&&s.currentTab!=10?(o(),l("div",rc,[r.getStatusForPage(t.getStageData)!=""&&r.getStatusForPage(t.getStageData)!="Reset"&&r.getStatusForPage(t.getStageData)?(o(),l("div",{key:0,class:O(["flex gap-1 justify-center items-center min-w-[120px] h-[36px] py-2 rounded-lg text-white font-bold",r.getStatusForPage(t.getStageData)=="Approved"?"bg-green-700":"bg-red-700"])},[r.getStatusForPage(t.getStageData)=="Approved"?(o(),l("div",{key:0,innerHTML:s.tickSvg},null,8,ic)):r.getStatusForPage(t.getStageData)=="Rejected"?(o(),l("div",{key:1,innerHTML:s.cancelSvg},null,8,lc)):p("",!0),R(" "+v(r.getStatusForPage(t.getStageData)),1)],2)):p("",!0),r.getStatusForPage(t.getStageData)&&(r.getStatusForPage(t.getStageData)=="Approved"||r.getStatusForPage(t.getStageData)=="Rejected"||r.getStatusForPage(t.getStageData)=="Reset")?(o(),l("div",{key:1,class:"flex gap-1 justify-center items-center min-w-[120px] h-[36px] ml-2 bg-white py-2 rounded-lg text-blue-700 font-bold border border-blue-700 cursor-pointer",onClick:a[0]||(a[0]=oe=>r.approveOrRejectDoc("Reset"))},[t.getIsResetLoader?(o(),k(S,{key:1})):(o(),l("span",dc,[cc,R(" "+v("Reset"))]))])):(o(),l("div",mc,[e("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-teal-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[1]||(a[1]=oe=>r.approveOrRejectDoc("Approved"))},[t.getIsApproveLoader?(o(),k(S,{key:1})):(o(),l("span",uc,[e("div",{innerHTML:s.tickSvg},null,8,pc),R("Approve ")]))]),e("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-orange-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[2]||(a[2]=oe=>this.remarks?r.approveOrRejectDoc("Rejected"):s.isRejectDialog=!0)},[e("span",gc,[e("div",{innerHTML:s.cancelSvg},null,8,_c),R("Reject ")])])]))])):p("",!0)])):p("",!0),s.isRejectDialog&&s.currentTab!=6&&s.currentTab!=7?(o(),k(V,{key:1,"active-tab":s.currentTab,"is-open":s.isRejectDialog,onSendRemarks:r.getRemarks},null,8,["active-tab","is-open","onSendRemarks"])):p("",!0)]))],64)}const Cc=N(Id,[["render",hc]]);export{Cc as default};
