import{m as S,_ as P,o,c as i,a as t,F as w,u as N,x as L,t as _,y as c,W as Z,r as b,b as p,v as g,e as x,B as C,q as M,s as T,T as kt,E as Dt}from"./index-1fa13a40.js";import{r as wt}from"./HomeIcon-92c123e7.js";import{B as Ct,N as St,K as $t,U as At,H as Tt,t as Nt}from"./tabs-da3266bb.js";/* empty css              */import{r as Pt,a as Mt}from"./ChevronUpDownIcon-a7345d7f.js";import{U as It,G as Rt,V as Lt,h as jt,S as Et}from"./transition-2fdee534.js";import"./use-text-value-940b42dc.js";const Ut={setCookie(e,a){var m=e+"="+encodeURIComponent(a),u=new Date,s=u.getDate();let r=u.getMonth()+1;var l=r>9?r:`0${r}`,d=u.getFullYear(),n=`${s}/${l}/${d}/23:59:59`;u.setDate(n),m+="; max-age="+u+";SameSite=strict",document.cookie=m}},Bt={components:{HomeIcon:wt},data(){return{pages:[]}},computed:{...S("approval",["getCustomerData"])},methods:{handleClick(e){e.isRoute&&this.$router.push(`/${e.name.toLowerCase()}`).catch(()=>{})}},mounted(){var e,a;this.pages.push({name:`${this.$route.query.from.charAt(0).toUpperCase()+this.$route.query.from.slice(1)}`,current:!1,isRoute:!0}),this.pages.push({name:`${(a=(e=this.getCustomerData)==null?void 0:e.opportunity_data)==null?void 0:a.fsl_user_name}`,current:!0,isRoute:!1})}},Ot={class:"flex p-5 py-2","aria-label":"Breadcrumb"},Vt={role:"list",class:"flex items-center space-x-4"},Ht=["onClick"],Ft={class:"flex items-center"},zt={key:0,class:"h-5 w-5 flex-shrink-0 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true"},qt=t("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"},null,-1),Wt=[qt];function Kt(e,a,m,u,s,r){return o(),i("nav",Ot,[t("ol",Vt,[(o(!0),i(w,null,N(s.pages,(l,d)=>(o(),i("li",{key:l.name,onClick:n=>r.handleClick(l),class:"cursor-pointer"},[t("div",Ft,[t("a",{class:L(["mr-4 text-sm font-medium",l.current?"text-gray-500 hover:text-gray-700":"violet-color"])},_(l.name.toString().toLowerCase()=="kycapproval"?"Approval":l.name),3),d==0?(o(),i("svg",zt,Wt)):c("",!0)])],8,Ht))),128))])])}const Gt=P(Bt,[["render",Kt]]),Yt={components:{VueCropper:Z},mixins:[Ut],data(){return{panNumber:"",nameAsPan:"",nameAsAadhar:"",panStatusCode:"",kraRespDate:"",trackWiz:""}},computed:{...S("approval",["getCustomerData","getDocumentData"])},methods:{goToPreview(){this.$router.push("/preview")}},mounted(){var e,a,m,u,s,r,l,d,n,y,f,v,h,k,D,A,j,E,U,$,B,I,R,O,V,H;this.getCustomerData&&((e=this.getCustomerData)!=null&&e.opportunity_data)&&((a=this.getCustomerData.opportunity_data)!=null&&a.fsl_pan_no&&(this.panNumber=(m=this.getCustomerData.opportunity_data)==null?void 0:m.fsl_pan_no),(u=this.getCustomerData.opportunity_data)!=null&&u.fsl_user_name&&(this.nameAsPan=(s=this.getCustomerData.opportunity_data)==null?void 0:s.fsl_user_name),(r=this.getCustomerData.opportunity_data)!=null&&r.fsl_user_name&&(this.nameAsAadhar=(l=this.getCustomerData.opportunity_data)==null?void 0:l.fsl_user_name),(d=this.getCustomerData.opportunity_data)!=null&&d.fsl_pan_status_code&&((n=this.getCustomerData.opportunity_data)!=null&&n.fsl_pan_status_code_description)&&(this.panStatusCode=`${(y=this.getCustomerData.opportunity_data)==null?void 0:y.fsl_pan_status_code} - ${(f=this.getCustomerData.opportunity_data)==null?void 0:f.fsl_pan_status_code_description}`),(v=this.getCustomerData.opportunity_data)!=null&&v.fsl_kra_response_date&&(this.kraRespDate=window.formatDate((h=this.getCustomerData.opportunity_data)==null?void 0:h.fsl_kra_response_date,"D"))),this.getCustomerData&&((k=this.getCustomerData)!=null&&k.profile_data)&&(D=this.getCustomerData.profile_data)!=null&&D.trackwizz_passkey&&(this.trackWiz=(A=this.getCustomerData.profile_data)==null?void 0:A.trackwizz_passkey),this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(E=(j=this.getCustomerData)==null?void 0:j.opportunity_data)==null?void 0:E.name}&documentType=PAN&userId=${($=(U=this.$store.state.login)==null?void 0:U.userData)==null?void 0:$.user}&sessId=${(R=(I=(B=this.$store.state)==null?void 0:B.login)==null?void 0:I.userData)==null?void 0:R.sid}&token=${(H=(V=(O=this.$store.state)==null?void 0:O.login)==null?void 0:V.userData)==null?void 0:H.tempToken}`,type:"preview",docType:"PAN"})}},Jt={class:"grid grid-cols-12"},Qt={class:"col-span-6"},Xt={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Zt={class:"sm:col-span-3"},te=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"PAN Number",-1),ee={class:"mt-2"},se={class:"sm:col-span-3"},ae=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Name as per PAN",-1),oe={class:"mt-2"},re={class:"sm:col-span-3"},ne=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"PAN Status Code",-1),ie={class:"mt-2"},le={class:"sm:col-span-3"},de=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Name as per Aadhar",-1),ce={class:"mt-2"},ue={class:"sm:col-span-3"},me=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"KRA Response Date",-1),pe={class:"mt-2"},ge={class:"sm:col-span-3"},_e=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Track Wiz",-1),he={class:"mt-2"},ye={class:"col-span-6"},fe=t("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview",-1),be={class:"rounded-lg my-4"};function ve(e,a,m,u,s,r){const l=b("VueCropper");return o(),i("div",Jt,[t("div",Qt,[t("div",Xt,[t("div",Zt,[te,t("div",ee,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=d=>s.panNumber=d)},null,512),[[g,s.panNumber]])])]),t("div",se,[ae,t("div",oe,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=d=>s.nameAsPan=d)},null,512),[[g,s.nameAsPan]])])]),t("div",re,[ne,t("div",ie,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=d=>s.panStatusCode=d)},null,512),[[g,s.panStatusCode]])])]),t("div",le,[de,t("div",ce,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=d=>s.nameAsAadhar=d)},null,512),[[g,s.nameAsAadhar]])])]),t("div",ue,[me,t("div",pe,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=d=>s.kraRespDate=d)},null,512),[[g,s.kraRespDate]])])]),t("div",ge,[_e,t("div",he,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=d=>s.trackWiz=d)},null,512),[[g,s.trackWiz]])])])])]),t("div",ye,[fe,t("div",be,[e.getDocumentData?(o(),x(l,{key:0,ref:"image1",img:e.getDocumentData,info:!0,canMove:!0,canScale:!0,autoCrop:!1,outputSize:1,alt:"Source Image",class:"cropper"},null,8,["img"])):c("",!0)])])])}const xe=P(Yt,[["render",ve]]),ke={data(){return{address:"",aadharNo:"",source:"",kraAddressProof:"",kraAddressProofId:""}},computed:{...S("approval",["getCustomerData"])},mounted(){var e,a,m,u,s,r,l,d,n,y,f,v;this.getCustomerData&&((e=this.getCustomerData.address_data)==null?void 0:e.fsl_is_kra)==1&&((a=this.getCustomerData.address_data)!=null&&a.fsl_kra_address_1&&(this.address=((m=this.getCustomerData.address_data)==null?void 0:m.fsl_kra_address_1)+((u=this.getCustomerData.address_data)==null?void 0:u.fsl_kra_address_2)+((s=this.getCustomerData.address_data)==null?void 0:s.fsl_kra_address_3)),this.aadharNo="",this.source="KRA",(r=this.getCustomerData.address_data)!=null&&r.fsl_kra_address_proof&&(this.kraAddressProof=(l=this.getCustomerData.address_data)==null?void 0:l.fsl_kra_address_proof),(d=this.getCustomerData.address_data)!=null&&d.fsl_kra_proof_idnumber&&(this.kraAddressProofId=(n=this.getCustomerData.address_data)==null?void 0:n.fsl_kra_proof_idnumber)),this.getCustomerData&&((y=this.getCustomerData.address_data)==null?void 0:y.fsl_is_digi)==1&&((f=this.getCustomerData.address_data)!=null&&f.fsl_digi_cur_address&&(this.address=(v=this.getCustomerData.address_data)==null?void 0:v.fsl_digi_cur_address),this.source="DIGIO",this.getCustomerData&&(this.kraAddressProof=this.getCustomerData),this.getCustomerData&&(this.kraAddressProofId=this.getCustomerData),this.getCustomerData.opportunity_data.fsl_aadhar_no&&(this.aadharNo=this.getCustomerData.opportunity_data.fsl_aadhar_no))}},De={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-12 md:grid-cols-3"},we={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Ce={class:"col-span-full"},Se=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),$e={class:"mt-2"},Ae={class:"col-span-full"},Te=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Source",-1),Ne={class:"mt-2"},Pe={key:0,class:"col-span-full"},Me={key:0,class:"flex justify-between"},Ie={class:"w-[48%]"},Re=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"KRA Address Proof",-1),Le={class:"mt-2"},je={class:"w-[48%]"},Ee=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"KRA Proof Id Number",-1),Ue={class:"mt-2"},Be={key:1,class:"sm:col-span-3"},Oe=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Aadhar Number",-1),Ve={class:"mt-2"};function He(e,a,m,u,s,r){return o(),i("div",De,[t("div",we,[t("div",Ce,[Se,t("div",$e,[p(t("textarea",{disabled:"",name:"message",id:"message",rows:"4",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6","onUpdate:modelValue":a[0]||(a[0]=l=>s.address=l)},null,512),[[g,s.address]])])]),t("div",Ae,[Te,t("div",Ne,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=l=>s.source=l)},null,512),[[g,s.source]])])]),s.source?(o(),i("div",Pe,[s.source=="KRA"?(o(),i("div",Me,[t("div",Ie,[Re,t("div",Le,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=l=>s.kraAddressProof=l)},null,512),[[g,s.kraAddressProof]])])]),t("div",je,[Ee,t("div",Ue,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=l=>s.kraAddressProofId=l)},null,512),[[g,s.kraAddressProofId]])])])])):(o(),i("div",Be,[Oe,t("div",Ve,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=l=>s.aadharNo=l)},null,512),[[g,s.aadharNo]])])]))])):c("",!0)])])}const Fe=P(ke,[["render",He]]),ze=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
</svg>
`,qe=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
</svg>
`,We={data(){return{fathersName:"",mothersName:"",occupation:"",tradingExp:"",annualIncome:"",netWorth:"",maritalStatus:"",isPoliticalExposedPerson:"",taxOutSideIndia:"",settlementCycle:"",standingInstruction:"",fatca:"",otherStandingIntrustions:[],upArrow:ze,downArrow:qe,isOpen:!1,standingInstrationsArray:[{key:"standing_instruction_one",content:"I/We instruct the DP to receive each and every credit in my/our account (If not marked,the default option would be Yes)",value:""},{key:"standing_instruction_two",content:"SMS Alert Facility: Mobile No. +91 Mandatory, if you are giving power of Attorney (POA / DDPI). If POA is not granted & you do not wish to avail of this facility, cancel this option.",value:""},{key:"standing_instruction_three",content:"Account Statement Requirement.",value:""},{key:"standing_instruction_four",content:"I/We wish to receive all documents viz., Contract Note / Transaction and Holding Statement etc in Electronic mode. Authorisation for sending documents through email id: is being executed.",value:""},{key:"standing_instruction_five",content:"I/We wish to receive dividend/interest directly in to my/our bank account provided through ECS [ECS is mandatory for locations notified by SEBI from time to time].",value:""},{key:"standing_instruction_six",content:"I/We wish to register myself in CDSL - easi facility (I/We understand that Easi allows a BO to view ISIN balances, transactions and value of the portfolio online).",value:""},{key:"standing_instruction_seven",content:"I/We wish to avail the facility of Internet Trading / Wireless Technology.",value:""},{key:"standing_instruction_eight",content:"I/We hereby instruct DP to accept all the pledge instructions in my/our account without any other further instructions.",value:""},{key:"standing_instruction_nine",content:"I/We would like to share the email ID with the RTA.",value:""},{key:"standing_instruction_ten",content:"Do you wish to receive the notifications through Whatsapp.",value:""},{key:"standing_instruction_twelve",content:"I/We require the Delivery Instruction Slip at the time of account opening.",value:""},{key:"standing_instruction_eleven",content:"I/We would like to receive the Annual Report of companies held by me/us. (Tick the appropriate box. If not marked the default option would be in Physical).",value:""}],isStandingInstrutions:!1}},computed:{...S("approval",["getCustomerData"])},mounted(){var e,a,m,u,s,r,l,d,n,y,f,v,h,k,D,A,j,E,U,$,B,I,R,O,V,H,F,z,q,W,K,G,Y,J,Q,X,st,at,ot,rt,nt,it,lt,dt,ct,ut,mt,pt,gt,_t,ht,yt,ft,bt,vt,xt;if(this.getCustomerData&&(this.getCustomerData.opportunity_data&&((((a=(e=this.getCustomerData)==null?void 0:e.opportunity_data)==null?void 0:a.annual_revenue)==0||(u=(m=this.getCustomerData)==null?void 0:m.opportunity_data)!=null&&u.annual_revenue)&&(this.annualIncome=(s=this.getCustomerData)==null?void 0:s.opportunity_data.annual_revenue),(l=(r=this.getCustomerData)==null?void 0:r.opportunity_data)!=null&&l.fsl_fatca&&(this.fatca=(n=(d=this.getCustomerData)==null?void 0:d.opportunity_data)==null?void 0:n.fsl_fatca)),this.getCustomerData.profile_data)){(y=this.getCustomerData)!=null&&y.profile_data.father_name&&(this.fathersName=(v=(f=this.getCustomerData)==null?void 0:f.profile_data)==null?void 0:v.father_name),(k=(h=this.getCustomerData)==null?void 0:h.profile_data)!=null&&k.marital_status&&(this.maritalStatus=(A=(D=this.getCustomerData)==null?void 0:D.profile_data)==null?void 0:A.marital_status),(E=(j=this.getCustomerData)==null?void 0:j.profile_data)!=null&&E.political_exposure&&(this.isPoliticalExposedPerson=($=(U=this.getCustomerData)==null?void 0:U.profile_data)==null?void 0:$.political_exposure),(I=(B=this.getCustomerData)==null?void 0:B.profile_data)!=null&&I.tax_outside_india&&(this.taxOutSideIndia=(O=(R=this.getCustomerData)==null?void 0:R.profile_data)==null?void 0:O.tax_outside_india),(H=(V=this.getCustomerData)==null?void 0:V.profile_data)!=null&&H.settlement_cycle&&(this.settlementCycle=(z=(F=this.getCustomerData)==null?void 0:F.profile_data)==null?void 0:z.settlement_cycle),(W=(q=this.getCustomerData)==null?void 0:q.profile_data)!=null&&W.fatca&&(this.fatca=(G=(K=this.getCustomerData)==null?void 0:K.profile_data)==null?void 0:G.fatca),(J=(Y=this.getCustomerData)==null?void 0:Y.profile_data)!=null&&J.mother_name&&(this.mothersName=(X=(Q=this.getCustomerData)==null?void 0:Q.profile_data)==null?void 0:X.mother_name),(at=(st=this.getCustomerData)==null?void 0:st.profile_data)!=null&&at.standinginstructios&&(this.standingInstruction=(rt=(ot=this.getCustomerData)==null?void 0:ot.profile_data)==null?void 0:rt.standinginstructios),(it=(nt=this.getCustomerData)==null?void 0:nt.profile_data)!=null&&it.occupation&&(this.occupation=(dt=(lt=this.getCustomerData)==null?void 0:lt.profile_data)==null?void 0:dt.occupation),(ut=(ct=this.getCustomerData)==null?void 0:ct.profile_data)!=null&&ut.trading_experience&&(this.tradingExp=(pt=(mt=this.getCustomerData)==null?void 0:mt.profile_data)==null?void 0:pt.trading_experience),(_t=(gt=this.getCustomerData)==null?void 0:gt.profile_data)!=null&&_t.net_worth&&(this.netWorth=(yt=(ht=this.getCustomerData)==null?void 0:ht.profile_data)==null?void 0:yt.net_worth),(bt=(ft=this.getCustomerData)==null?void 0:ft.profile_data)!=null&&bt.standinginstructios&&((xt=(vt=this.getCustomerData)==null?void 0:vt.profile_data)==null?void 0:xt.standinginstructios)=="Yes"&&(this.isStandingInstrutions=!0);for(let tt of this.standingInstrationsArray)this.getCustomerData.profile_data[tt.key]&&(tt.value=this.getCustomerData.profile_data[tt.key])}}},Ke={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-12 md:grid-cols-2"},Ge={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-12 md:col-span-2"},Ye={class:"sm:col-span-3"},Je=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Father's Name",-1),Qe={class:"mt-2"},Xe={class:"sm:col-span-3"},Ze=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Mother's Name",-1),ts={class:"mt-2"},es={class:"sm:col-span-3"},ss=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Occupation",-1),as={class:"mt-2"},os={class:"sm:col-span-3"},rs=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Trading Experience",-1),ns={class:"mt-2"},is={class:"sm:col-span-3"},ls=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Annual Income",-1),ds={class:"mt-2"},cs={class:"sm:col-span-3"},us=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Net Worth",-1),ms={class:"mt-2"},ps={class:"sm:col-span-3"},gs=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Marital Status",-1),_s={class:"mt-2"},hs={class:"sm:col-span-3"},ys=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Politically Exposed Person ?",-1),fs={class:"mt-2"},bs={class:"sm:col-span-3"},vs=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Tax Outside India",-1),xs={class:"mt-2"},ks={class:"sm:col-span-3"},Ds=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Settlement Cycle",-1),ws={class:"mt-2"},Cs={class:"sm:col-span-3"},Ss=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"FATCA",-1),$s={class:"mt-2"},As={key:0,class:"my-4 flex flex-col gap-4"},Ts={class:"cursor-pointer p-4 shadow rounded-lg bg-white transition duration-1000 ease-in-out w-full"},Ns=t("div",{class:"text-sm font-semibold"}," Standing Instructions ",-1),Ps=["innerHTML"],Ms=["innerHTML"],Is={key:0,class:"mt-4"};function Rs(e,a,m,u,s,r){return o(),i(w,null,[t("div",Ke,[t("div",Ge,[t("div",Ye,[Je,t("div",Qe,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=l=>s.fathersName=l)},null,512),[[g,s.fathersName]])])]),t("div",Xe,[Ze,t("div",ts,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=l=>s.mothersName=l)},null,512),[[g,s.mothersName]])])]),t("div",es,[ss,t("div",as,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=l=>s.occupation=l)},null,512),[[g,s.occupation]])])]),t("div",os,[rs,t("div",ns,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=l=>s.tradingExp=l)},null,512),[[g,s.tradingExp]])])]),t("div",is,[ls,t("div",ds,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=l=>s.annualIncome=l)},null,512),[[g,s.annualIncome]])])]),t("div",cs,[us,t("div",ms,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=l=>s.netWorth=l)},null,512),[[g,s.netWorth]])])]),t("div",ps,[gs,t("div",_s,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[6]||(a[6]=l=>s.maritalStatus=l)},null,512),[[g,s.maritalStatus]])])]),t("div",hs,[ys,t("div",fs,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[7]||(a[7]=l=>s.isPoliticalExposedPerson=l)},null,512),[[g,s.isPoliticalExposedPerson]])])]),t("div",bs,[vs,t("div",xs,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[8]||(a[8]=l=>s.taxOutSideIndia=l)},null,512),[[g,s.taxOutSideIndia]])])]),t("div",ks,[Ds,t("div",ws,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[9]||(a[9]=l=>s.settlementCycle=l)},null,512),[[g,s.settlementCycle]])])]),t("div",Cs,[Ss,t("div",$s,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[10]||(a[10]=l=>s.fatca=l)},null,512),[[g,s.fatca]])])])])]),s.isStandingInstrutions?(o(),i("div",As,[t("div",Ts,[t("div",{class:"flex justify-between gap-3",onClick:a[11]||(a[11]=l=>s.isOpen=!s.isOpen)},[Ns,t("div",null,[s.isOpen?c("",!0):(o(),i("div",{key:0,innerHTML:s.downArrow},null,8,Ps)),s.isOpen?(o(),i("div",{key:1,innerHTML:s.upArrow},null,8,Ms)):c("",!0)])]),s.isOpen?(o(),i("div",Is,[(o(!0),i(w,null,N(s.standingInstrationsArray,(l,d)=>(o(),i("div",{key:d,class:"flex align-center text-sm justify-between pb-2"},[t("div",null,_(l.content),1),C(),t("div",null,_(l.value),1)]))),128))])):c("",!0)])])):c("",!0)],64)}const Ls=P(We,[["render",Rs]]),js={components:{VueCropper:Z},data(){return{bankName:"",branchName:"",ifscCode:"",micrCode:"",acHolderName:"",acNo:"",pennyVerifyStatus:"",address:""}},computed:{...S("approval",["getCustomerData","getDocumentData"])},mounted(){var e,a,m,u,s,r,l,d,n,y;this.getCustomerData&&this.getCustomerData.opportunity_data&&(this.getCustomerData.opportunity_data.fsl_bank_name&&(this.bankName=this.getCustomerData.opportunity_data.fsl_bank_name),this.getCustomerData.opportunity_data.fsl_bank_branch&&(this.branchName=this.getCustomerData.opportunity_data.fsl_bank_branch),this.getCustomerData.opportunity_data.fsl_bank_ifsc&&(this.ifscCode=this.getCustomerData.opportunity_data.fsl_bank_ifsc),this.getCustomerData.opportunity_data.fsl_bank_micr&&(this.micrCode=this.getCustomerData.opportunity_data.fsl_bank_micr),this.getCustomerData.opportunity_data.fsl_acc_hname&&(this.acHolderName=this.getCustomerData.opportunity_data.fsl_acc_hname),this.getCustomerData.opportunity_data.fsl_verify_acc_number&&(this.acNo=this.getCustomerData.opportunity_data.fsl_verify_acc_number),this.getCustomerData.opportunity_data.hasOwnProperty("fsl_penny_confirm")&&(this.pennyVerifyStatus=this.getCustomerData.opportunity_data.fsl_penny_confirm==1?"Success":"Failed"),this.getCustomerData.opportunity_data.fsl_bank_address&&(this.address=this.getCustomerData.opportunity_data.fsl_bank_address)),this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(a=(e=this.getCustomerData)==null?void 0:e.opportunity_data)==null?void 0:a.name}&documentType=CANCELLED_CHEQUE_OR_STATEMENT&userId=${(u=(m=this.$store.state.login)==null?void 0:m.userData)==null?void 0:u.user}&sessId=${(l=(r=(s=this.$store.state)==null?void 0:s.login)==null?void 0:r.userData)==null?void 0:l.sid}&token=${(y=(n=(d=this.$store.state)==null?void 0:d.login)==null?void 0:n.userData)==null?void 0:y.tempToken}`,type:"preview",docType:"CANCELLED_CHEQUE_OR_STATEMENT"})}},Es={class:"grid grid-cols-12"},Us={class:"col-span-6"},Bs={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Os={class:"col-span-full"},Vs=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Penny Drop Verification Status",-1),Hs={class:"mt-2"},Fs={class:"sm:col-span-3"},zs=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Account Holder Name",-1),qs={class:"mt-2"},Ws={class:"sm:col-span-3"},Ks=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Account Number",-1),Gs={class:"mt-2"},Ys={class:"sm:col-span-3"},Js=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"IFSC Code",-1),Qs={class:"mt-2"},Xs={class:"sm:col-span-3"},Zs=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"MICR Code",-1),ta={class:"mt-2"},ea={class:"sm:col-span-3"},sa=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Bank Name",-1),aa={class:"mt-2"},oa={class:"sm:col-span-3"},ra=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Branch Name",-1),na={class:"mt-2"},ia={class:"col-span-full"},la=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address of Bank",-1),da={class:"mt-2"},ca={class:"col-span-6"},ua=t("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview",-1),ma={class:"rounded-lg my-4 h-[320px]"};function pa(e,a,m,u,s,r){const l=b("VueCropper");return o(),i("div",Es,[t("div",Us,[t("div",Bs,[t("div",Os,[Vs,t("div",Hs,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=d=>s.pennyVerifyStatus=d)},null,512),[[g,s.pennyVerifyStatus]])])]),t("div",Fs,[zs,t("div",qs,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=d=>s.acHolderName=d)},null,512),[[g,s.acHolderName]])])]),t("div",Ws,[Ks,t("div",Gs,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=d=>s.acNo=d)},null,512),[[g,s.acNo]])])]),t("div",Ys,[Js,t("div",Qs,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=d=>s.ifscCode=d)},null,512),[[g,s.ifscCode]])])]),t("div",Xs,[Zs,t("div",ta,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=d=>s.micrCode=d)},null,512),[[g,s.micrCode]])])]),t("div",ea,[sa,t("div",aa,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=d=>s.bankName=d)},null,512),[[g,s.bankName]])])]),t("div",oa,[ra,t("div",na,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[6]||(a[6]=d=>s.branchName=d)},null,512),[[g,s.branchName]])])]),t("div",ia,[la,t("div",da,[p(t("textarea",{disabled:"",name:"message",id:"message",rows:"4",class:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6","onUpdate:modelValue":a[7]||(a[7]=d=>s.address=d)},null,512),[[g,s.address]])])])])]),t("div",ca,[ua,t("div",ma,[e.getDocumentData?(o(),x(l,{key:0,ref:"image1",img:e.getDocumentData,info:!0,canMove:!0,canScale:!0,autoCrop:!1,outputSize:1,alt:"Source Image",class:"cropper"},null,8,["img"])):c("",!0)])])])}const ga=P(js,[["render",pa]]),_a=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-green-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,ha=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,ya={data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Segment Details",class:"text-left"},{name:"Value",class:"text-left"}],tableData:[{field:"Equity Cash - NSE",value:""},{field:"Equity Cash - BSE",value:""},{field:"Equity Derivaties - NSE",value:""},{field:"Mutual Funds - NSE",value:""},{field:"Mutual Funds - BSE",value:""},{field:"Mutual Funds Depository",value:""},{field:"SLB - NSE",value:""},{field:"SLB - BSE",value:""},{field:"Currency Derivatives - NSE",value:""},{field:"Currency Derivatives Type",value:""},{field:"Segment Consent",value:""}],paymentTableHeads:[{name:"S.No",class:"text-center"},{name:"Payment Details",class:"text-left"},{name:"Value",class:"text-left"}],paymentTableData:[{field:"Trading Scheme",value:""},{field:"DP Scheme",value:""},{field:"DDPI",value:""},{field:"Scheme consent",value:""},{field:"Amount",value:""}],tickSvg:_a,cancelSvg:ha}},computed:{...S("approval",["getCustomerData"])},mounted(){this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_equity_cash")&&(this.tableData[0].value=this.tableData[1].value=this.getCustomerData.opportunity_data.fsl_equity_cash==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_equity_derivative")&&(this.tableData[2].value=this.getCustomerData.opportunity_data.fsl_equity_derivative==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_mutual_funds")&&(this.tableData[3].value=this.tableData[4].value=this.getCustomerData.opportunity_data.fsl_mutual_funds==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_mf_phy_or_dig")&&(this.tableData[5].value=this.getCustomerData.opportunity_data.fsl_mf_phy_or_dig),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_slb")&&(this.tableData[6].value=this.tableData[7].value=this.getCustomerData.opportunity_data.fsl_slb==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_currency_derivatives")&&(this.tableData[8].value=this.getCustomerData.opportunity_data.fsl_currency_derivatives==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_currency_derivatives_type")&&(this.tableData[9].value=this.getCustomerData.opportunity_data.fsl_currency_derivatives_type),this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.hasOwnProperty("fsl_consent")&&(this.tableData[10].value=this.getCustomerData.opportunity_data.fsl_consent==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("trading_scheme")&&(this.paymentTableData[0].value=this.getCustomerData.trading_scheme.trading_scheme),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("db_scheme")&&(this.paymentTableData[1].value=this.getCustomerData.trading_scheme.db_scheme),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("ddpi")&&(this.paymentTableData[2].value=this.getCustomerData.trading_scheme.ddpi==1?"Yes":"No"),this.getCustomerData&&this.getCustomerData.trading_scheme&&this.getCustomerData.trading_scheme.hasOwnProperty("ddpi")&&(this.paymentTableData[3].value="Yes")}},fa={class:"pb-12 flex gap-4"},ba={class:"bg-white w-[48%] rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},va={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},xa={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},ka={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Da={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},wa={class:"flex gap-2"},Ca={key:0},Sa=["innerHTML"],$a=["innerHTML"],Aa={class:"bg-white w-[48%] h-[350px] rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},Ta={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},Na={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},Pa={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Ma={class:"py-4 text-sm primary-color dark:text-[#94A3B8] text-left"},Ia={class:"flex gap-2"},Ra={key:0},La=["innerHTML"],ja=["innerHTML"];function Ea(e,a,m,u,s,r){return o(),i("div",fa,[t("table",ba,[t("thead",va,[t("tr",null,[(o(!0),i(w,null,N(s.tableHeads,(l,d)=>(o(),i("th",{key:d,scope:"col",class:L([l.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},_(l.name),3))),128))])]),t("tbody",null,[(o(!0),i(w,null,N(s.tableData,(l,d)=>(o(),i("tr",{key:d,class:"border-b cursor-pointer hover:bg-gray-50"},[t("td",xa,_(d+1),1),t("td",ka,_(l.field),1),t("td",Da,[t("div",wa,[l.value&&(l.value=="Yes"||l.value=="No")?(o(),i("div",Ca,[l.value=="Yes"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,Sa)):(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,$a))])):c("",!0),C(" "+_(l.value),1)])])]))),128))])]),t("table",Aa,[t("thead",Ta,[t("tr",null,[(o(!0),i(w,null,N(s.paymentTableHeads,(l,d)=>(o(),i("th",{key:d,scope:"col",class:L([l.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},_(l.name),3))),128))])]),t("tbody",null,[(o(!0),i(w,null,N(s.paymentTableData,(l,d)=>(o(),i("tr",{key:d,class:"border-b cursor-pointer hover:bg-gray-50 h-[56px]"},[t("td",Na,_(d+1),1),t("td",Pa,_(l.field),1),t("td",Ma,[t("div",Ia,[l.value&&(l.value=="Yes"||l.value=="No")?(o(),i("div",Ra,[l.value=="Yes"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,La)):(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,ja))])):c("",!0),C(" "+_(l.value),1)])])]))),128))])])])}const Ua=P(ya,[["render",Ea]]);const Ba={emits:["send-remarks"],name:"reject-dialog",components:{Dialog:It,DialogPanel:Rt,DialogTitle:Lt,TransitionChild:jt,TransitionRoot:Et,Listbox:Ct,ListboxButton:St,ListboxLabel:$t,ListboxOption:At,ListboxOptions:Tt,CheckIcon:Pt,ChevronUpDownIcon:Mt},data(){return{remarks:"",remarksArray:[]}},props:{isOpen:{type:Boolean},activeTab:{type:String}},computed:{...S("approval",["getIsRejectLoader"]),...S("tabs",["getKycApprovalTabs","getKycPanelTabs","getOpportunityTabs"])},methods:{sentRemarks(e){let a=!1;e=="close"&&(this.remarks=""),e=="call"&&!this.remarks&&(a=!0),this.$emit("send-remarks",{remarks:this.remarks,isOpen:a})}},mounted(){this.remarks="",this.remarksArray=this.getKycApprovalTabs[this.activeTab].remarks}},Oa=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Va={class:"fixed inset-0 z-10 overflow-y-auto"},Ha={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Fa={class:"grid"},za={key:0},qa={class:"relative mt-2"},Wa={class:"block"},Ka={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Ga={key:1},Ya=t("label",{for:"reject_content",id:"reject_content_label"},"Remarks",-1),Ja={class:"mt-8 flex justify-end gap-2"},Qa={key:0};function Xa(e,a,m,u,s,r){const l=b("TransitionChild"),d=b("ListboxLabel"),n=b("ChevronUpDownIcon"),y=b("ListboxButton"),f=b("CheckIcon"),v=b("ListboxOption"),h=b("ListboxOptions"),k=b("Listbox"),D=b("DialogTitle"),A=b("btnLoader"),j=b("DialogPanel"),E=b("Dialog"),U=b("TransitionRoot");return o(),x(U,{as:"template",show:m.isOpen},{default:M(()=>[T(E,{as:"div",class:"relative z-10",onClose:a[4]||(a[4]=$=>r.sentRemarks("close"))},{default:M(()=>[T(l,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:M(()=>[Oa]),_:1}),t("div",Va,[t("div",Ha,[T(l,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:M(()=>[T(j,{class:"w-full max-w-lg transform rounded radius p-6 text-left align-middle bg-white"},{default:M(()=>[T(D,{as:"h3",class:"text-base pb-2 font-medium leading-6 primaryColor"},{default:M(()=>[t("div",Fa,[s.remarksArray.length>0?(o(),i("div",za,[T(k,{as:"div",modelValue:s.remarks,"onUpdate:modelValue":a[0]||(a[0]=$=>s.remarks=$)},{default:M(()=>[T(d,{class:"block text-sm font-medium leading-6 text-gray-900"},{default:M(()=>[C("Remarks")]),_:1}),t("div",qa,[T(y,{class:"relative w-full cursor-default rounded-md bg-white min-h-[32px] py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},{default:M(()=>[t("span",Wa,_(s.remarks),1),t("span",Ka,[T(n,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),T(kt,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:M(()=>[T(h,{class:"absolute z-10 mt-1 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:M(()=>[(o(!0),i(w,null,N(s.remarksArray,($,B)=>(o(),x(v,{as:"template",key:B,value:$},{default:M(({active:I,remarks:R})=>[t("li",{class:L([I?"bg-indigo-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-8 pr-4"])},[t("span",{class:L([R?"font-semibold":"font-normal","block "])},_($),3),R?(o(),i("span",{key:0,class:L([I?"text-white":"text-indigo-600","absolute inset-y-0 left-0 flex items-center pl-1.5"])},[T(f,{class:"h-5 w-5","aria-hidden":"true"})],2)):c("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])):(o(),i("div",Ga,[Ya,p(t("textarea",{rows:"5",name:"",id:"reject_content",class:"w-full border rounded my-2","onUpdate:modelValue":a[1]||(a[1]=$=>s.remarks=$),autofocus:""},null,512),[[g,s.remarks]])]))])]),_:1}),t("div",Ja,[t("button",{type:"button",class:"themeBtn flex items-center justify-center min-w-[86px]",id:"logout_btn",onClick:a[2]||(a[2]=$=>r.sentRemarks("call"))},[e.getIsRejectLoader?(o(),x(A,{key:1})):(o(),i("span",Qa,"Confirm"))]),t("button",{type:"button",class:"cancelBtn",id:"logout_cancel_btn",onClick:a[3]||(a[3]=$=>r.sentRemarks("close"))}," Cancel ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const et=P(Ba,[["render",Xa]]),Za=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
</svg>
`,to=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
</svg>
`,eo=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,so=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,ao={data(){return{upArrow:Za,downArrow:to,isOpen:!1,nomineeList:[],expanstion:0,currectSelectData:"",isRejectDialog:!1,remarks:"",tickSvg:eo,cancelSvg:so}},components:{rejectDialog:et},computed:{...S("approval",["getCustomerData","getStageData","getIsApproveLoader","getIsRejectLoader","getIsResetLoader"]),...S("login",["getUserData"])},methods:{callServiceApporve_Reject(e){this.$store.dispatch("approval/formatJson",{tab:6,status:e,remarks:e=="Rejected"?this.remarks:"",nomineeId:this.currectSelectData.nomineeId})},expandNominee(e){this.remarks="",this.isRejectDialog=!1,this.expanstion==e||(this.expanstion=e),this.currectSelectData=this.nomineeList[e]},getRemarks(e){this.remarks=e.remarks,this.isRejectDialog=e.isOpen,this.remarks&&this.callServiceApporve_Reject("Rejected")},getStatusForPage(e){let a=this.getStageData.nominee.filter(u=>u.nominee_number==e),m="";return a&&a.length>0&&a[0].status&&(m=a[0].status),m}},mounted(){if(this.getCustomerData&&this.getCustomerData.opportunity_data&&this.getCustomerData.opportunity_data.fsl_nominee_table){for(let e of this.getCustomerData.opportunity_data.fsl_nominee_table)this.nomineeList.push({name:e.name,dob:window.formatDate(e.date_of_birth,"D"),emailId:e.email_id,mobNo:e.mobile_number,proofId:e.proof_id,proofType:e.proof_type,relationOfNominee:e.relationship,nomineeId:e.nominee_number,address:`${e==null?void 0:e.address} ${e==null?void 0:e.address_2}`});this.nomineeList.length>0&&this.expandNominee(0)}}},oo={class:""},ro={class:""},no={key:0,class:"my-4 flex flex-col gap-4"},io=["onClick"],lo={class:"text-sm font-semibold"},co=["innerHTML"],uo=["innerHTML"],mo={key:0,class:""},po={class:"grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-12 md:grid-cols-2 my-4"},go={class:"grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-12 md:col-span-2"},_o={class:"sm:col-span-3"},ho=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Name",-1),yo={class:"mt-2"},fo=["onUpdate:modelValue"],bo={class:"sm:col-span-3"},vo=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"DOB",-1),xo={class:"mt-2"},ko=["onUpdate:modelValue"],Do={class:"sm:col-span-3"},wo=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mobile No.",-1),Co={class:"mt-2"},So=["onUpdate:modelValue"],$o={class:"sm:col-span-3"},Ao=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Email ID",-1),To={class:"mt-2"},No=["onUpdate:modelValue"],Po={class:"sm:col-span-3"},Mo=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Proof Type",-1),Io={class:"mt-2"},Ro=["onUpdate:modelValue"],Lo={class:"sm:col-span-3"},jo=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Proof ID",-1),Eo={class:"mt-2"},Uo=["onUpdate:modelValue"],Bo={class:"sm:col-span-3"},Oo=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Relation OF Nominee",-1),Vo={class:"mt-2"},Ho=["onUpdate:modelValue"],Fo={class:"sm:col-span-12"},zo=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Address",-1),qo={class:"mt-2 max-w-[425px]"},Wo=["onUpdate:modelValue"],Ko={key:0,class:"w-full flex justify-end"},Go=["innerHTML"],Yo=["innerHTML"],Jo={key:0,class:"flex gap-1 items-center"},Qo=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-white-500"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),Xo={key:2,class:"flex gap-4 my-4 justify-end"},Zo={key:0,class:"flex items-center justify-center gap-1"},tr=["innerHTML"],er={class:"flex items-center justify-center gap-1"},sr=["innerHTML"],ar={key:1,class:"flex items-center justify-center min-h-[50vh]"};function or(e,a,m,u,s,r){const l=b("btnLoader"),d=b("rejectDialog");return o(),i(w,null,[t("div",oo,[t("div",ro,[s.nomineeList.length>0?(o(),i("div",no,[(o(!0),i(w,null,N(s.nomineeList,(n,y)=>{var f,v;return o(),i("div",{key:y,class:"cursor-pointer p-4 shadow rounded-lg bg-white transition duration-1000 ease-in-out w-full"},[t("div",{class:"flex justify-between gap-3",onClick:h=>r.expandNominee(y)},[t("div",lo," Nominee "+_(y+1),1),t("div",null,[n.isOpen?c("",!0):(o(),i("div",{key:0,innerHTML:s.downArrow},null,8,co)),n.isOpen?(o(),i("div",{key:1,innerHTML:s.upArrow},null,8,uo)):c("",!0)])],8,io),s.expanstion==y?(o(),i("div",mo,[t("div",po,[t("div",go,[t("div",_o,[ho,t("div",yo,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.name=h},null,8,fo),[[g,n.name]])])]),t("div",bo,[vo,t("div",xo,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.dob=h},null,8,ko),[[g,n.dob]])])]),t("div",Do,[wo,t("div",Co,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.mobNo=h},null,8,So),[[g,n.mobNo]])])]),t("div",$o,[Ao,t("div",To,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.emailId=h},null,8,No),[[g,n.emailId]])])]),t("div",Po,[Mo,t("div",Io,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.proofType=h},null,8,Ro),[[g,n.proofType]])])]),t("div",Lo,[jo,t("div",Eo,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.proofId=h},null,8,Uo),[[g,n.proofId]])])]),t("div",Bo,[Oo,t("div",Vo,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.relationOfNominee=h},null,8,Ho),[[g,n.relationOfNominee]])])]),t("div",Fo,[zo,t("div",qo,[p(t("textarea",{type:"text",id:"panNumber",readonly:"",class:"block w-full p-2 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":h=>n.address=h},null,8,Wo),[[g,n.address]])])])])]),((f=e.$route.query)==null?void 0:f.from)!="opportunity"&&((v=e.getUserData)==null?void 0:v.Role)!="RM"?(o(),i("div",Ko,[r.getStatusForPage(n.nomineeId)&&(r.getStatusForPage(n.nomineeId)=="Approved"||r.getStatusForPage(n.nomineeId)=="Rejected")?(o(),i("div",{key:0,class:L(["flex gap-1 justify-center items-center min-w-[120px] h-[36px] py-2 rounded-lg text-white font-bold",r.getStatusForPage(n.nomineeId)=="Approved"?"bg-green-700":"bg-red-700"])},[r.getStatusForPage(n.nomineeId)=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,Go)):r.getStatusForPage(n.nomineeId)=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,Yo)):c("",!0),C(" "+_(r.getStatusForPage(n.nomineeId)),1)],2)):c("",!0),r.getStatusForPage(n.nomineeId)&&(r.getStatusForPage(n.nomineeId)=="Approved"||r.getStatusForPage(n.nomineeId)=="Rejected"||r.getStatusForPage(n.nomineeId)=="Reset")?(o(),i("div",{key:1,class:"flex gap-1 justify-center items-center min-w-[120px] h-[36px] ml-2 py-2 rounded-lg bg-white text-blue-700 font-bold border border-blue-700 cursor-pointer",onClick:a[0]||(a[0]=h=>r.callServiceApporve_Reject("Reset"))},[e.getIsResetLoader?(o(),x(l,{key:1})):(o(),i("span",Jo,[Qo,C(" "+_("Reset"))]))])):(o(),i("div",Xo,[t("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-teal-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[1]||(a[1]=h=>r.callServiceApporve_Reject("Approved"))},[e.getIsApproveLoader?(o(),x(l,{key:1})):(o(),i("span",Zo,[t("div",{innerHTML:s.tickSvg},null,8,tr),C("Approve ")]))]),t("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-orange-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[2]||(a[2]=h=>s.remarks?r.callServiceApporve_Reject("Rejected"):s.isRejectDialog=!0)},[t("span",er,[t("div",{innerHTML:s.cancelSvg},null,8,sr),C("Reject ")])])]))])):c("",!0)])):c("",!0)])}),128))])):(o(),i("div",ar,"No Nominees Found"))])]),s.isRejectDialog?(o(),x(d,{key:0,"is-open":s.isRejectDialog,"active-tab":"6",onSendRemarks:r.getRemarks},null,8,["is-open","onSendRemarks"])):c("",!0)],64)}const rr=P(ao,[["render",or]]),nr=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-green-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,ir=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,lr={components:{VueCropper:Z},data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Document Name",class:"text-left"},{name:"Actions",class:"text-left"},{name:"Preview",class:"text-left"},{name:"Download",class:"text-left"}],tableData:[{docName:"PAN"},{docName:"CANCELLED_CHEQUE_OR_STATEMENT"},{docName:"SIGNATURE"},{docName:"IPV"},{docName:"ESIGN_DOCUMENT"},{docName:"PROTECTED_ESIGN_DOCUMENT"}],documentName:"PAN",isRejectDialog:!1,remarks:"",currentDoc:"",tickSvg:nr,cancelSvg:ir}},computed:{...S("approval",["getCustomerData","getDocumentData","getDocuments","getIsDocsLoader"]),...S("login",["getUserData"])},components:{rejectDialog:et},methods:{getDocumentSource(e,a){var m,u,s,r,l,d,n,y,f,v;this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(u=(m=this.getCustomerData)==null?void 0:m.opportunity_data)==null?void 0:u.name}&documentType=${e}&userId=${(r=(s=this.$store.state.login)==null?void 0:s.userData)==null?void 0:r.user}&sessId=${(n=(d=(l=this.$store.state)==null?void 0:l.login)==null?void 0:d.userData)==null?void 0:n.sid}&token=${(v=(f=(y=this.$store.state)==null?void 0:y.login)==null?void 0:f.userData)==null?void 0:v.tempToken}`,type:a,docType:e})},previewDocument(e){this.documentName=e,this.getDocumentSource(e,"preview")},getRemarks(e){this.remarks=e.remarks,this.isRejectDialog=e.isOpen,this.remarks&&this.$store.dispatch("approval/formatJsonDoc",{tab:7,status:"Rejected",remarks:this.remarks,attachmentType:this.currentDoc})},callReject(e){this.currentDoc=e,this.remarks="",this.isRejectDialog=!0},goToPreview(){this.$router.push("/preview")},async resetDocStatus(e,a){await this.$store.dispatch("approval/formatJsonDoc",{tab:this.currentTab,status:e,remarks:"",attachmentType:a}),this.remarks=""}},unmounted(){this.$store.commit("approval/setDocumentData",""),this.$store.commit("approval/setDocumentDataClone","")},mounted(){this.previewDocument(this.documentName)},async created(){await this.$store.dispatch("approval/getDocuments")}},dr={class:"pb-12 flex flex-wrap gap-4"},cr={class:"bg-white w-[50%] rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},ur={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},mr={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},pr={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},gr={class:"flex gap-2 items-center"},_r={key:0,class:"flex items-center gap-1 text-sm text-teal-500"},hr=["innerHTML"],yr={key:1,class:"flex items-center gap-1 text-sm text-orange-500"},fr=["title","innerHTML"],br={key:0},vr={class:"flex gap-3 items-center"},xr=["onClick"],kr=["onClick"],Dr=["onClick"],wr=["onClick"],Cr=["onClick"],Sr={class:"col-span-6 w-[45%]"},$r=t("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview",-1),Ar={class:"my-4"},Tr={key:0,class:"rounded-lg h-[320px]"},Nr={key:1},Pr=["src"];function Mr(e,a,m,u,s,r){const l=b("VueCropper"),d=b("rejectDialog");return o(),i(w,null,[t("div",dr,[t("table",cr,[t("thead",ur,[t("tr",null,[(o(!0),i(w,null,N(s.tableHeads,(n,y)=>{var f,v;return o(),i("th",{key:y,scope:"col",class:L([n.class,(((f=e.$route.query)==null?void 0:f.from)=="/opportunity"||((v=e.getUserData)==null?void 0:v.Role)=="RM")&&n.name=="Actions"?"hidden":"","py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},_(n.name),3)}),128))])]),t("tbody",null,[(o(!0),i(w,null,N(e.getDocuments,(n,y)=>{var f,v;return o(),i("tr",{key:y,class:"border-b cursor-pointer hover:bg-gray-50"},[t("td",mr,_(y+1),1),t("td",pr,[t("div",gr,[t("div",null,_(n["Document Type"]),1),t("div",null,[n.status=="Approved"?(o(),i("span",_r,[t("span",{title:"Approved",innerHTML:s.tickSvg},null,8,hr),C("Approved")])):c("",!0),n.status=="Rejected"?(o(),i("span",yr,[t("span",{title:n.remarks,innerHTML:s.cancelSvg},null,8,fr),C("Rejected")])):c("",!0)])])]),((f=e.$route.query)==null?void 0:f.from)!="opportunity"&&((v=e.getUserData)==null?void 0:v.Role)!="RM"?(o(),i("td",br,[t("div",vr,[n.status!="Approved"&&n.status!="Rejected"?(o(),i("a",{key:0,class:"underline text-sm text-teal-500",onClick:h=>e.$store.dispatch("approval/formatJsonDoc",{tab:7,status:"Approved",remarks:"",attachmentType:n["Document Type"],isDoc:!0})},"Approve",8,xr)):c("",!0),n.status!="Approved"&&n.status!="Rejected"?(o(),i("a",{key:1,class:"underline text-sm text-orange-500",onClick:h=>r.callReject(n["Document Type"])},"Reject",8,kr)):c("",!0),(n.status=="Approved"||n.status=="Rejected")&&n.status!=""?(o(),i("a",{key:2,class:"underline text-sm text-blue-600",onClick:h=>r.resetDocStatus("Reset",n["Document Type"])},"Reset",8,Dr)):c("",!0)])])):c("",!0),t("td",null,[t("a",{class:"underline text-sm text-purple-500",onClick:h=>r.previewDocument(n["Document Type"])},"Preview",8,wr)]),t("td",null,[t("a",{class:"underline text-sm text-blue-500",download:"",onClick:h=>r.getDocumentSource(n["Document Type"],"download")},"Download",8,Cr)])])}),128))])]),t("div",Sr,[$r,t("div",Ar,[t("button",{class:"bg-[#2490EF] font-semibold text-white text-xs px-4 h-8 rounded-lg shadow",onClick:a[0]||(a[0]=n=>r.goToPreview())},"Compare documents")]),this.documentName!="ESIGN_DOCUMENT"&&this.documentName!="PROTECTED_ESIGN_DOCUMENT"&&e.getDocumentData?(o(),i("div",Tr,[e.getDocumentData?(o(),x(l,{key:0,ref:"image1",img:e.getDocumentData,info:!0,canMove:!0,canScale:!0,autoCrop:!1,outputSize:1,alt:"Source Image",class:"cropper"},null,8,["img"])):c("",!0)])):(o(),i("div",Nr,[t("iframe",{src:e.getDocumentData,frameborder:"1",class:"w-full",style:{height:"370px !important"}},null,8,Pr)]))])]),s.isRejectDialog?(o(),x(d,{key:0,"is-open":s.isRejectDialog,"active-tab":"7",onSendRemarks:r.getRemarks},null,8,["is-open","onSendRemarks"])):c("",!0)],64)}const Ir=P(lr,[["render",Mr]]),Rr={components:{VueCropper:Z},data(){return{capturedDate:"",latitude:"",longitude:""}},computed:{...S("approval",["getCustomerData","getDocumentData"])},methods:{openMap(){this.latitude&&this.longitude&&window.open(`https://www.google.com/maps/?q=${this.latitude},${this.longitude}`,"_target")}},mounted(){var e,a,m,u,s,r,l,d,n,y,f,v,h,k;this.getCustomerData&&this.getCustomerData.document_data&&(this.capturedDate=window.formatDate((a=(e=this.getCustomerData)==null?void 0:e.document_data)==null?void 0:a.creation,"D&T"),this.latitude=(m=this.getCustomerData.document_data)==null?void 0:m.latitude,this.longitude=(u=this.getCustomerData.document_data)==null?void 0:u.longitude),this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(r=(s=this.getCustomerData)==null?void 0:s.opportunity_data)==null?void 0:r.name}&documentType=IPV&userId=${(d=(l=this.$store.state.login)==null?void 0:l.userData)==null?void 0:d.user}&sessId=${(f=(y=(n=this.$store.state)==null?void 0:n.login)==null?void 0:y.userData)==null?void 0:f.sid}&token=${(k=(h=(v=this.$store.state)==null?void 0:v.login)==null?void 0:h.userData)==null?void 0:k.tempToken}`,type:"preview",docType:"IPV"})}},Lr={class:"grid grid-cols-12"},jr={class:"col-span-6"},Er={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6 md:col-span-2"},Ur={class:"sm:col-span-3"},Br=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Capture Date & Time",-1),Or={class:"mt-2"},Vr={class:"sm:col-span-3"},Hr=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Latitude",-1),Fr={class:"mt-2"},zr={class:"sm:col-span-3"},qr=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Longitude",-1),Wr={class:"mt-2"},Kr={class:"sm:col-span-3 flex items-end"},Gr={class:"col-span-6"},Yr=t("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview",-1),Jr={class:"rounded-lg my-4 h-[320px]"};function Qr(e,a,m,u,s,r){const l=b("VueCropper");return o(),i("div",Lr,[t("div",jr,[t("div",Er,[t("div",Ur,[Br,t("div",Or,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=d=>s.capturedDate=d)},null,512),[[g,s.capturedDate]])])]),t("div",Vr,[Hr,t("div",Fr,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=d=>s.latitude=d)},null,512),[[g,s.latitude]])])]),t("div",zr,[qr,t("div",Wr,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=d=>s.longitude=d)},null,512),[[g,s.longitude]])])]),t("div",Kr,[t("button",{type:"button",class:"rounded-md bg-white border px-3 py-2 text-sm font-semibold text-black shadow-sm focus-visible:outline",onClick:a[3]||(a[3]=d=>r.openMap())},"MAP View")])])]),t("div",Gr,[Yr,t("div",Jr,[e.getDocumentData?(o(),x(l,{key:0,ref:"image1",img:e.getDocumentData,info:!0,canMove:!0,canScale:!0,autoCrop:!1,outputSize:5,alt:"Source Image",class:"cropper"},null,8,["img"])):c("",!0)])])])}const Xr=P(Rr,[["render",Qr]]),Zr=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-green-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,tn=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,en={data(){return{tableHeads:[{name:"S.No",class:"text-center"},{name:"Stage",class:"text-left"},{name:"Status",class:"text-left"}],tickSvg:Zr,cancelSvg:tn}},computed:{...S("approval",["getStageData","getDocuments","getDocumentData"])},methods:{checkStatus(e){let a=e==null?void 0:e.trim();return a&&a!="null"?a:"Open"}},mounted(){var e,a;(e=this.$route.query)!=null&&e.id&&this.$store.dispatch("approval/getStageDetails",(a=this.$route.query)==null?void 0:a.id)}},sn={class:"bg-white w-full rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},an={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},on={class:"border-b cursor-pointer hover:bg-gray-50"},rn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 1 ",-1),nn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," PAN ",-1),ln={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},dn={class:"flex gap-2 items-center"},cn=["innerHTML"],un=["innerHTML"],mn={class:"border-b cursor-pointer hover:bg-gray-50"},pn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 2 ",-1),gn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Profile ",-1),_n={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},hn={class:"flex gap-2 items-center"},yn=["innerHTML"],fn=["innerHTML"],bn={class:"border-b cursor-pointer hover:bg-gray-50"},vn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 3 ",-1),xn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Address ",-1),kn={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Dn={class:"flex gap-2 items-center"},wn=["innerHTML"],Cn=["innerHTML"],Sn={class:"border-b cursor-pointer hover:bg-gray-50"},$n=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 4 ",-1),An=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Bank ",-1),Tn={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Nn={class:"flex gap-2 items-center"},Pn=["innerHTML"],Mn=["innerHTML"],In={class:"border-b cursor-pointer hover:bg-gray-50"},Rn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 5 ",-1),Ln=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Segments ",-1),jn={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},En={class:"flex gap-2 items-center"},Un=["innerHTML"],Bn=["innerHTML"],On={class:"border-b cursor-pointer hover:bg-gray-50"},Vn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 6 ",-1),Hn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," IPV ",-1),Fn={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},zn={class:"flex gap-2 items-center"},qn=["innerHTML"],Wn=["innerHTML"],Kn={class:"border-b cursor-pointer hover:bg-gray-50"},Gn=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 7 ",-1),Yn={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Jn={key:0},Qn={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},Xn={key:0},Zn={class:"flex gap-2 items-center"},ti={class:"flex gap-2 items-center"},ei={class:"flex gap-2"},si=["innerHTML"],ai=["innerHTML"],oi={key:1},ri={class:"border-b cursor-pointer hover:bg-gray-50"},ni=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 8 ",-1),ii=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," Documents ",-1),li={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},di={key:0},ci={class:"flex gap-2 items-center"},ui={class:"flex gap-2 items-center"},mi={class:"min-w-[260px] flex gap-2 items-center justify-between"},pi=t("span",null,":",-1),gi={class:"flex gap-2"},_i=["innerHTML"],hi=["innerHTML"],yi={key:1},fi={class:"border-b cursor-pointer hover:bg-gray-50"},bi=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"}," 9 ",-1),vi=t("td",{class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"}," E-Sign Doc ",-1),xi={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},ki={class:"flex gap-2 items-center"},Di=["innerHTML"],wi=["innerHTML"];function Ci(e,a,m,u,s,r){var l,d,n,y,f,v,h,k;return o(),i("div",null,[t("table",sn,[t("thead",an,[t("tr",null,[(o(!0),i(w,null,N(s.tableHeads,(D,A)=>(o(),i("th",{key:A,scope:"col",class:L([D.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},_(D.name),3))),128))])]),t("tbody",null,[t("tr",on,[rn,nn,t("td",ln,[t("div",dn,[t("div",null,[r.checkStatus(e.getStageData["pan status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,cn)):c("",!0),r.checkStatus(e.getStageData["pan status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,un)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["pan status"])),1)])])]),t("tr",mn,[pn,gn,t("td",_n,[t("div",hn,[t("div",null,[r.checkStatus(e.getStageData["profile status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,yn)):c("",!0),r.checkStatus(e.getStageData["profile status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,fn)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["profile status"])),1)])])]),t("tr",bn,[vn,xn,t("td",kn,[t("div",Dn,[t("div",null,[r.checkStatus(e.getStageData["address status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,wn)):c("",!0),r.checkStatus(e.getStageData["address status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,Cn)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["address status"])),1)])])]),t("tr",Sn,[$n,An,t("td",Tn,[t("div",Nn,[t("div",null,[r.checkStatus(e.getStageData["bank status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,Pn)):c("",!0),r.checkStatus(e.getStageData["bank status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,Mn)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["bank status"])),1)])])]),t("tr",In,[Rn,Ln,t("td",jn,[t("div",En,[t("div",null,[r.checkStatus(e.getStageData["segment status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,Un)):c("",!0),r.checkStatus(e.getStageData["segment status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,Bn)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["segment status"])),1)])])]),t("tr",On,[Vn,Hn,t("td",Fn,[t("div",zn,[t("div",null,[r.checkStatus(e.getStageData["IPV status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,qn)):c("",!0),r.checkStatus(e.getStageData["IPV status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,Wn)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["IPV status"])),1)])])]),t("tr",Kn,[Gn,t("td",Yn,[C(" Nominees "),((d=(l=e.getStageData)==null?void 0:l.nominee)==null?void 0:d.length)>0?(o(),i("span",Jn,"("+_((y=(n=e.getStageData)==null?void 0:n.nominee)==null?void 0:y.length)+")",1)):c("",!0)]),t("td",Qn,[(v=(f=e.getStageData)==null?void 0:f.nominee)!=null&&v.length?(o(),i("div",Xn,[(o(!0),i(w,null,N((h=e.getStageData)==null?void 0:h.nominee,(D,A)=>(o(),i("div",{key:A},[t("div",Zn,[t("div",ti,[t("span",null," Nominee "+_(A+1)+" : ",1),t("span",ei,[t("div",null,[r.checkStatus(D.status)=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,si)):c("",!0),r.checkStatus(D.status)=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,ai)):c("",!0)]),C(" "+_(r.checkStatus(D.status)),1)])])])]))),128))])):(o(),i("div",oi," NA "))])]),t("tr",ri,[ni,ii,t("td",li,[(k=e.getDocuments)!=null&&k.length?(o(),i("div",di,[(o(!0),i(w,null,N(e.getDocuments,(D,A)=>(o(),i("div",{key:A},[t("div",ci,[t("div",ui,[t("span",mi,[t("span",null,_(D["Document Type"]),1),C(),pi]),t("span",gi,[t("div",null,[r.checkStatus(D.status)=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,_i)):c("",!0),r.checkStatus(D.status)=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,hi)):c("",!0)]),C(" "+_(r.checkStatus(D.status)),1)])])])]))),128))])):(o(),i("div",yi," NA "))])]),t("tr",fi,[bi,vi,t("td",xi,[t("div",ki,[t("div",null,[r.checkStatus(e.getStageData["Esign status"])=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,Di)):c("",!0),r.checkStatus(e.getStageData["Esign status"])=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,wi)):c("",!0)]),t("div",null,_(r.checkStatus(e.getStageData["Esign status"])),1)])])])])])])}const Si=P(en,[["render",Ci]]),$i={components:{stage_table:Si},data(){return{mobileNo:"",emailId:"",startDate:"",updatedOn:"",modeOfApplication:"",branch:"NotMatch"}},props:{cutomerData:{type:Object}},computed:{...S("approval",["getIsMailLoader","getProgressPercentage","getIsReject"])},methods:{sendMail(){this.$store.dispatch("approval/sendRejectionMail")}},mounted(){var e,a,m,u,s,r,l,d,n,y,f,v,h,k;this.mobileNo=(a=(e=this.cutomerData)==null?void 0:e.opportunity_data)==null?void 0:a.fsl_mobile_num,this.emailId=(u=(m=this.cutomerData)==null?void 0:m.opportunity_data)==null?void 0:u.fsl_email_id,this.startDate=window.formatDate((r=(s=this.cutomerData)==null?void 0:s.opportunity_data)==null?void 0:r.creation,"D&T"),this.updatedOn=window.formatDate((d=(l=this.cutomerData)==null?void 0:l.opportunity_data)==null?void 0:d.modified,"D&T"),this.modeOfApplication=((y=(n=this.cutomerData)==null?void 0:n.opportunity_data)==null?void 0:y.fsl_mode_of_application)||((v=(f=this.cutomerData)==null?void 0:f.opportunity_data)==null?void 0:v.fsl_modeofapplication),this.branch=(k=(h=this.cutomerData)==null?void 0:h.opportunity_data)==null?void 0:k.fsl_branch}},Ai={class:"grid grid-cols-12 gap-5"},Ti={class:"col-span-6"},Ni={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},Pi={class:"sm:col-span-3"},Mi=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mobile Number",-1),Ii={class:"mt-2"},Ri={class:"sm:col-span-3"},Li=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Email ID",-1),ji={class:"mt-2"},Ei={class:"sm:col-span-3"},Ui=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Start Date",-1),Bi={class:"mt-2"},Oi={class:"sm:col-span-3"},Vi=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Updated On",-1),Hi={class:"mt-2"},Fi={class:"sm:col-span-3"},zi=t("label",{for:"panNumber",class:"block text-sm font-medium leading-6 text-gray-900"},"Mode of Application",-1),qi={class:"mt-2"},Wi={class:"sm:col-span-3"},Ki=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Branch",-1),Gi={class:"mt-2"},Yi={key:0,class:"my-6"},Ji={key:1},Qi={class:"col-span-6"};function Xi(e,a,m,u,s,r){const l=b("btnLoader"),d=b("stage_table");return o(),i("div",Ai,[t("div",Ti,[t("div",Ni,[t("div",Pi,[Mi,t("div",Ii,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=n=>s.mobileNo=n)},null,512),[[g,s.mobileNo]])])]),t("div",Ri,[Li,t("div",ji,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[1]||(a[1]=n=>s.emailId=n)},null,512),[[g,s.emailId]])])]),t("div",Ei,[Ui,t("div",Bi,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[2]||(a[2]=n=>s.startDate=n)},null,512),[[g,s.startDate]])])]),t("div",Oi,[Vi,t("div",Hi,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[3]||(a[3]=n=>s.updatedOn=n)},null,512),[[g,s.updatedOn]])])]),t("div",Fi,[zi,t("div",qi,[p(t("input",{type:"text",id:"panNumber",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[4]||(a[4]=n=>s.modeOfApplication=n)},null,512),[[g,s.modeOfApplication]])])]),t("div",Wi,[Ki,t("div",Gi,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[5]||(a[5]=n=>s.branch=n)},null,512),[[g,s.branch]])])])]),e.getIsReject?(o(),i("div",Yi,[t("button",{onClick:a[6]||(a[6]=n=>r.sendMail()),class:"flex justify-center items-center min-w-[130px] h-[36px] py-2 px-4 rounded-lg text-xs text-white font-bold bg-[#753ED7]"},[e.getIsMailLoader?(o(),x(l,{key:0})):(o(),i("span",Ji,"Send Rejection Mail"))])])):c("",!0)]),t("div",Qi,[T(d)])])}const Zi=P($i,[["render",Xi]]),tl={data(){return{nameAsEsign:""}},computed:{...S("approval",["getCustomerData","getDocumentData"])},methods:{goToPreview(e){e=="pdf"?this.$router.push("/preview?ispdf=true"):this.$router.push("/preview")}},mounted(){var m,u,s,r,l,d,n,y,f,v,h,k;let e="ESIGN_DOCUMENT",a="preview";this.$store.dispatch("approval/getDocumentData",{str:`applicationId=${(u=(m=this.getCustomerData)==null?void 0:m.opportunity_data)==null?void 0:u.name}&documentType=${e}&userId=${(r=(s=this.$store.state.login)==null?void 0:s.userData)==null?void 0:r.user}&sessId=${(n=(d=(l=this.$store.state)==null?void 0:l.login)==null?void 0:d.userData)==null?void 0:n.sid}&token=${(v=(f=(y=this.$store.state)==null?void 0:y.login)==null?void 0:f.userData)==null?void 0:v.tempToken}`,type:a,docType:e}),this.nameAsEsign=(k=(h=this.getCustomerData)==null?void 0:h.opportunity_data)==null?void 0:k.fsl_esiged_name}},el={class:"grid grid-cols-12"},sl={class:"col-span-6"},al={class:"grid max-w-2xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2"},ol={class:"sm:col-span-3"},rl=t("label",{for:"nameAsPan",class:"block text-sm font-medium leading-6 text-gray-900"},"Name as per Esign",-1),nl={class:"mt-2"},il={class:"col-span-6"},ll=t("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Preview",-1),dl={class:"rounded-lg my-4"},cl=["src"];function ul(e,a,m,u,s,r){return o(),i("div",el,[t("div",sl,[t("div",al,[t("div",ol,[rl,t("div",nl,[p(t("input",{type:"text",id:"nameAsPan",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 sm:text-sm sm:leading-6",disabled:"","onUpdate:modelValue":a[0]||(a[0]=l=>s.nameAsEsign=l)},null,512),[[g,s.nameAsEsign]])])])])]),t("div",il,[ll,t("div",dl,[t("iframe",{src:e.getDocumentData,frameborder:"1",class:"w-full",style:{height:"370px !important"}},null,8,cl)])])])}const ml=P(tl,[["render",ul]]),pl={data(){return{list:[{name:"LD Back office Push",status:"Success",remarks:"",Action:""},{name:"Client code",status:"Failed",remarks:"",Action:""},{name:"NSE",status:"Success",remarks:"test",Action:""},{name:"BSE",status:"Success",remarks:"",Action:""},{name:"KRA Upload",status:"Failed",remarks:"",Action:""},{name:"Digilocker XML upload",status:"Success",remarks:"test",Action:""},{name:"KRA Image Upload",status:"Success",remarks:"",Action:""},{name:"Push to BSEstarMF",status:"Success",remarks:"",Action:""},{name:"Push to BSEstarMF Fatca",status:"Success",remarks:"",Action:""},{name:"Push to BSEstarMF AOF",status:"Success",remarks:"",Action:""},{name:"Push to Iwapp",status:"Success",remarks:"",Action:""},{name:"CKYC Data",status:"Success",remarks:"",Action:""}],tableHeads:[{name:"S.No",class:"text-center"},{name:"Name",class:"text-left"},{name:"Status",class:"text-center"},{name:"Reason",class:"text-left"},{name:"Action",class:"text-center"}]}},computed:{...S("approval",["getBoStatusList"])},methods:{async retryBo(e){e=="NSE UCC"?this.$store.dispatch("approval/nseUccUpload"):e=="BSE UCC"?this.$store.dispatch("approval/bseUccUpload"):e=="KRA UPLOAD"?this.$store.dispatch("approval/kraUpload"):e=="DIGILOCKER XML UPLOAD"||(e=="KRA IMAGE UPLOAD"?this.$store.dispatch("approval/kraFileUpload"):e=="BSE STAR UCC"?this.$store.dispatch("approval/bseMfUccUpload"):e=="BSE STAR FATCA"?this.$store.dispatch("approval/bseFatcaUpload"):e=="BSE STAR AOF"?this.$store.dispatch("approval/bseStarAOF"):e=="push to Iwapp"&&this.$store.dispatch("approval/pushIwapp"))}},async created(){await this.$store.dispatch("approval/checkBoStatus")}},gl={class:"flex justify-start px-10 py-5"},_l={key:1},hl={class:"bg-white w-full rounded-b border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] rounded-lg"},yl={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},fl={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},bl={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},vl={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-center"},xl={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative text-left"},kl={class:"py-4 text-sm primary-color dark:text-[#94A3B8] relative flex justify-center"},Dl=["onClick"],wl=t("span",{class:"flex gap-1 items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-white-500"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]),C(" "+_("Retry"))],-1),Cl=[wl];function Sl(e,a,m,u,s,r){const l=b("btnLoader");return o(),i(w,null,[t("div",gl,[t("button",{type:"button",class:"rounded-md min-w-[150px] bg-white border px-3 py-2 text-sm font-semibold text-black shadow-sm focus-visible:outline",onClick:a[0]||(a[0]=d=>this.$store.state.approval.backOfficeLoader?"":this.$store.dispatch("approval/callBo"))},[this.$store.state.approval.backOfficeLoader?(o(),x(l,{key:0})):(o(),i("span",_l,"Push To Backoffice"))])]),t("table",hl,[t("thead",yl,[t("tr",null,[(o(!0),i(w,null,N(s.tableHeads,(d,n)=>(o(),i("th",{key:n,scope:"col",class:L([d.class,"py-3.5 text-[13px] font-medium primaryColor whitespace-nowrap"])},_(d.name),3))),128))])]),t("tbody",null,[(o(!0),i(w,null,N(this.getBoStatusList,(d,n)=>(o(),i("tr",{class:"border-b cursor-pointer hover:bg-gray-50",key:n},[t("td",fl,_(n+1),1),t("td",bl,_(d.key),1),t("td",vl,_(d.value),1),t("td",xl,_(d.reason),1),t("td",kl,[d.value=="Failed"?(o(),i("button",{key:0,onClick:y=>r.retryBo(d.key),class:"inline-block p-2 border rounded",type:"button"},Cl,8,Dl)):c("",!0)])]))),128))])])],64)}const $l=P(pl,[["render",Sl]]);const Al=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,Tl=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white font-bold">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
`,Nl={components:{breadcrumbKyc:Gt,tabs:Nt,user_details:Zi,pan_details:xe,address_details:Fe,profile_details:Ls,bank_details:ga,segment_details:Ua,nominee_details:rr,document_details:Ir,ipv_details:Xr,rejectDialog:et,esign_details:ml,pushto_bo:$l},data(){return{steps:[{name:"PAN"},{name:"Address"},{name:"Profile"},{name:"Bank"},{name:"Segment"},{name:"Nominee"},{name:"Document"},{name:"IPV"},{name:"ESign"}],userDetails:[{name:"THAVAMANI VINOTH KUMAR",status:"Pending for approval",dob:"18-01-1989",gender:"Male",mobileNo:"9884986649",panNo:"AMDPV9160F"}],currentTab:0,remarks:"",isRejectDialog:!1,tickSvg:Al,cancelSvg:Tl}},computed:{...S("approval",["getCustomerData","getStageData","getIsApproveLoader","getIsRejectLoader","getIsResetLoader","getDocuments"]),...S("login",["getUserData"])},methods:{changeTab(e){this.currentTab=e,this.$store.commit("setActiveTab",e),this.$store.commit("setQuries",{data:{tab:e},action:"change"}),this.$store.commit("approval/setDocumentData",""),this.remarks=""},async approveOrRejectDoc(e){await this.$store.dispatch("approval/formatJson",{tab:this.currentTab,status:e,remarks:e=="Rejected"?this.remarks:""}),this.remarks=""},getDocmentType(){let e="";switch(this.currentTab){case 1:e="Pan";break;case 2:e="Address";break;case 3:e="Profile";break;case 4:e="Bank";break;case 5:e="Segment";break;case 6:e="Nominee";break;case 7:e="Document";break;case 8:e="IPV";break;case 9:e="E-Sign";break}return e},getAttachmentType(){let e="";switch(this.currentTab){case 1:e="PAN";break;case 2:e="Photo";break;case 3:e="CANCELLED_CHEQUE_OR_STATEMENT";break;case 4:e="INCOME_PROOF";break;case 5:e="SIGNATURE";break;case 6:e="ESIGN_DOCUMENT";break;case 7:e="PROTECTED_ESIGN_DOCUMENT";break;case 8:e="ADDITIONAL_DOCUMENT";break;case 9:e="POA";break;case 10:e="CLIENT_PHOTO";break;case 11:e="AADHAR_IMAGE";break}return e},async getRemarks(e){this.remarks=e.remarks,this.remarks&&await this.approveOrRejectDoc("Rejected"),this.isRejectDialog=e.isOpen},getStatusForPage(e){let a="";switch(this.currentTab){case 1:a=this.stringTrim(e["pan status"]);break;case 2:a=this.stringTrim(e["address status"]);break;case 3:a=this.stringTrim(e["profile status"]);break;case 4:a=this.stringTrim(e["bank status"]);break;case 5:a=this.stringTrim(e["segment status"]);break;case 6:a="";break;case 7:a=this.stringTrim(e["document status"]);break;case 8:a=this.stringTrim(e["IPV status"]);break;case 9:a=this.stringTrim(e["Esign status"]);break}return a},stringTrim(e){if(e)return e==null?void 0:e.toString().trim()},getFormat(e){return window.formatDate(e,"D")},progress(){if(this.getStageData.hasOwnProperty("nominee")){let e=["pan status","profile status","address status","bank status","segment status","IPV status","Esign status"],a=this.getStageData,m=this.getStageData.nominee,u=0,s=!1,r=!1,l=!1;for(const d in a)e.forEach(n=>{d==n&&a[d]&&(u+=11.1)});if(s=Object.values(this.getStageData).some(function(d){return d=="Rejected"}),m.length){let d=m.filter(n=>n.status=="Approved"||n.status=="Rejected");if(d.length>0){let n=parseFloat(11.1)/d.length;u+=n}m.every(function(n){return n.status=="Approved"}),r=m.some(function(n){return n.status=="Rejected"})}if(this.getDocuments&&this.getDocuments.length>0){let d=parseFloat(11.1)/this.getDocuments.length,n=this.getDocuments.filter(f=>f.status),y=parseFloat(d*n.length);u+=y,n!=null&&n.length&&(l=n.some(function(f){return f.status=="Rejected"}))}return this.$store.commit("approval/setIsReject",s||r||l),Math.round(u)}else return 0}},created(){this.currentTab=this.$store.state.queries.approvepanel.query.tab,this.$store.commit("setActiveTab",this.currentTab)},mounted(){var e,a;this.$store.dispatch("approval/getDocuments"),(e=this.$route.query)!=null&&e.id&&this.$store.dispatch("approval/getStageDetails",(a=this.$route.query)==null?void 0:a.id)}},Pl={class:"bg-white py-4 px-4 my-2 rounded-lg flex flex-col flex-wrap gap-4 justify-between mx-4"},Ml={class:"flex flex-wrap gap-4 justify-between"},Il=t("div",{class:"text-xs mb-2 secondaryColor"}," Name ",-1),Rl={class:"text-sm"},Ll=t("div",{class:"text-xs mb-2 secondaryColor"}," Status ",-1),jl={class:"text-sm"},El=t("div",{class:"text-xs mb-2 secondaryColor"}," DOB ",-1),Ul={class:"text-sm"},Bl=t("div",{class:"text-xs mb-2 secondaryColor"}," Gender ",-1),Ol={class:"text-sm"},Vl=t("div",{class:"text-xs mb-2 secondaryColor"}," Mobile ",-1),Hl={class:"text-sm"},Fl=t("div",{class:"text-xs mb-2 secondaryColor"}," PAN ",-1),zl={class:"text-sm"},ql={class:"w-full mb-2 secondary-color dark:text-[#94A3B8] font-medium text-sm"},Wl={class:"flex items-center"},Kl={class:"progress-bar bg-[#d9d7d7] dark:bg-gray-600"},Gl={class:"p-4"},Yl={key:0},Jl={key:0,class:"flex gap-4 my-4 justify-between absolute right-4 bottom-2"},Ql=["innerHTML"],Xl=["innerHTML"],Zl={key:0,class:"flex gap-1 items-center"},td=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 text-white-500"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})],-1),ed={key:2,class:"flex gap-4"},sd={key:0,class:"flex items-center justify-center gap-1"},ad=["innerHTML"],od={class:"flex items-center justify-center gap-1"},rd=["innerHTML"];function nd(e,a,m,u,s,r){var I,R,O,V,H,F,z,q,W,K,G,Y,J,Q;const l=b("breadcrumbKyc"),d=b("tabs"),n=b("user_details"),y=b("pan_details"),f=b("address_details"),v=b("profile_details"),h=b("bank_details"),k=b("segment_details"),D=b("nominee_details"),A=b("document_details"),j=b("ipv_details"),E=b("esign_details"),U=b("pushto_bo"),$=b("btnLoader"),B=b("rejectDialog");return o(),i(w,null,[t("div",null,[T(l)]),t("div",Pl,[t("div",Ml,[t("div",null,[Il,t("div",Rl,_((R=(I=e.getCustomerData)==null?void 0:I.opportunity_data)==null?void 0:R.fsl_user_name),1)]),t("div",null,[Ll,t("div",jl,_((V=(O=e.getCustomerData)==null?void 0:O.opportunity_data)==null?void 0:V.status),1)]),t("div",null,[El,t("div",Ul,_(r.getFormat((F=(H=e.getCustomerData)==null?void 0:H.opportunity_data)==null?void 0:F.fsl_dob)),1)]),t("div",null,[Bl,t("div",Ol,_((q=(z=e.getCustomerData)==null?void 0:z.profile_data)==null?void 0:q.gender),1)]),t("div",null,[Vl,t("div",Hl,_((K=(W=e.getCustomerData)==null?void 0:W.opportunity_data)==null?void 0:K.fsl_mobile_num),1)]),t("div",null,[Fl,t("div",zl,_((Y=(G=e.getCustomerData)==null?void 0:G.opportunity_data)==null?void 0:Y.fsl_pan_no),1)])]),t("div",null,[t("div",ql,"Progress ("+_(r.progress())+"%)",1),t("div",Wl,[t("div",Kl,[t("div",{class:"progress",style:Dt({width:r.progress()+"%"})},null,4)])])])]),T(d,{class:"mx-4",onActiveTab:r.changeTab},null,8,["onActiveTab"]),t("div",Gl,[s.currentTab==0?(o(),x(n,{key:0,cutomerData:e.getCustomerData},null,8,["cutomerData"])):c("",!0),s.currentTab==1?(o(),x(y,{key:1})):c("",!0),s.currentTab==2?(o(),x(f,{key:2,cutomerData:e.getCustomerData},null,8,["cutomerData"])):c("",!0),s.currentTab==3?(o(),x(v,{key:3})):c("",!0),s.currentTab==4?(o(),x(h,{key:4})):c("",!0),s.currentTab==5?(o(),x(k,{key:5})):c("",!0),s.currentTab==6?(o(),x(D,{key:6})):c("",!0),s.currentTab==7?(o(),x(A,{key:7})):c("",!0),s.currentTab==8?(o(),x(j,{key:8})):c("",!0),s.currentTab==9?(o(),x(E,{key:9})):c("",!0),s.currentTab==10?(o(),x(U,{key:10})):c("",!0)]),((J=e.$route.query)==null?void 0:J.from)!="opportunity"&&((Q=e.getUserData)==null?void 0:Q.Role)!="RM"?(o(),i("div",Yl,[s.currentTab!=0&&s.currentTab!=7&&s.currentTab!=6&&s.currentTab!=10?(o(),i("div",Jl,[r.getStatusForPage(e.getStageData)!=""&&r.getStatusForPage(e.getStageData)!="Reset"&&r.getStatusForPage(e.getStageData)?(o(),i("div",{key:0,class:L(["flex gap-1 justify-center items-center min-w-[120px] h-[36px] py-2 rounded-lg text-white font-bold",r.getStatusForPage(e.getStageData)=="Approved"?"bg-green-700":"bg-red-700"])},[r.getStatusForPage(e.getStageData)=="Approved"?(o(),i("div",{key:0,innerHTML:s.tickSvg},null,8,Ql)):r.getStatusForPage(e.getStageData)=="Rejected"?(o(),i("div",{key:1,innerHTML:s.cancelSvg},null,8,Xl)):c("",!0),C(" "+_(r.getStatusForPage(e.getStageData)),1)],2)):c("",!0),r.getStatusForPage(e.getStageData)&&(r.getStatusForPage(e.getStageData)=="Approved"||r.getStatusForPage(e.getStageData)=="Rejected"||r.getStatusForPage(e.getStageData)=="Reset")?(o(),i("div",{key:1,class:"flex gap-1 justify-center items-center min-w-[120px] h-[36px] ml-2 bg-white py-2 rounded-lg text-blue-700 font-bold border border-blue-700 cursor-pointer",onClick:a[0]||(a[0]=X=>r.approveOrRejectDoc("Reset"))},[e.getIsResetLoader?(o(),x($,{key:1})):(o(),i("span",Zl,[td,C(" "+_("Reset"))]))])):(o(),i("div",ed,[t("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-teal-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[1]||(a[1]=X=>r.approveOrRejectDoc("Approved"))},[e.getIsApproveLoader?(o(),x($,{key:1})):(o(),i("span",sd,[t("div",{innerHTML:s.tickSvg},null,8,ad),C("Approve ")]))]),t("button",{type:"button",class:"min-w-[120px] h-[36px] flex items-center justify-center rounded-md bg-orange-400 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-orange-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:a[2]||(a[2]=X=>this.remarks?r.approveOrRejectDoc("Rejected"):s.isRejectDialog=!0)},[t("span",od,[t("div",{innerHTML:s.cancelSvg},null,8,rd),C("Reject ")])])]))])):c("",!0)])):c("",!0),s.isRejectDialog&&s.currentTab!=6&&s.currentTab!=7?(o(),x(B,{key:1,"active-tab":s.currentTab,"is-open":s.isRejectDialog,onSendRemarks:r.getRemarks},null,8,["active-tab","is-open","onSendRemarks"])):c("",!0)],64)}const gd=P(Nl,[["render",nd]]);export{gd as default};
