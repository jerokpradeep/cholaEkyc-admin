import{t as Ve}from"./tabs-877995c8.js";import{g as q,_ as R,r as k,o as g,e as N,q as $,s as j,a as n,D as oe,t as T,G as U,m as G,h as Re,c as _,F as V,u as K,A as L,w as re,b as Y,L as ee,y as z,z as F,v as te,J as b,x as O,M as Oe}from"./index-df8c250c.js";import{U as ie,G as ae,V as le,h as ce,S as ue}from"./transition-3b859e68.js";import"./hidden-8a0cee79.js";const Ye=q({name:"mail-req",components:{Dialog:ie,DialogPanel:ae,DialogTitle:le,TransitionChild:ce,TransitionRoot:ue},props:{isOpen:{type:Boolean,required:!0,default:!1},showData:{required:!0}},methods:{close(){this.$emit("mail-close",!1)}}}),Ne=n("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Be={class:"fixed inset-0 z-10 overflow-y-auto"},Je={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},Pe={class:""},Ie={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},ze=["innerHTML"],Fe={class:"mt-5 sm:mt-4 flex justify-end gap-2"};function He(e,t,r,i,s,a){const l=k("TransitionChild"),o=k("DialogTitle"),c=k("DialogPanel"),f=k("Dialog"),m=k("TransitionRoot");return g(),N(m,{as:"template",show:e.isOpen},{default:$(()=>[j(f,{as:"div",class:"relative z-10",onClose:t[1]||(t[1]=d=>e.close())},{default:$(()=>[j(l,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:$(()=>[Ne]),_:1}),n("div",Be,[n("div",Je,[j(l,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:$(()=>[j(c,{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all w-[650px] sm:p-6"},{default:$(()=>[n("div",Pe,[n("div",Ie,[j(o,{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:$(()=>[oe(T(e.showData.subject),1)]),_:1}),n("div",{class:"rounded-lg bg-white border border-[#E1E2E6] mt-2 p-4",innerHTML:e.showData.data},null,8,ze)])]),n("div",Fe,[n("button",{type:"button",class:"min-h-[32px] px-4 text-sm rounded bg-[#ffffff] border border-[#a2a2a2] text-[#17181A] tracking-[0.2px]",onClick:t[0]||(t[0]=d=>e.close())},"Close")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const qe=R(Ye,[["render",He]]),Ue=q({name:"mail-logs",computed:{...U("logs",["loginType","isMailDial"]),...G("logs",["getMailLogs"])},setup(){return{bindData:Re()}},components:{mailReq:qe},methods:{formatDate(e){const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();let s=e.getHours();const a=s>=12?"pm":"am";s=s%12,s=s||12;const l=String(e.getMinutes()).padStart(2,"0");return`${t}/${r}/${i}, ${s}:${l} ${a}`}}}),Ge={class:"px-4"},Ke={key:0,class:"w-full border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] bg-white rounded-lg"},We={class:"border-b dark:border-[#232325] dark:bg-[#181818]"},Ze={class:"border-b text-[13px]"},Qe={class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},Xe=n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Request Log",-1),et=n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Response Log",-1),tt=n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Time",-1),ot={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},nt={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},st={key:0},rt={key:1,class:"flex justify-center items-center gap-3"},it=["onClick"],at={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},lt={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},ct={key:1,class:"min-h-[300px] flex justify-center items-center"};function ut(e,t,r,i,s,a){const l=k("mailReq");return g(),_(V,null,[n("div",Ge,[e.getMailLogs.length>0?(g(),_("table",Ke,[n("thead",We,[n("tr",Ze,[n("th",Qe,T(e.loginType=="SMS"?"Mobile No":"E-mail"),1),Xe,et,tt])]),n("tbody",null,[(g(!0),_(V,null,K(e.getMailLogs,(o,c)=>(g(),_("tr",{key:c,class:"border-b text-sm"},[n("td",ot,T(e.loginType=="SMS"?o.mobileNo:o.emailId)+" "+T(),1),n("td",nt,[e.loginType=="SMS"?(g(),_("span",st,T(o.requestLog),1)):(g(),_("span",rt,[oe(T(o.reqLogSub)+" ",1),o.reqLog?(g(),_("a",{key:0,class:"text-blue-500 cursor-pointer underline text-xs",onClick:f=>(e.$store.commit("logs/setIsMailDial",!0),e.bindData={data:o.reqLog,subject:o.reqLogSub})},"View",8,it)):L("",!0)]))]),n("td",at,T(o.responseLog),1),n("td",lt,T(e.formatDate(new Date(o.createdOn))),1)]))),128))])])):(g(),_("div",ct," No Data Found "))]),e.isMailDial?(g(),N(l,{key:0,"is-open":e.isMailDial,"show-data":e.bindData,onMailClose:t[0]||(t[0]=o=>e.$store.commit("logs/setIsMailDial",!1))},null,8,["is-open","show-data"])):L("",!0)],64)}const dt=R(Ue,[["render",ut]]),pt=`<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5">
    </path></svg>`,ft={components:{maillogsTable:dt},data(){return{dateSvg:pt,logType:"EMAIL",fromDate:new Date,toDate:new Date,popover:{visibility:"click",placement:"bottom-start"},value:""}},computed:{...G("logs",["getLoader"])},methods:{getMinDate(){let e=new Date,t=e.getMonth()-1;return e.setMonth(t),e.toISOString().slice(0,10)},async getReports(){if(this.fromDate&&this.toDate&&(this.value&&this.validateRegex(this.value)||!this.value)){let e={limit:20,offset:0,type:this.logType,fromDate:this.fromDate,toDate:this.toDate};this.value&&(e.value=this.value),await this.$store.dispatch("logs/getMailLogData",e)}else(!this.fromDate||!this.toDate)&&this.$store.dispatch("errorLog/toaster",{data:{title:"Select a from Date and To date",type:"danger",message:"",duration:4500},position:""},{root:!0}),this.value&&!this.validateRegex(this.value)&&this.$store.dispatch("errorLog/toaster",{data:{title:"Enter Vaild Email on Mobile Number",type:"danger",message:"",duration:4500},position:""},{root:!0})},validateRegex(e){let t=new RegExp("^([a-z0-9_.-]+@[da-z.-]+.[a-z.]{2,6})$"),r=new RegExp("^([0|+[0-9]{1,5})?([7-9][0-9]{9})$");return e?t.test(e)||e.length>6&&r.test(e):!1},resetFields(e){this.fromDate=this.toDate="",this.logType="EMAIL",this.value="",this.$store.commit("logs/setMailLogs",[])},setPreviousWeekDatetime(){const e=new Date;e.setDate(e.getDate()-7);const t=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");this.fromDate=`${t}-${r}-${i}`},setCurrentDatetime(){const e=new Date,t=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");this.toDate=`${t}-${r}-${i}`}},mounted(){this.resetFields(),this.setCurrentDatetime(),this.setPreviousWeekDatetime()},unmounted(){this.resetFields()}},ht={class:"p-4"},mt=n("p",{class:"primaryColor pb-1 text-sm ml-1"},"Log Type",-1),gt=n("option",{value:"EMAIL"},"EMAIL",-1),vt=n("option",{value:"SMS"},"SMS",-1),yt=[gt,vt],xt=n("label",{class:"primaryColor pb-1 text-sm"},"From Date",-1),_t={class:"flex items-center justify-between w-[160px] h-10 cursor-pointer border rounded p-2"},bt=["value"],wt=["onClick","innerHTML"],Dt=n("label",{class:"primaryColor pb-1 text-sm"},"To Date",-1),St={class:"flex items-center justify-between w-[160px] h-10 cursor-pointer border rounded p-2"},kt=["value"],Tt=["onClick"],jt=["innerHTML"],Ct=n("p",{class:"primaryColor pb-1 text-sm"},"Search Mail/SMS",-1),Mt=["placeholder"],$t={class:"flex items-end"},Lt=["disabled"],Et={key:0},At={key:1,class:"animate-spin h-5 w-5 text-white flex mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"#fffff",viewBox:"0 0 24 24"},Vt=n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"#fffff","stroke-width":"4"},null,-1),Rt=n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Ot=[Vt,Rt];function Yt(e,t,r,i,s,a){const l=k("VDatePicker"),o=k("maillogsTable");return g(),_(V,null,[n("div",ht,[n("form",{class:"flex flex-wrap gap-3 card p-5 border rounded bg-white shadow-sm",onSubmit:t[5]||(t[5]=re(c=>a.getReports("table"),["prevent"]))},[n("div",null,[mt,Y(n("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.logType=c),onChange:t[1]||(t[1]=c=>s.value=""),class:"border min-w-[160px] h-10 rounded focus:outline-0 px-4 text-xs"},yt,544),[[ee,s.logType]])]),n("div",null,[xt,j(l,{type:"date","max-date":new Date().toISOString().slice(0,10),"min-date":a.getMinDate(),modelValue:s.fromDate,"onUpdate:modelValue":t[2]||(t[2]=c=>s.fromDate=c),modelModifiers:{string:!0},"is-required":"",popover:s.popover,masks:{input:"DD-MM-YYYY",modelValue:"YYYY-MM-DD"},mode:"date",dateFormat:"YYYY-MM-DD"},{default:$(({togglePopover:c,inputValue:f,inputEvents:m})=>[n("div",_t,[n("input",z({value:f,placeholder:"DD-MM-YYYY"},F(m,!0),{class:"min-w-[100px] text-xs outline-none cursor-pointer",readonly:""}),null,16,bt),n("button",{type:"button",class:"flex justify-center items-center bg-accent-100 hover:bg-accent-200 text-accent-700",onClick:()=>c(),innerHTML:s.dateSvg},null,8,wt)])]),_:1},8,["max-date","min-date","modelValue","popover"])]),n("div",null,[Dt,j(l,{type:"date","max-date":new Date().toISOString().slice(0,10),modelValue:s.toDate,"onUpdate:modelValue":t[3]||(t[3]=c=>s.toDate=c),modelModifiers:{string:!0},"is-required":"",popover:s.popover,masks:{input:"DD-MM-YYYY",modelValue:"YYYY-MM-DD"},mode:"date",dateFormat:"YYYY-MM-DD"},{default:$(({togglePopover:c,inputValue:f,inputEvents:m})=>[n("div",St,[n("input",z({value:f,placeholder:"DD-MM-YYYY"},F(m,!0),{class:"min-w-[100px] text-xs outline-none cursor-pointer",readonly:""}),null,16,kt),n("button",{type:"button",class:"flex justify-center items-center bg-accent-100 hover:bg-accent-200 text-accent-700",onClick:()=>c()},[n("span",{innerHTML:s.dateSvg},null,8,jt)],8,Tt)])]),_:1},8,["max-date","modelValue","popover"])]),n("div",null,[Ct,Y(n("input",{type:"text",placeholder:s.logType=="SMS"?"Search User Mobile Number":"Search User Email","onUpdate:modelValue":t[4]||(t[4]=c=>s.value=c),class:"border w-full h-10 rounded focus:outline-0 px-4 text-xs"},null,8,Mt),[[te,s.value]])]),n("div",$t,[n("button",{type:"submit",class:"bg-blue-500 text-white h-10 w-[120px] cursor-pointer rounded text-xs",disabled:e.getLoader},[e.getLoader?L("",!0):(g(),_("p",Et,"Submit")),e.getLoader?(g(),_("svg",At,Ot)):L("",!0)],8,Lt)])],32)]),n("div",null,[j(o)])],64)}const Nt=R(ft,[["render",Yt]]);function H(e){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}var Bt=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,de={name:"JsonString",props:{jsonValue:{type:String,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,r=Bt.test(t),i;return this.expand?(i={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},r?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),i.innerHTML='"'.concat(t.toString(),'"')):i.innerText='"'.concat(t.toString(),'"')):i={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},b("span",{},[this.canExtend&&b("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),b("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),b("span",i)])}};de.__file="src/Components/types/json-string.vue";var pe={name:"JsonUndefined",functional:!0,props:{jsonValue:{type:Object,default:null}},render:function(){return b("span",{class:{"jv-item":!0,"jv-undefined":!0},innerText:this.jsonValue===null?"null":"undefined"})}};pe.__file="src/Components/types/json-undefined.vue";var fe={name:"JsonNumber",functional:!0,props:{jsonValue:{type:Number,required:!0}},render:function(){var t=Number.isInteger(this.jsonValue);return b("span",{class:{"jv-item":!0,"jv-number":!0,"jv-number-integer":t,"jv-number-float":!t},innerText:this.jsonValue.toString()})}};fe.__file="src/Components/types/json-number.vue";var he={name:"JsonBoolean",functional:!0,props:{jsonValue:Boolean},render:function(){return b("span",{class:{"jv-item":!0,"jv-boolean":!0},innerText:this.jsonValue.toString()})}};he.__file="src/Components/types/json-boolean.vue";var me={name:"JsonObject",props:{jsonValue:{type:Object,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},expand:Boolean,sort:Boolean,previewMode:Boolean},data:function(){return{value:{}}},computed:{ordered:function(){var t=this;if(!this.sort)return this.value;var r={};return Object.keys(this.value).sort().forEach(function(i){r[i]=t.value[i]}),r}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var r=this;setTimeout(function(){r.value=t},0)},toggle:function(){this.$emit("update:expand",!this.expand),this.dispatchEvent()},dispatchEvent:function(){try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=[];if(!this.previewMode&&!this.keyName&&t.push(b("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),t.push(b("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"{"})),this.expand){for(var r in this.ordered)if(this.ordered.hasOwnProperty(r)){var i=this.ordered[r];t.push(b(W,{key:r,style:{display:this.expand?void 0:"none"},sort:this.sort,keyName:r,depth:this.depth+1,value:i,previewMode:this.previewMode}))}}return!this.expand&&Object.keys(this.value).length&&t.push(b("span",{style:{display:this.expand?"none":void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal object content (keys: ".concat(Object.keys(this.ordered).join(", "),")"),innerText:"..."})),t.push(b("span",{class:{"jv-item":!0,"jv-object":!0},innerText:"}"})),b("span",t)}};me.__file="src/Components/types/json-object.vue";var ge={name:"JsonArray",props:{jsonValue:{type:Array,required:!0},keyName:{type:String,default:""},depth:{type:Number,default:0},sort:Boolean,expand:Boolean,previewMode:Boolean},data:function(){return{value:[]}},watch:{jsonValue:function(t){this.setValue(t)}},mounted:function(){this.setValue(this.jsonValue)},methods:{setValue:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;i===0&&(this.value=[]),setTimeout(function(){t.length>i&&(r.value.push(t[i]),r.setValue(t,i+1))},0)},toggle:function(){this.$emit("update:expand",!this.expand);try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,r=[];return!this.previewMode&&!this.keyName&&r.push(b("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),r.push(b("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"["})),this.expand&&this.value.forEach(function(i,s){r.push(b(W,{key:s,style:{display:t.expand?void 0:"none"},sort:t.sort,depth:t.depth+1,value:i,previewMode:t.previewMode}))}),!this.expand&&this.value.length&&r.push(b("span",{style:{display:void 0},class:{"jv-ellipsis":!0},onClick:this.toggle,title:"click to reveal ".concat(this.value.length," hidden items"),innerText:"..."})),r.push(b("span",{class:{"jv-item":!0,"jv-array":!0},innerText:"]"})),b("span",r)}};ge.__file="src/Components/types/json-array.vue";var ve={name:"JsonFunction",functional:!0,props:{jsonValue:{type:Function,required:!0}},render:function(){return b("span",{class:{"jv-item":!0,"jv-function":!0},attrs:{title:this.jsonValue.toString()},innerHTML:"&lt;function&gt;"})}};ve.__file="src/Components/types/json-function.vue";var ye={name:"JsonDate",inject:["timeformat"],functional:!0,props:{jsonValue:{type:Date,required:!0}},render:function(){var t=this.jsonValue,r=this.timeformat;return b("span",{class:{"jv-item":!0,"jv-string":!0},innerText:'"'.concat(r(t),'"')})}};ye.__file="src/Components/types/json-date.vue";var Jt=/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/,xe={name:"JsonString",props:{jsonValue:{type:RegExp,required:!0}},data:function(){return{expand:!0,canExtend:!1}},mounted:function(){this.$refs.itemRef.offsetHeight>this.$refs.holderRef.offsetHeight&&(this.canExtend=!0)},methods:{toggle:function(){this.expand=!this.expand}},render:function(){var t=this.jsonValue,r=Jt.test(t),i;return this.expand?(i={class:{"jv-item":!0,"jv-string":!0},ref:"itemRef"},r?(t='<a href="'.concat(t,'" target="_blank" class="jv-link">').concat(t,"</a>"),i.innerHTML="".concat(t.toString())):i.innerText="".concat(t.toString())):i={class:{"jv-ellipsis":!0},onClick:this.toggle,innerText:"..."},b("span",{},[this.canExtend&&b("span",{class:{"jv-toggle":!0,open:this.expand},onClick:this.toggle}),b("span",{class:{"jv-holder-node":!0},ref:"holderRef"}),b("span",i)])}};xe.__file="src/Components/types/json-regexp.vue";var W={name:"JsonBox",inject:["expandDepth","keyClick"],props:{value:{type:[Object,Array,String,Number,Boolean,Function,Date],default:null},keyName:{type:String,default:""},sort:Boolean,depth:{type:Number,default:0},previewMode:Boolean},data:function(){return{expand:!0}},mounted:function(){this.expand=this.previewMode||!(this.depth>=this.expandDepth)},methods:{toggle:function(){this.expand=!this.expand;try{this.$el.dispatchEvent(new Event("resized"))}catch{var t=document.createEvent("Event");t.initEvent("resized",!0,!1),this.$el.dispatchEvent(t)}}},render:function(){var t=this,r=[],i;this.value===null||this.value===void 0?i=pe:Array.isArray(this.value)?i=ge:Object.prototype.toString.call(this.value)==="[object Date]"?i=ye:this.value.constructor===RegExp?i=xe:H(this.value)==="object"?i=me:typeof this.value=="number"?i=fe:typeof this.value=="string"?i=de:typeof this.value=="boolean"?i=he:typeof this.value=="function"&&(i=ve);var s=this.keyName&&this.value&&(Array.isArray(this.value)||H(this.value)==="object"&&Object.prototype.toString.call(this.value)!=="[object Date]");return!this.previewMode&&s&&r.push(b("span",{class:{"jv-toggle":!0,open:!!this.expand},onClick:this.toggle})),this.keyName&&r.push(b("span",{class:{"jv-key":!0},onClick:function(){t.keyClick(t.keyName)},innerText:"".concat(this.keyName,":")})),r.push(b(i,{class:{"jv-push":!0},jsonValue:this.value,keyName:this.keyName,sort:this.sort,depth:this.depth,expand:this.expand,previewMode:this.previewMode,"onUpdate:expand":function(l){t.expand=l}})),b("div",{class:{"jv-node":!0,"jv-key-node":!!this.keyName&&!s,toggle:!this.previewMode&&s}},r)}};W.__file="src/Components/json-box.vue";var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _e={exports:{}};(function(e,t){(function(i,s){e.exports=s()})(Pt,function(){return function(){var r={686:function(a,l,o){o.d(l,{default:function(){return Ae}});var c=o(279),f=o.n(c),m=o(370),d=o.n(m),w=o(817),M=o.n(w);function D(v){try{return document.execCommand(v)}catch{return!1}}var C=function(p){var u=M()(p);return D("cut"),u},S=C;function A(v){var p=document.documentElement.getAttribute("dir")==="rtl",u=document.createElement("textarea");u.style.fontSize="12pt",u.style.border="0",u.style.padding="0",u.style.margin="0",u.style.position="absolute",u.style[p?"right":"left"]="-9999px";var y=window.pageYOffset||document.documentElement.scrollTop;return u.style.top="".concat(y,"px"),u.setAttribute("readonly",""),u.value=v,u}var we=function(p){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},y="";if(typeof p=="string"){var h=A(p);u.container.appendChild(h),y=M()(h),D("copy"),h.remove()}else y=M()(p),D("copy");return y},Z=we;function J(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(u){return typeof u}:J=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},J(v)}var De=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=p.action,y=u===void 0?"copy":u,h=p.container,x=p.target,E=p.text;if(y!=="copy"&&y!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(x!==void 0)if(x&&J(x)==="object"&&x.nodeType===1){if(y==="copy"&&x.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(y==="cut"&&(x.hasAttribute("readonly")||x.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(E)return Z(E,{container:h});if(x)return y==="cut"?S(x):Z(x,{container:h})},Se=De;function B(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(u){return typeof u}:B=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},B(v)}function ke(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function se(v,p){for(var u=0;u<p.length;u++){var y=p[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}function Te(v,p,u){return p&&se(v.prototype,p),u&&se(v,u),v}function je(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),p&&Q(v,p)}function Q(v,p){return Q=Object.setPrototypeOf||function(y,h){return y.__proto__=h,y},Q(v,p)}function Ce(v){var p=Le();return function(){var y=P(v),h;if(p){var x=P(this).constructor;h=Reflect.construct(y,arguments,x)}else h=y.apply(this,arguments);return Me(this,h)}}function Me(v,p){return p&&(B(p)==="object"||typeof p=="function")?p:$e(v)}function $e(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function Le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function P(v){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},P(v)}function X(v,p){var u="data-clipboard-".concat(v);if(p.hasAttribute(u))return p.getAttribute(u)}var Ee=function(v){je(u,v);var p=Ce(u);function u(y,h){var x;return ke(this,u),x=p.call(this),x.resolveOptions(h),x.listenClick(y),x}return Te(u,[{key:"resolveOptions",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof h.action=="function"?h.action:this.defaultAction,this.target=typeof h.target=="function"?h.target:this.defaultTarget,this.text=typeof h.text=="function"?h.text:this.defaultText,this.container=B(h.container)==="object"?h.container:document.body}},{key:"listenClick",value:function(h){var x=this;this.listener=d()(h,"click",function(E){return x.onClick(E)})}},{key:"onClick",value:function(h){var x=h.delegateTarget||h.currentTarget,E=this.action(x)||"copy",I=Se({action:E,container:this.container,target:this.target(x),text:this.text(x)});this.emit(I?"success":"error",{action:E,text:I,trigger:x,clearSelection:function(){x&&x.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(h){return X("action",h)}},{key:"defaultTarget",value:function(h){var x=X("target",h);if(x)return document.querySelector(x)}},{key:"defaultText",value:function(h){return X("text",h)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return Z(h,x)}},{key:"cut",value:function(h){return S(h)}},{key:"isSupported",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],x=typeof h=="string"?[h]:h,E=!!document.queryCommandSupported;return x.forEach(function(I){E=E&&!!document.queryCommandSupported(I)}),E}}]),u}(f()),Ae=Ee},828:function(a){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}function c(f,m){for(;f&&f.nodeType!==l;){if(typeof f.matches=="function"&&f.matches(m))return f;f=f.parentNode}}a.exports=c},438:function(a,l,o){var c=o(828);function f(w,M,D,C,S){var A=d.apply(this,arguments);return w.addEventListener(D,A,S),{destroy:function(){w.removeEventListener(D,A,S)}}}function m(w,M,D,C,S){return typeof w.addEventListener=="function"?f.apply(null,arguments):typeof D=="function"?f.bind(null,document).apply(null,arguments):(typeof w=="string"&&(w=document.querySelectorAll(w)),Array.prototype.map.call(w,function(A){return f(A,M,D,C,S)}))}function d(w,M,D,C){return function(S){S.delegateTarget=c(S.target,M),S.delegateTarget&&C.call(w,S)}}a.exports=m},879:function(a,l){l.node=function(o){return o!==void 0&&o instanceof HTMLElement&&o.nodeType===1},l.nodeList=function(o){var c=Object.prototype.toString.call(o);return o!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in o&&(o.length===0||l.node(o[0]))},l.string=function(o){return typeof o=="string"||o instanceof String},l.fn=function(o){var c=Object.prototype.toString.call(o);return c==="[object Function]"}},370:function(a,l,o){var c=o(879),f=o(438);function m(D,C,S){if(!D&&!C&&!S)throw new Error("Missing required arguments");if(!c.string(C))throw new TypeError("Second argument must be a String");if(!c.fn(S))throw new TypeError("Third argument must be a Function");if(c.node(D))return d(D,C,S);if(c.nodeList(D))return w(D,C,S);if(c.string(D))return M(D,C,S);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function d(D,C,S){return D.addEventListener(C,S),{destroy:function(){D.removeEventListener(C,S)}}}function w(D,C,S){return Array.prototype.forEach.call(D,function(A){A.addEventListener(C,S)}),{destroy:function(){Array.prototype.forEach.call(D,function(A){A.removeEventListener(C,S)})}}}function M(D,C,S){return f(document.body,D,C,S)}a.exports=m},817:function(a){function l(o){var c;if(o.nodeName==="SELECT")o.focus(),c=o.value;else if(o.nodeName==="INPUT"||o.nodeName==="TEXTAREA"){var f=o.hasAttribute("readonly");f||o.setAttribute("readonly",""),o.select(),o.setSelectionRange(0,o.value.length),f||o.removeAttribute("readonly"),c=o.value}else{o.hasAttribute("contenteditable")&&o.focus();var m=window.getSelection(),d=document.createRange();d.selectNodeContents(o),m.removeAllRanges(),m.addRange(d),c=m.toString()}return c}a.exports=l},279:function(a){function l(){}l.prototype={on:function(o,c,f){var m=this.e||(this.e={});return(m[o]||(m[o]=[])).push({fn:c,ctx:f}),this},once:function(o,c,f){var m=this;function d(){m.off(o,d),c.apply(f,arguments)}return d._=c,this.on(o,d,f)},emit:function(o){var c=[].slice.call(arguments,1),f=((this.e||(this.e={}))[o]||[]).slice(),m=0,d=f.length;for(m;m<d;m++)f[m].fn.apply(f[m].ctx,c);return this},off:function(o,c){var f=this.e||(this.e={}),m=f[o],d=[];if(m&&c)for(var w=0,M=m.length;w<M;w++)m[w].fn!==c&&m[w].fn._!==c&&d.push(m[w]);return d.length?f[o]=d:delete f[o],this}},a.exports=l,a.exports.TinyEmitter=l}},i={};function s(a){if(i[a])return i[a].exports;var l=i[a]={exports:{}};return r[a](l,l.exports,s),l.exports}return function(){s.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(l,{a:l}),l}}(),function(){s.d=function(a,l){for(var o in l)s.o(l,o)&&!s.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:l[o]})}}(),function(){s.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)}}(),s(686)}().default})})(_e);var zt=It(_e.exports),Ft=function(t,r){var i=Date.now(),s;return function(){for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];Date.now()-i<r&&s&&clearTimeout(s),s=setTimeout(function(){t.apply(void 0,l)},r),i=Date.now()}},ne={name:"JsonViewer",components:{JsonBox:W},props:{value:{type:[Object,Array,String,Number,Boolean,Function],required:!0},expanded:{type:Boolean,default:!1},expandDepth:{type:Number,default:1},copyable:{type:[Boolean,Object],default:!1},sort:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1},theme:{type:String,default:"light"},timeformat:{type:Function,default:function(t){return t.toLocaleString()}},previewMode:{type:Boolean,default:!1}},provide:function(){return{expandDepth:this.expandDepth,timeformat:this.timeformat,keyClick:this.keyClick}},data:function(){return{copied:!1,expandableCode:!1,expandCode:this.expanded}},emits:["onKeyClick"],computed:{jvClass:function(){return"jv-container jv-"+this.theme+(this.boxed?" boxed":"")},copyText:function(){var t=this.copyable,r=t.copyText,i=t.copiedText,s=t.timeout,a=t.align;return{copyText:r||"copy",copiedText:i||"copied!",timeout:s||2e3,align:a}}},watch:{value:function(){this.onResized()}},mounted:function(){var t=this;if(this.debounceResized=Ft(this.debResized.bind(this),200),this.boxed&&this.$refs.jsonBox&&(this.onResized(),this.$refs.jsonBox.$el.addEventListener("resized",this.onResized,!0)),this.copyable){var r=new zt(this.$refs.clip,{text:function(){return JSON.stringify(t.value,null,2)}});r.on("success",function(i){t.onCopied(i)})}},methods:{onResized:function(){this.debounceResized()},debResized:function(){var t=this;this.$nextTick(function(){t.$refs.jsonBox&&(t.$refs.jsonBox.$el.clientHeight>=250?t.expandableCode=!0:t.expandableCode=!1)})},keyClick:function(t){this.$emit("onKeyClick",t)},onCopied:function(t){var r=this;this.copied||(this.copied=!0,setTimeout(function(){r.copied=!1},this.copyText.timeout),this.$emit("copied",t))},toggleExpandCode:function(){this.expandCode=!this.expandCode}}};function Ht(e,t,r,i,s,a){var l=k("json-box");return g(),_("div",{class:O(a.jvClass)},[r.copyable?(g(),_("div",{key:0,class:O("jv-tooltip ".concat(a.copyText.align||"right"))},[n("span",{ref:"clip",class:O(["jv-button",{copied:s.copied}])},[Oe(e.$slots,"copy",{copied:s.copied},function(){return[oe(T(s.copied?a.copyText.copiedText:a.copyText.copyText),1)]})],2)],2)):L("v-if",!0),n("div",{class:O(["jv-code",{open:s.expandCode,boxed:r.boxed}])},[j(l,{ref:"jsonBox",value:r.value,sort:r.sort,"preview-mode":r.previewMode},null,8,["value","sort","preview-mode"])],2),s.expandableCode&&r.boxed?(g(),_("div",{key:1,class:"jv-more",onClick:t[0]||(t[0]=function(){return a.toggleExpandCode&&a.toggleExpandCode.apply(a,arguments)})},[n("span",{class:O(["jv-toggle",{open:!!s.expandCode}])},null,2)])):L("v-if",!0)],2)}ne.render=Ht;ne.__file="src/Components/json-viewer.vue";const qt={data(){return{formateJSON:!1,copyText:!0,copyTextRes:!0}},props:{jsonValue:{type:Object}},methods:{closeDialog(){this.$store.commit("logs/setIsShowDialog",!1)},isJsonString(e){try{JSON.parse(e)}catch{return e}return JSON.parse(e)},copyResponseBody(){this.copyTextRes=!1,navigator.clipboard.writeText(JSON.stringify(this.jsonValue)),document.getElementById("jsonDataRes"),document.execCommand("copy"),setInterval(()=>{this.copyTextRes=!0},2e3)}},computed:{...G("logs",["getIsShowDialog"])},components:{TransitionRoot:ue,TransitionChild:ce,Dialog:ie,DialogPanel:ae,DialogTitle:le,JsonViewer:ne}},Ut=n("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Gt={class:"fixed inset-0 overflow-y-auto"},Kt={class:"flex min-h-full items-center justify-center p-4 text-center"},Wt={class:"flex justify-between items-center mt-6 text-xs"},Zt=n("p",null,"Response Body:",-1);function Qt(e,t,r,i,s,a){const l=k("TransitionChild"),o=k("JsonViewer"),c=k("DialogTitle"),f=k("DialogPanel"),m=k("Dialog"),d=k("TransitionRoot");return g(),_("div",null,[j(d,{appear:"",show:e.getIsShowDialog,as:"template"},{default:$(()=>[j(m,{as:"div",class:"relative z-10",onClose:t[1]||(t[1]=w=>a.closeDialog())},{default:$(()=>[j(l,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:$(()=>[Ut]),_:1}),n("div",Gt,[n("div",Kt,[j(l,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:$(()=>[j(f,{class:"w-full max-w-md transform overflow-hidden radius p-6 text-left align-middle bg-white rounded max-h-[500px] overflow-y-auto"},{default:$(()=>[j(c,{as:"h3",class:"text-base pb-2 font-medium leading-6 primaryColor"},{default:$(()=>[n("div",null,[n("div",Wt,[Zt,n("button",{class:"border px-4 h-8 rounded text-xs",onClick:t[0]||(t[0]=w=>a.copyResponseBody())},T(s.copyTextRes?"Copy":"Copied"),1)]),j(o,{class:"!text-xs",value:r.jsonValue},null,8,["value"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const be=R(qt,[["render",Qt]]),Xt=q({name:"mail-logs",computed:{...U("logs",["accessLogs","getIsShowDialog"])},data(){return{currentJsonValue:{}}},components:{jsonDialog:be},methods:{isJSON(e){try{return JSON.stringify(JSON.parse(e)),!0}catch{return!1}},getFormat(e){return window.formatDate(e,"D&T")},viewJSON(e){this.currentJsonValue=this.isJSON(e)?JSON.parse(e):e,this.$store.commit("logs/setIsShowDialog",!0)}}}),eo={class:"px-4"},to={key:0,class:"w-full border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] bg-white rounded-lg"},oo=n("thead",{class:"border-b dark:border-[#232325] dark:bg-[#181818]"},[n("tr",{class:"border-b text-[13px]"},[n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Application ID"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Time"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"URL"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Response Body"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"User Agent"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Device Ip")])],-1),no={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},so={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},ro={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},io=["onClick"],ao=["title"],lo={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},co={key:1,class:"min-h-[300px] flex justify-center items-center"};function uo(e,t,r,i,s,a){const l=k("jsonDialog");return g(),_("div",eo,[e.accessLogs.length>0?(g(),_("table",to,[oo,n("tbody",null,[(g(!0),_(V,null,K(e.accessLogs,(o,c)=>(g(),_("tr",{key:c,class:"border-b text-sm"},[n("td",no,T(o.applicationId&&o.applicationId!="null"?o.applicationId:"NA"),1),n("td",so,T(o.createdOn&&o.createdOn!="null"?e.getFormat(o.createdOn):"NA"),1),n("td",ro,T(o==null?void 0:o.uri),1),n("td",{class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center truncate max-w-[400px]",onClick:f=>e.viewJSON(o==null?void 0:o.resBody)},T(o==null?void 0:o.resBody),9,io),n("td",{class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center truncate max-w-[300px]",title:o==null?void 0:o.userAgent},T(o==null?void 0:o.userAgent),9,ao),n("td",lo,T(o==null?void 0:o.deviceIp),1)]))),128))])])):(g(),_("div",co," No Data Found ")),j(l,{jsonValue:e.currentJsonValue},null,8,["jsonValue"])])}const po=R(Xt,[["render",uo]]),fo=q({name:"mail-logs",computed:{...U("logs",["restLogs"])},data(){return{currentJsonValue:{}}},components:{jsonDialog:be},methods:{formatDate(e){const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();let s=e.getHours();const a=s>=12?"pm":"am";s=s%12,s=s||12;const l=String(e.getMinutes()).padStart(2,"0");return`${t}/${r}/${i}, ${s}:${l} ${a}`},isJSON(e){try{return JSON.stringify(JSON.parse(e)),!0}catch{return!1}},viewJSON(e){this.currentJsonValue=this.isJSON(e)?JSON.parse(e):e,this.$store.commit("logs/setIsShowDialog",!0)}}}),ho={class:"px-4"},mo={key:0,class:"w-full border-t border-[#ededed] dark:border-[#232325] relative mt-[1px] bg-white rounded-lg"},go=n("thead",{class:"border-b dark:border-[#232325] dark:bg-[#181818]"},[n("tr",{class:"border-b text-[13px]"},[n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Application ID"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Method"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Response Body"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Request Body"),n("th",{class:"text-center py-3.5 px-3 text-[13px] font-medium primaryColor whitespace-nowrap"},"Created On")])],-1),vo={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},yo={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},xo=["onClick"],_o=["onClick"],bo={class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center"},wo={key:1,class:"min-h-[300px] flex justify-center items-center"};function Do(e,t,r,i,s,a){const l=k("jsonDialog");return g(),_("div",ho,[e.restLogs.length>0?(g(),_("table",mo,[go,n("tbody",null,[(g(!0),_(V,null,K(e.restLogs,(o,c)=>(g(),_("tr",{key:c,class:"border-b text-sm"},[n("td",vo,T(o.applicationId),1),n("td",yo,T(o.method),1),n("td",{class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center truncate max-w-[400px]",onClick:f=>e.viewJSON(o==null?void 0:o.resBody)},T(o.resBody),9,xo),n("td",{class:"py-4 px-3 text-sm primary-color dark:text-[#94A3B8] relative text-center truncate max-w-[400px]",onClick:f=>e.viewJSON(o==null?void 0:o.reqBody)},T(o.reqBody),9,_o),n("td",bo,T(e.formatDate(new Date(o.createdOn))),1)]))),128))])])):(g(),_("div",wo," No Data Found ")),j(l,{jsonValue:e.currentJsonValue},null,8,["jsonValue"])])}const So=R(fo,[["render",Do]]),ko=`<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5">
    </path></svg>`,To=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
</svg>
`,jo=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
</svg>
`,Co={components:{accessLog:po,restlog:So},data(){return{dateSvg:ko,leftArror:To,rightArror:jo,logType:"access_log",fromDate:new Date,toDate:new Date,popover:{visibility:"click",placement:"bottom-start"},currentTab:0,user_id:"",user_url:"",page:1,pages:2,rowsCount:20}},computed:{...G("logs",["getLoader"]),...U("logs",["accessLogs","restLogs"])},methods:{getMinDate(){let e=new Date,t=e.getMonth()-1;return e.setMonth(t),e.toISOString().slice(0,10)},async getReports(e){if(e!="paginate"&&this.resetPagination(),this.fromDate&&this.toDate&&this.logType){let t={userId:this.user_id,uri:this.logType=="access_log"?this.user_url:void 0,fromDate:this.fromDate,toDate:this.toDate,pageNo:this.page,pageSize:this.rowsCount};this.logType=="access_log"?this.$store.dispatch("logs/getAccessLog",t):this.$store.dispatch("logs/getRestLogDetails",t)}else(!this.fromDate||!this.toDate)&&this.$store.dispatch("errorLog/toaster",{data:{title:"Select a from Date and To date",type:"danger",message:"",duration:4500},position:""},{root:!0})},resetFields(e){this.fromDate=this.toDate="",this.logType="access_log",this.user_id=""},resetPagination(){this.page=1,this.pages=2},goBack(){this.page!=1&&(this.page-=1,this.getReports("paginate"))},forward(){this.page==this.pages&&(this.pages+=1),this.page+=1,this.getReports("paginate")},changePage(e){e==this.pages&&(this.pages+=1),this.page=e,this.getReports("paginate")},setPreviousWeekDatetime(){const e=new Date;e.setDate(e.getDate()-7);const t=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");this.fromDate=`${t}-${r}-${i}`},setCurrentDatetime(){const e=new Date,t=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");this.toDate=`${t}-${r}-${i}`}},mounted(){this.resetFields(),this.setCurrentDatetime(),this.setPreviousWeekDatetime()},unmounted(){this.$store.commit("logs/setRestLogs",[]),this.$store.commit("logs/setAccessLogs",[])}},Mo={class:"p-4"},$o=n("p",{class:"primaryColor pb-1 text-sm ml-1"},"Log Type",-1),Lo=n("option",{value:"access_log"},"Access Log",-1),Eo=n("option",{value:"rest_log"},"Rest Log",-1),Ao=[Lo,Eo],Vo=n("label",{class:"primaryColor pb-1 text-sm"},"From Date",-1),Ro={class:"flex items-center justify-between w-[160px] h-10 cursor-pointer border rounded p-2"},Oo=["value"],Yo=["onClick","innerHTML"],No=n("label",{class:"primaryColor pb-1 text-sm"},"To Date",-1),Bo={class:"flex items-center justify-between w-[160px] h-10 cursor-pointer border rounded p-2"},Jo=["value"],Po=["onClick"],Io=["innerHTML"],zo={key:0},Fo=n("p",{class:"primaryColor pb-1 text-sm"},"URL",-1),Ho=n("p",{class:"primaryColor pb-1 text-sm"},"Application ID",-1),qo={class:"flex items-end"},Uo=["disabled"],Go={key:0},Ko={key:1,class:"animate-spin h-5 w-5 text-white flex mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"#fffff",viewBox:"0 0 24 24"},Wo=n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"#fffff","stroke-width":"4"},null,-1),Zo=n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Qo=[Wo,Zo],Xo={key:2,class:"flex justify-end m-4 gap-4"},en={class:"flex items-center"},tn=n("div",{class:"primaryColor text-sm mr-2"},"Rows Per Page : ",-1),on=n("option",{value:5},"5",-1),nn=n("option",{value:10},"10",-1),sn=n("option",{value:15},"15",-1),rn=n("option",{value:20},"20",-1),an=[on,nn,sn,rn],ln={class:"isolate inline-flex -space-x-px rounded shadow-sm bg-white","aria-label":"Pagination"},cn=["innerHTML"],un=["onClick"],dn=["innerHTML"];function pn(e,t,r,i,s,a){var f,m;const l=k("VDatePicker"),o=k("accessLog"),c=k("restlog");return g(),_(V,null,[n("div",Mo,[n("form",{class:"flex flex-wrap gap-3 card p-5 border rounded bg-white shadow-sm",onSubmit:t[6]||(t[6]=re(d=>a.getReports(),["prevent"]))},[n("div",null,[$o,Y(n("select",{"onUpdate:modelValue":t[0]||(t[0]=d=>s.logType=d),onChange:t[1]||(t[1]=d=>s.user_url=""),class:"border min-w-[160px] h-10 rounded focus:outline-0 px-4 text-xs"},Ao,544),[[ee,s.logType]])]),n("div",null,[Vo,j(l,{type:"date","max-date":new Date().toISOString().slice(0,10),"min-date":a.getMinDate(),modelValue:s.fromDate,"onUpdate:modelValue":t[2]||(t[2]=d=>s.fromDate=d),modelModifiers:{string:!0},"is-required":"",popover:s.popover,masks:{input:"DD-MM-YYYY",modelValue:"YYYY-MM-DD"},mode:"date",dateFormat:"YYYY-MM-DD"},{default:$(({togglePopover:d,inputValue:w,inputEvents:M})=>[n("div",Ro,[n("input",z({value:w,placeholder:"DD-MM-YYYY"},F(M,!0),{class:"min-w-[100px] text-xs outline-none cursor-pointer",readonly:""}),null,16,Oo),n("button",{type:"button",class:"flex justify-center items-center bg-accent-100 hover:bg-accent-200 text-accent-700",onClick:()=>d(),innerHTML:s.dateSvg},null,8,Yo)])]),_:1},8,["max-date","min-date","modelValue","popover"])]),n("div",null,[No,j(l,{type:"date","max-date":new Date().toISOString().slice(0,10),modelValue:s.toDate,"onUpdate:modelValue":t[3]||(t[3]=d=>s.toDate=d),modelModifiers:{string:!0},"is-required":"",popover:s.popover,masks:{input:"DD-MM-YYYY",modelValue:"YYYY-MM-DD"},mode:"date",dateFormat:"YYYY-MM-DD"},{default:$(({togglePopover:d,inputValue:w,inputEvents:M})=>[n("div",Bo,[n("input",z({value:w,placeholder:"DD-MM-YYYY"},F(M,!0),{class:"min-w-[100px] text-xs outline-none cursor-pointer",readonly:""}),null,16,Jo),n("button",{type:"button",class:"flex justify-center items-center bg-accent-100 hover:bg-accent-200 text-accent-700",onClick:()=>d()},[n("span",{innerHTML:s.dateSvg},null,8,Io)],8,Po)])]),_:1},8,["max-date","modelValue","popover"])]),s.logType=="access_log"?(g(),_("div",zo,[Fo,Y(n("input",{type:"text",placeholder:"Enter URL","onUpdate:modelValue":t[4]||(t[4]=d=>s.user_url=d),class:"border w-full h-10 rounded focus:outline-0 px-4 text-xs"},null,512),[[te,s.user_url]])])):L("",!0),n("div",null,[Ho,Y(n("input",{type:"text",placeholder:"Enter Application ID","onUpdate:modelValue":t[5]||(t[5]=d=>s.user_id=d),class:"border w-full h-10 rounded focus:outline-0 px-4 text-xs"},null,512),[[te,s.user_id]])]),n("div",qo,[n("button",{type:"submit",class:"bg-blue-500 text-white h-10 w-[120px] cursor-pointer rounded text-xs",disabled:e.getLoader},[e.getLoader?L("",!0):(g(),_("p",Go,"Submit")),e.getLoader?(g(),_("svg",Ko,Qo)):L("",!0)],8,Uo)])],32)]),n("div",null,[s.logType=="access_log"&&!e.getLoader?(g(),N(o,{key:0,onGetReports:a.getReports},null,8,["onGetReports"])):e.getLoader?L("",!0):(g(),N(c,{key:1})),(s.logType=="access_log"?((f=e.accessLogs)==null?void 0:f.length)!=0:((m=e.restLogs)==null?void 0:m.length)!=0)&&!e.getLoader?(g(),_("div",Xo,[n("div",en,[tn,Y(n("select",{"onUpdate:modelValue":t[7]||(t[7]=d=>s.rowsCount=d),class:"border h-10 rounded focus:outline-0 px-4 text-xs cursor-pointer ring-1 ring-inset ring-gray-300",onChange:t[8]||(t[8]=(...d)=>a.getReports&&a.getReports(...d))},an,544),[[ee,s.rowsCount]])]),n("nav",ln,[n("a",{onClick:t[9]||(t[9]=d=>a.goBack()),class:O(["cursor-pointer relative inline-flex items-center rounded-l px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",s.page==1?"cursor-not-allowed":""])},[n("span",{innerHTML:s.leftArror},null,8,cn)],2),(g(!0),_(V,null,K(s.pages,(d,w)=>(g(),_("a",{class:O(["relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20 cursor-pointer",s.page==d?"z-10 bg-indigo-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"]),key:w,onClick:M=>a.changePage(d)},T(d),11,un))),128)),n("a",{onClick:t[10]||(t[10]=d=>a.forward()),class:"cursor-pointer relative inline-flex items-center rounded-r px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},[n("span",{innerHTML:s.rightArror},null,8,dn)])])])):L("",!0)])],64)}const fn=R(Co,[["render",pn]]),hn={components:{tabs:Ve,smsOrMailLogs:Nt,dataLogs:fn},data(){return{currentTab:0}},methods:{changeTab(e){this.$store.commit("setActiveTab",e),this.$store.commit("setQuries",{data:{tab:e},action:"change"}),this.currentTab=e}},mounted(){this.changeTab(this.$store.state.queries.logs.query.tab)}};function mn(e,t,r,i,s,a){const l=k("tabs"),o=k("smsOrMailLogs"),c=k("dataLogs");return g(),_(V,null,[j(l,{class:"mx-4",removeActive:!0,onActiveTab:a.changeTab},null,8,["onActiveTab"]),s.currentTab==0?(g(),N(o,{key:0})):L("",!0),s.currentTab==1?(g(),N(c,{key:1})):L("",!0)],64)}const bn=R(hn,[["render",mn]]);export{bn as default};
